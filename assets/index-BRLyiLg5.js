const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-B_-ab9Lw.js","assets/HomePage-CmWCmrbV.css","assets/ResourcesPage-CaC6DDk8.js","assets/ResourcesPage-BxDS7vIx.css","assets/FoodService-D8WFXfs3.js","assets/FoodService-DTCeX4qE.css","assets/MedicalService-DhpT682S.js","assets/MedicalService-BYv871wv.css","assets/Register-XNpbL2_H.js","assets/Register-DkVUh8IZ.css","assets/AboutUs-W6dtIFVj.js","assets/AboutUs-BdMuCvqZ.css","assets/Staff-DpGv1T8J.js","assets/Staff-CasaAPdk.css","assets/Donate-BEih2-4J.js","assets/Donate-CnV-5rCT.css","assets/EmergencyHelp-C90vyiRG.js","assets/EmergencyHelp-XGrbVJfi.css","assets/VolunteerHub-DSVK-gIS.js","assets/_commonjsHelpers-Cpj98o6Y.js","assets/VolunteerHub-DqIWdtP6.css","assets/UserProfile-CNHlUB1g.js","assets/UserProfile-BCBlWlpy.css","assets/EditProfile-Co06jOjJ.js","assets/EditProfile-BXF-yjDq.css","assets/SupportUs-BusSXakA.js","assets/SupportUs-a6hzT3eh.css","assets/AdminActivities-CmdPv6iJ.js","assets/AdminActivities-CO64m_b0.css","assets/ActivityDetails-DDBOc4dB.js","assets/ActivityDetails-CRkfgDu-.css","assets/EmailSender-C0D6txJJ.js","assets/EmailSender-DzCXefe2.css","assets/MapView-CCbiVlvq.js","assets/MapView-C2LKBPWM.css","assets/StaffList-Ck9ZaGeP.js","assets/vue-good-table.esm-DRyDbzBY.js","assets/vue-good-table-DigOUWDA.css","assets/StaffList-_NB8GlH_.css","assets/ActivitiesList-BZW8tqW5.js","assets/ActivitiesList-ZaEjUKYY.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function pf(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ct={},co=[],vr=()=>{},oT=()=>!1,eu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),mf=t=>t.startsWith("onUpdate:"),hn=Object.assign,gf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},aT=Object.prototype.hasOwnProperty,Xe=(t,e)=>aT.call(t,e),Ee=Array.isArray,lo=t=>sc(t)==="[object Map]",tu=t=>sc(t)==="[object Set]",_p=t=>sc(t)==="[object Date]",De=t=>typeof t=="function",Ot=t=>typeof t=="string",sr=t=>typeof t=="symbol",pt=t=>t!==null&&typeof t=="object",Wg=t=>(pt(t)||De(t))&&De(t.then)&&De(t.catch),zg=Object.prototype.toString,sc=t=>zg.call(t),cT=t=>sc(t).slice(8,-1),Kg=t=>sc(t)==="[object Object]",_f=t=>Ot(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,va=pf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},lT=/-(\w)/g,Qn=nu(t=>t.replace(lT,(e,n)=>n?n.toUpperCase():"")),uT=/\B([A-Z])/g,Hs=nu(t=>t.replace(uT,"-$1").toLowerCase()),ru=nu(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zu=nu(t=>t?`on${ru(t)}`:""),Ps=(t,e)=>!Object.is(t,e),ol=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ah=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Tl=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let yp;const su=()=>yp||(yp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yf(t){if(Ee(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ot(r)?pT(r):yf(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ot(t)||pt(t))return t}const hT=/;(?![^(]*\))/g,fT=/:([^]+)/,dT=/\/\*[^]*?\*\//g;function pT(t){const e={};return t.replace(dT,"").split(hT).forEach(n=>{if(n){const r=n.split(fT);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ma(t){let e="";if(Ot(t))e=t;else if(Ee(t))for(let n=0;n<t.length;n++){const r=Ma(t[n]);r&&(e+=r+" ")}else if(pt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const mT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gT=pf(mT);function Gg(t){return!!t||t===""}function _T(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=iu(t[r],e[r]);return n}function iu(t,e){if(t===e)return!0;let n=_p(t),r=_p(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=sr(t),r=sr(e),n||r)return t===e;if(n=Ee(t),r=Ee(e),n||r)return n&&r?_T(t,e):!1;if(n=pt(t),r=pt(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const c=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(c&&!u||!c&&u||!iu(t[o],e[o]))return!1}}return String(t)===String(e)}function yT(t,e){return t.findIndex(n=>iu(n,e))}const Qg=t=>!!(t&&t.__v_isRef===!0),vf=t=>Ot(t)?t:t==null?"":Ee(t)||pt(t)&&(t.toString===zg||!De(t.toString))?Qg(t)?vf(t.value):JSON.stringify(t,Jg,2):String(t),Jg=(t,e)=>Qg(e)?Jg(t,e.value):lo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[eh(r,i)+" =>"]=s,n),{})}:tu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>eh(n))}:sr(e)?eh(e):pt(e)&&!Ee(e)&&!Kg(e)?String(e):e,eh=(t,e="")=>{var n;return sr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let an;class Yg{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=an,!e&&an&&(this.index=(an.scopes||(an.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=an;try{return an=this,e()}finally{an=n}}}on(){++this._on===1&&(this.prevScope=an,an=this)}off(){this._on>0&&--this._on===0&&(an=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Xg(t){return new Yg(t)}function Zg(){return an}function vT(t,e=!1){an&&an.cleanups.push(t)}let dt;const th=new WeakSet;class e_{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,an&&an.active&&an.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,th.has(this)&&(th.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||n_(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,vp(this),r_(this);const e=dt,n=rr;dt=this,rr=!0;try{return this.fn()}finally{s_(this),dt=e,rr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Tf(e);this.deps=this.depsTail=void 0,vp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?th.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Sh(this)&&this.run()}get dirty(){return Sh(this)}}let t_=0,Ea,wa;function n_(t,e=!1){if(t.flags|=8,e){t.next=wa,wa=t;return}t.next=Ea,Ea=t}function Ef(){t_++}function wf(){if(--t_>0)return;if(wa){let e=wa;for(wa=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ea;){let e=Ea;for(Ea=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function r_(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function s_(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Tf(r),ET(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function Sh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(i_(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function i_(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fa)||(t.globalVersion=Fa,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Sh(t))))return;t.flags|=2;const e=t.dep,n=dt,r=rr;dt=t,rr=!0;try{r_(t);const s=t.fn(t._value);(e.version===0||Ps(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{dt=n,rr=r,s_(t),t.flags&=-3}}function Tf(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Tf(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function ET(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let rr=!0;const o_=[];function Jr(){o_.push(rr),rr=!1}function Yr(){const t=o_.pop();rr=t===void 0?!0:t}function vp(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=dt;dt=void 0;try{e()}finally{dt=n}}}let Fa=0;class wT{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!dt||!rr||dt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==dt)n=this.activeLink=new wT(dt,this),dt.deps?(n.prevDep=dt.depsTail,dt.depsTail.nextDep=n,dt.depsTail=n):dt.deps=dt.depsTail=n,a_(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=dt.depsTail,n.nextDep=void 0,dt.depsTail.nextDep=n,dt.depsTail=n,dt.deps===n&&(dt.deps=r)}return n}trigger(e){this.version++,Fa++,this.notify(e)}notify(e){Ef();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{wf()}}}function a_(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)a_(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const bl=new WeakMap,_i=Symbol(""),Rh=Symbol(""),Ua=Symbol("");function ln(t,e,n){if(rr&&dt){let r=bl.get(t);r||bl.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new bf),s.map=r,s.key=n),s.track()}}function qr(t,e,n,r,s,i){const o=bl.get(t);if(!o){Fa++;return}const c=u=>{u&&u.trigger()};if(Ef(),e==="clear")o.forEach(c);else{const u=Ee(t),f=u&&_f(n);if(u&&n==="length"){const p=Number(r);o.forEach((g,v)=>{(v==="length"||v===Ua||!sr(v)&&v>=p)&&c(g)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),f&&c(o.get(Ua)),e){case"add":u?f&&c(o.get("length")):(c(o.get(_i)),lo(t)&&c(o.get(Rh)));break;case"delete":u||(c(o.get(_i)),lo(t)&&c(o.get(Rh)));break;case"set":lo(t)&&c(o.get(_i));break}}wf()}function TT(t,e){const n=bl.get(t);return n&&n.get(e)}function Xi(t){const e=Qe(t);return e===t?e:(ln(e,"iterate",Ua),Kn(t)?e:e.map(Jt))}function ou(t){return ln(t=Qe(t),"iterate",Ua),t}const bT={__proto__:null,[Symbol.iterator](){return nh(this,Symbol.iterator,Jt)},concat(...t){return Xi(this).concat(...t.map(e=>Ee(e)?Xi(e):e))},entries(){return nh(this,"entries",t=>(t[1]=Jt(t[1]),t))},every(t,e){return jr(this,"every",t,e,void 0,arguments)},filter(t,e){return jr(this,"filter",t,e,n=>n.map(Jt),arguments)},find(t,e){return jr(this,"find",t,e,Jt,arguments)},findIndex(t,e){return jr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return jr(this,"findLast",t,e,Jt,arguments)},findLastIndex(t,e){return jr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return jr(this,"forEach",t,e,void 0,arguments)},includes(...t){return rh(this,"includes",t)},indexOf(...t){return rh(this,"indexOf",t)},join(t){return Xi(this).join(t)},lastIndexOf(...t){return rh(this,"lastIndexOf",t)},map(t,e){return jr(this,"map",t,e,void 0,arguments)},pop(){return ca(this,"pop")},push(...t){return ca(this,"push",t)},reduce(t,...e){return Ep(this,"reduce",t,e)},reduceRight(t,...e){return Ep(this,"reduceRight",t,e)},shift(){return ca(this,"shift")},some(t,e){return jr(this,"some",t,e,void 0,arguments)},splice(...t){return ca(this,"splice",t)},toReversed(){return Xi(this).toReversed()},toSorted(t){return Xi(this).toSorted(t)},toSpliced(...t){return Xi(this).toSpliced(...t)},unshift(...t){return ca(this,"unshift",t)},values(){return nh(this,"values",Jt)}};function nh(t,e,n){const r=ou(t),s=r[e]();return r!==t&&!Kn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const IT=Array.prototype;function jr(t,e,n,r,s,i){const o=ou(t),c=o!==t&&!Kn(t),u=o[e];if(u!==IT[e]){const g=u.apply(t,i);return c?Jt(g):g}let f=n;o!==t&&(c?f=function(g,v){return n.call(this,Jt(g),v,t)}:n.length>2&&(f=function(g,v){return n.call(this,g,v,t)}));const p=u.call(o,f,r);return c&&s?s(p):p}function Ep(t,e,n,r){const s=ou(t);let i=n;return s!==t&&(Kn(t)?n.length>3&&(i=function(o,c,u){return n.call(this,o,c,u,t)}):i=function(o,c,u){return n.call(this,o,Jt(c),u,t)}),s[e](i,...r)}function rh(t,e,n){const r=Qe(t);ln(r,"iterate",Ua);const s=r[e](...n);return(s===-1||s===!1)&&Sf(n[0])?(n[0]=Qe(n[0]),r[e](...n)):s}function ca(t,e,n=[]){Jr(),Ef();const r=Qe(t)[e].apply(t,n);return wf(),Yr(),r}const AT=pf("__proto__,__v_isRef,__isVue"),c_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(sr));function ST(t){sr(t)||(t=String(t));const e=Qe(this);return ln(e,"has",t),e.hasOwnProperty(t)}class l_{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?LT:d_:i?f_:h_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Ee(e);if(!s){let u;if(o&&(u=bT[n]))return u;if(n==="hasOwnProperty")return ST}const c=Reflect.get(e,n,Rt(e)?e:r);return(sr(n)?c_.has(n):AT(n))||(s||ln(e,"get",n),i)?c:Rt(c)?o&&_f(n)?c:c.value:pt(c)?s?m_(c):ic(c):c}}class u_ extends l_{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const u=Vs(i);if(!Kn(r)&&!Vs(r)&&(i=Qe(i),r=Qe(r)),!Ee(e)&&Rt(i)&&!Rt(r))return u?!1:(i.value=r,!0)}const o=Ee(e)&&_f(n)?Number(n)<e.length:Xe(e,n),c=Reflect.set(e,n,r,Rt(e)?e:s);return e===Qe(s)&&(o?Ps(r,i)&&qr(e,"set",n,r):qr(e,"add",n,r)),c}deleteProperty(e,n){const r=Xe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&qr(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!sr(n)||!c_.has(n))&&ln(e,"has",n),r}ownKeys(e){return ln(e,"iterate",Ee(e)?"length":_i),Reflect.ownKeys(e)}}class RT extends l_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const CT=new u_,PT=new RT,kT=new u_(!0);const Ch=t=>t,Gc=t=>Reflect.getPrototypeOf(t);function OT(t,e,n){return function(...r){const s=this.__v_raw,i=Qe(s),o=lo(i),c=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,f=s[t](...r),p=n?Ch:e?Il:Jt;return!e&&ln(i,"iterate",u?Rh:_i),{next(){const{value:g,done:v}=f.next();return v?{value:g,done:v}:{value:c?[p(g[0]),p(g[1])]:p(g),done:v}},[Symbol.iterator](){return this}}}}function Qc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function DT(t,e){const n={get(s){const i=this.__v_raw,o=Qe(i),c=Qe(s);t||(Ps(s,c)&&ln(o,"get",s),ln(o,"get",c));const{has:u}=Gc(o),f=e?Ch:t?Il:Jt;if(u.call(o,s))return f(i.get(s));if(u.call(o,c))return f(i.get(c));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&ln(Qe(s),"iterate",_i),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Qe(i),c=Qe(s);return t||(Ps(s,c)&&ln(o,"has",s),ln(o,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const o=this,c=o.__v_raw,u=Qe(c),f=e?Ch:t?Il:Jt;return!t&&ln(u,"iterate",_i),c.forEach((p,g)=>s.call(i,f(p),f(g),o))}};return hn(n,t?{add:Qc("add"),set:Qc("set"),delete:Qc("delete"),clear:Qc("clear")}:{add(s){!e&&!Kn(s)&&!Vs(s)&&(s=Qe(s));const i=Qe(this);return Gc(i).has.call(i,s)||(i.add(s),qr(i,"add",s,s)),this},set(s,i){!e&&!Kn(i)&&!Vs(i)&&(i=Qe(i));const o=Qe(this),{has:c,get:u}=Gc(o);let f=c.call(o,s);f||(s=Qe(s),f=c.call(o,s));const p=u.call(o,s);return o.set(s,i),f?Ps(i,p)&&qr(o,"set",s,i):qr(o,"add",s,i),this},delete(s){const i=Qe(this),{has:o,get:c}=Gc(i);let u=o.call(i,s);u||(s=Qe(s),u=o.call(i,s)),c&&c.call(i,s);const f=i.delete(s);return u&&qr(i,"delete",s,void 0),f},clear(){const s=Qe(this),i=s.size!==0,o=s.clear();return i&&qr(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=OT(s,t,e)}),n}function If(t,e){const n=DT(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Xe(n,s)&&s in r?n:r,s,i)}const NT={get:If(!1,!1)},xT={get:If(!1,!0)},VT={get:If(!0,!1)};const h_=new WeakMap,f_=new WeakMap,d_=new WeakMap,LT=new WeakMap;function MT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FT(t){return t.__v_skip||!Object.isExtensible(t)?0:MT(cT(t))}function ic(t){return Vs(t)?t:Af(t,!1,CT,NT,h_)}function p_(t){return Af(t,!1,kT,xT,f_)}function m_(t){return Af(t,!0,PT,VT,d_)}function Af(t,e,n,r,s){if(!pt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=FT(t);if(i===0)return t;const o=s.get(t);if(o)return o;const c=new Proxy(t,i===2?r:n);return s.set(t,c),c}function ks(t){return Vs(t)?ks(t.__v_raw):!!(t&&t.__v_isReactive)}function Vs(t){return!!(t&&t.__v_isReadonly)}function Kn(t){return!!(t&&t.__v_isShallow)}function Sf(t){return t?!!t.__v_raw:!1}function Qe(t){const e=t&&t.__v_raw;return e?Qe(e):t}function Rf(t){return!Xe(t,"__v_skip")&&Object.isExtensible(t)&&Ah(t,"__v_skip",!0),t}const Jt=t=>pt(t)?ic(t):t,Il=t=>pt(t)?m_(t):t;function Rt(t){return t?t.__v_isRef===!0:!1}function $a(t){return g_(t,!1)}function UT(t){return g_(t,!0)}function g_(t,e){return Rt(t)?t:new $T(t,e)}class $T{constructor(e,n){this.dep=new bf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Qe(e),this._value=n?e:Jt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Kn(e)||Vs(e);e=r?e:Qe(e),Ps(e,n)&&(this._rawValue=e,this._value=r?e:Jt(e),this.dep.trigger())}}function uo(t){return Rt(t)?t.value:t}const jT={get:(t,e,n)=>e==="__v_raw"?t:uo(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Rt(s)&&!Rt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function __(t){return ks(t)?t:new Proxy(t,jT)}function BT(t){const e=Ee(t)?new Array(t.length):{};for(const n in t)e[n]=qT(t,n);return e}class HT{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return TT(Qe(this._object),this._key)}}function qT(t,e,n){const r=t[e];return Rt(r)?r:new HT(t,e,n)}class WT{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new bf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&dt!==this)return n_(this,!0),!0}get value(){const e=this.dep.track();return i_(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function zT(t,e,n=!1){let r,s;return De(t)?r=t:(r=t.get,s=t.set),new WT(r,s,n)}const Jc={},Al=new WeakMap;let di;function KT(t,e=!1,n=di){if(n){let r=Al.get(n);r||Al.set(n,r=[]),r.push(t)}}function GT(t,e,n=ct){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:c,call:u}=n,f=te=>s?te:Kn(te)||s===!1||s===0?Wr(te,1):Wr(te);let p,g,v,y,O=!1,L=!1;if(Rt(t)?(g=()=>t.value,O=Kn(t)):ks(t)?(g=()=>f(t),O=!0):Ee(t)?(L=!0,O=t.some(te=>ks(te)||Kn(te)),g=()=>t.map(te=>{if(Rt(te))return te.value;if(ks(te))return f(te);if(De(te))return u?u(te,2):te()})):De(t)?e?g=u?()=>u(t,2):t:g=()=>{if(v){Jr();try{v()}finally{Yr()}}const te=di;di=p;try{return u?u(t,3,[y]):t(y)}finally{di=te}}:g=vr,e&&s){const te=g,we=s===!0?1/0:s;g=()=>Wr(te(),we)}const U=Zg(),J=()=>{p.stop(),U&&U.active&&gf(U.effects,p)};if(i&&e){const te=e;e=(...we)=>{te(...we),J()}}let W=L?new Array(t.length).fill(Jc):Jc;const Z=te=>{if(!(!(p.flags&1)||!p.dirty&&!te))if(e){const we=p.run();if(s||O||(L?we.some((Ve,C)=>Ps(Ve,W[C])):Ps(we,W))){v&&v();const Ve=di;di=p;try{const C=[we,W===Jc?void 0:L&&W[0]===Jc?[]:W,y];W=we,u?u(e,3,C):e(...C)}finally{di=Ve}}}else p.run()};return c&&c(Z),p=new e_(g),p.scheduler=o?()=>o(Z,!1):Z,y=te=>KT(te,!1,p),v=p.onStop=()=>{const te=Al.get(p);if(te){if(u)u(te,4);else for(const we of te)we();Al.delete(p)}},e?r?Z(!0):W=p.run():o?o(Z.bind(null,!0),!0):p.run(),J.pause=p.pause.bind(p),J.resume=p.resume.bind(p),J.stop=J,J}function Wr(t,e=1/0,n){if(e<=0||!pt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Rt(t))Wr(t.value,e,n);else if(Ee(t))for(let r=0;r<t.length;r++)Wr(t[r],e,n);else if(tu(t)||lo(t))t.forEach(r=>{Wr(r,e,n)});else if(Kg(t)){for(const r in t)Wr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Wr(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function oc(t,e,n,r){try{return r?t(...r):t()}catch(s){au(s,e,n)}}function Rr(t,e,n,r){if(De(t)){const s=oc(t,e,n,r);return s&&Wg(s)&&s.catch(i=>{au(i,e,n)}),s}if(Ee(t)){const s=[];for(let i=0;i<t.length;i++)s.push(Rr(t[i],e,n,r));return s}}function au(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ct;if(e){let c=e.parent;const u=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const p=c.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](t,u,f)===!1)return}c=c.parent}if(i){Jr(),oc(i,null,10,[t,u,f]),Yr();return}}QT(t,n,s,r,o)}function QT(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Tn=[];let gr=-1;const ho=[];let ws=null,to=0;const y_=Promise.resolve();let Sl=null;function cu(t){const e=Sl||y_;return t?e.then(this?t.bind(this):t):e}function JT(t){let e=gr+1,n=Tn.length;for(;e<n;){const r=e+n>>>1,s=Tn[r],i=ja(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function Cf(t){if(!(t.flags&1)){const e=ja(t),n=Tn[Tn.length-1];!n||!(t.flags&2)&&e>=ja(n)?Tn.push(t):Tn.splice(JT(e),0,t),t.flags|=1,v_()}}function v_(){Sl||(Sl=y_.then(w_))}function YT(t){Ee(t)?ho.push(...t):ws&&t.id===-1?ws.splice(to+1,0,t):t.flags&1||(ho.push(t),t.flags|=1),v_()}function wp(t,e,n=gr+1){for(;n<Tn.length;n++){const r=Tn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Tn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function E_(t){if(ho.length){const e=[...new Set(ho)].sort((n,r)=>ja(n)-ja(r));if(ho.length=0,ws){ws.push(...e);return}for(ws=e,to=0;to<ws.length;to++){const n=ws[to];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ws=null,to=0}}const ja=t=>t.id==null?t.flags&2?-1:1/0:t.id;function w_(t){try{for(gr=0;gr<Tn.length;gr++){const e=Tn[gr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),oc(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;gr<Tn.length;gr++){const e=Tn[gr];e&&(e.flags&=-2)}gr=-1,Tn.length=0,E_(),Sl=null,(Tn.length||ho.length)&&w_()}}let Wt=null,T_=null;function Rl(t){const e=Wt;return Wt=t,T_=t&&t.type.__scopeId||null,e}function Ke(t,e=Wt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Op(-1);const i=Rl(e);let o;try{o=t(...s)}finally{Rl(i),r._d&&Op(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function UD(t,e){if(Wt===null)return t;const n=fu(Wt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,c,u=ct]=e[s];i&&(De(i)&&(i={mounted:i,updated:i}),i.deep&&Wr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:u}))}return t}function hi(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];i&&(c.oldValue=i[o].value);let u=c.dir[r];u&&(Jr(),Rr(u,n,8,[t.el,c,t,e]),Yr())}}const XT=Symbol("_vte"),ZT=t=>t.__isTeleport;function Pf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Pf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function b_(t,e){return De(t)?hn({name:t.name},e,{setup:t}):t}function I_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ta(t,e,n,r,s=!1){if(Ee(t)){t.forEach((O,L)=>Ta(O,e&&(Ee(e)?e[L]:e),n,r,s));return}if(fo(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ta(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?fu(r.component):r.el,o=s?null:i,{i:c,r:u}=t,f=e&&e.r,p=c.refs===ct?c.refs={}:c.refs,g=c.setupState,v=Qe(g),y=g===ct?()=>!1:O=>Xe(v,O);if(f!=null&&f!==u&&(Ot(f)?(p[f]=null,y(f)&&(g[f]=null)):Rt(f)&&(f.value=null)),De(u))oc(u,c,12,[o,p]);else{const O=Ot(u),L=Rt(u);if(O||L){const U=()=>{if(t.f){const J=O?y(u)?g[u]:p[u]:u.value;s?Ee(J)&&gf(J,i):Ee(J)?J.includes(i)||J.push(i):O?(p[u]=[i],y(u)&&(g[u]=p[u])):(u.value=[i],t.k&&(p[t.k]=u.value))}else O?(p[u]=o,y(u)&&(g[u]=o)):L&&(u.value=o,t.k&&(p[t.k]=o))};o?(U.id=-1,Vn(U,n)):U()}}}su().requestIdleCallback;su().cancelIdleCallback;const fo=t=>!!t.type.__asyncLoader,A_=t=>t.type.__isKeepAlive;function eb(t,e){S_(t,"a",e)}function tb(t,e){S_(t,"da",e)}function S_(t,e,n=Yt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(lu(e,r,n),n){let s=n.parent;for(;s&&s.parent;)A_(s.parent.vnode)&&nb(r,e,n,s),s=s.parent}}function nb(t,e,n,r){const s=lu(e,t,r,!0);kf(()=>{gf(r[e],s)},n)}function lu(t,e,n=Yt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Jr();const c=ac(n),u=Rr(e,n,t,o);return c(),Yr(),u});return r?s.unshift(i):s.push(i),i}}const rs=t=>(e,n=Yt)=>{(!qa||t==="sp")&&lu(t,(...r)=>e(...r),n)},rb=rs("bm"),R_=rs("m"),sb=rs("bu"),ib=rs("u"),ob=rs("bum"),kf=rs("um"),ab=rs("sp"),cb=rs("rtg"),lb=rs("rtc");function ub(t,e=Yt){lu("ec",t,e)}const hb="components";function ba(t,e){return db(hb,t,!0,e)||t}const fb=Symbol.for("v-ndc");function db(t,e,n=!0,r=!1){const s=Wt||Yt;if(s){const i=s.type;{const c=eI(i,!1);if(c&&(c===e||c===Qn(e)||c===ru(Qn(e))))return i}const o=Tp(s[t]||i[t],e)||Tp(s.appContext[t],e);return!o&&r?i:o}}function Tp(t,e){return t&&(t[e]||t[Qn(e)]||t[ru(Qn(e))])}function $D(t,e,n,r){let s;const i=n,o=Ee(t);if(o||Ot(t)){const c=o&&ks(t);let u=!1,f=!1;c&&(u=!Kn(t),f=Vs(t),t=ou(t)),s=new Array(t.length);for(let p=0,g=t.length;p<g;p++)s[p]=e(u?f?Il(Jt(t[p])):Jt(t[p]):t[p],p,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let c=0;c<t;c++)s[c]=e(c+1,c,void 0,i)}else if(pt(t))if(t[Symbol.iterator])s=Array.from(t,(c,u)=>e(c,u,void 0,i));else{const c=Object.keys(t);s=new Array(c.length);for(let u=0,f=c.length;u<f;u++){const p=c[u];s[u]=e(t[p],p,u,i)}}else s=[];return s}function jD(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Ee(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function BD(t,e,n={},r,s){if(Wt.ce||Wt.parent&&fo(Wt.parent)&&Wt.parent.ce)return e!=="default"&&(n.name=e),Sn(),Nh(Cn,null,[be("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),Sn();const o=i&&C_(i(n)),c=n.key||o&&o.key,u=Nh(Cn,{key:(c&&!sr(c)?c:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function C_(t){return t.some(e=>Ha(e)?!(e.type===Xr||e.type===Cn&&!C_(e.children)):!0)?t:null}const Ph=t=>t?G_(t)?fu(t):Ph(t.parent):null,Ia=hn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ph(t.parent),$root:t=>Ph(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>k_(t),$forceUpdate:t=>t.f||(t.f=()=>{Cf(t.update)}),$nextTick:t=>t.n||(t.n=cu.bind(t.proxy)),$watch:t=>Vb.bind(t)}),sh=(t,e)=>t!==ct&&!t.__isScriptSetup&&Xe(t,e),pb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:c,appContext:u}=t;let f;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(sh(r,e))return o[e]=1,r[e];if(s!==ct&&Xe(s,e))return o[e]=2,s[e];if((f=t.propsOptions[0])&&Xe(f,e))return o[e]=3,i[e];if(n!==ct&&Xe(n,e))return o[e]=4,n[e];kh&&(o[e]=0)}}const p=Ia[e];let g,v;if(p)return e==="$attrs"&&ln(t.attrs,"get",""),p(t);if((g=c.__cssModules)&&(g=g[e]))return g;if(n!==ct&&Xe(n,e))return o[e]=4,n[e];if(v=u.config.globalProperties,Xe(v,e))return v[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return sh(s,e)?(s[e]=n,!0):r!==ct&&Xe(r,e)?(r[e]=n,!0):Xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let c;return!!n[o]||t!==ct&&Xe(t,o)||sh(e,o)||(c=i[0])&&Xe(c,o)||Xe(r,o)||Xe(Ia,o)||Xe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function bp(t){return Ee(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let kh=!0;function mb(t){const e=k_(t),n=t.proxy,r=t.ctx;kh=!1,e.beforeCreate&&Ip(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:c,provide:u,inject:f,created:p,beforeMount:g,mounted:v,beforeUpdate:y,updated:O,activated:L,deactivated:U,beforeDestroy:J,beforeUnmount:W,destroyed:Z,unmounted:te,render:we,renderTracked:Ve,renderTriggered:C,errorCaptured:T,serverPrefetch:b,expose:R,inheritAttrs:P,components:N,directives:S,filters:Ct}=e;if(f&&gb(f,r,null),o)for(const ve in o){const Le=o[ve];De(Le)&&(r[ve]=Le.bind(n))}if(s){const ve=s.call(n,n);pt(ve)&&(t.data=ic(ve))}if(kh=!0,i)for(const ve in i){const Le=i[ve],en=De(Le)?Le.bind(n,n):De(Le.get)?Le.get.bind(n,n):vr,z=!De(Le)&&De(Le.set)?Le.set.bind(n):vr,tn=Pn({get:en,set:z});Object.defineProperty(r,ve,{enumerable:!0,configurable:!0,get:()=>tn.value,set:lt=>tn.value=lt})}if(c)for(const ve in c)P_(c[ve],r,n,ve);if(u){const ve=De(u)?u.call(n):u;Reflect.ownKeys(ve).forEach(Le=>{al(Le,ve[Le])})}p&&Ip(p,t,"c");function et(ve,Le){Ee(Le)?Le.forEach(en=>ve(en.bind(n))):Le&&ve(Le.bind(n))}if(et(rb,g),et(R_,v),et(sb,y),et(ib,O),et(eb,L),et(tb,U),et(ub,T),et(lb,Ve),et(cb,C),et(ob,W),et(kf,te),et(ab,b),Ee(R))if(R.length){const ve=t.exposed||(t.exposed={});R.forEach(Le=>{Object.defineProperty(ve,Le,{get:()=>n[Le],set:en=>n[Le]=en})})}else t.exposed||(t.exposed={});we&&t.render===vr&&(t.render=we),P!=null&&(t.inheritAttrs=P),N&&(t.components=N),S&&(t.directives=S),b&&I_(t)}function gb(t,e,n=vr){Ee(t)&&(t=Oh(t));for(const r in t){const s=t[r];let i;pt(s)?"default"in s?i=Gn(s.from||r,s.default,!0):i=Gn(s.from||r):i=Gn(s),Rt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ip(t,e,n){Rr(Ee(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function P_(t,e,n,r){let s=r.includes(".")?H_(n,r):()=>n[r];if(Ot(t)){const i=e[t];De(i)&&Aa(s,i)}else if(De(t))Aa(s,t.bind(n));else if(pt(t))if(Ee(t))t.forEach(i=>P_(i,e,n,r));else{const i=De(t.handler)?t.handler.bind(n):e[t.handler];De(i)&&Aa(s,i,t)}}function k_(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let u;return c?u=c:!s.length&&!n&&!r?u=e:(u={},s.length&&s.forEach(f=>Cl(u,f,o,!0)),Cl(u,e,o)),pt(e)&&i.set(e,u),u}function Cl(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Cl(t,i,n,!0),s&&s.forEach(o=>Cl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const c=_b[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const _b={data:Ap,props:Sp,emits:Sp,methods:ha,computed:ha,beforeCreate:wn,created:wn,beforeMount:wn,mounted:wn,beforeUpdate:wn,updated:wn,beforeDestroy:wn,beforeUnmount:wn,destroyed:wn,unmounted:wn,activated:wn,deactivated:wn,errorCaptured:wn,serverPrefetch:wn,components:ha,directives:ha,watch:vb,provide:Ap,inject:yb};function Ap(t,e){return e?t?function(){return hn(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function yb(t,e){return ha(Oh(t),Oh(e))}function Oh(t){if(Ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function wn(t,e){return t?[...new Set([].concat(t,e))]:e}function ha(t,e){return t?hn(Object.create(null),t,e):e}function Sp(t,e){return t?Ee(t)&&Ee(e)?[...new Set([...t,...e])]:hn(Object.create(null),bp(t),bp(e??{})):e}function vb(t,e){if(!t)return e;if(!e)return t;const n=hn(Object.create(null),t);for(const r in e)n[r]=wn(t[r],e[r]);return n}function O_(){return{app:null,config:{isNativeTag:oT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Eb=0;function wb(t,e){return function(r,s=null){De(r)||(r=hn({},r)),s!=null&&!pt(s)&&(s=null);const i=O_(),o=new WeakSet,c=[];let u=!1;const f=i.app={_uid:Eb++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:nI,get config(){return i.config},set config(p){},use(p,...g){return o.has(p)||(p&&De(p.install)?(o.add(p),p.install(f,...g)):De(p)&&(o.add(p),p(f,...g))),f},mixin(p){return i.mixins.includes(p)||i.mixins.push(p),f},component(p,g){return g?(i.components[p]=g,f):i.components[p]},directive(p,g){return g?(i.directives[p]=g,f):i.directives[p]},mount(p,g,v){if(!u){const y=f._ceVNode||be(r,s);return y.appContext=i,v===!0?v="svg":v===!1&&(v=void 0),t(y,p,v),u=!0,f._container=p,p.__vue_app__=f,fu(y.component)}},onUnmount(p){c.push(p)},unmount(){u&&(Rr(c,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(p,g){return i.provides[p]=g,f},runWithContext(p){const g=yi;yi=f;try{return p()}finally{yi=g}}};return f}}let yi=null;function al(t,e){if(Yt){let n=Yt.provides;const r=Yt.parent&&Yt.parent.provides;r===n&&(n=Yt.provides=Object.create(r)),n[t]=e}}function Gn(t,e,n=!1){const r=Yt||Wt;if(r||yi){let s=yi?yi._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&De(e)?e.call(r&&r.proxy):e}}function Tb(){return!!(Yt||Wt||yi)}const D_={},N_=()=>Object.create(D_),x_=t=>Object.getPrototypeOf(t)===D_;function bb(t,e,n,r=!1){const s={},i=N_();t.propsDefaults=Object.create(null),V_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:p_(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Ib(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,c=Qe(s),[u]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let g=0;g<p.length;g++){let v=p[g];if(uu(t.emitsOptions,v))continue;const y=e[v];if(u)if(Xe(i,v))y!==i[v]&&(i[v]=y,f=!0);else{const O=Qn(v);s[O]=Dh(u,c,O,y,t,!1)}else y!==i[v]&&(i[v]=y,f=!0)}}}else{V_(t,e,s,i)&&(f=!0);let p;for(const g in c)(!e||!Xe(e,g)&&((p=Hs(g))===g||!Xe(e,p)))&&(u?n&&(n[g]!==void 0||n[p]!==void 0)&&(s[g]=Dh(u,c,g,void 0,t,!0)):delete s[g]);if(i!==c)for(const g in i)(!e||!Xe(e,g))&&(delete i[g],f=!0)}f&&qr(t.attrs,"set","")}function V_(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,c;if(e)for(let u in e){if(va(u))continue;const f=e[u];let p;s&&Xe(s,p=Qn(u))?!i||!i.includes(p)?n[p]=f:(c||(c={}))[p]=f:uu(t.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,o=!0)}if(i){const u=Qe(n),f=c||ct;for(let p=0;p<i.length;p++){const g=i[p];n[g]=Dh(s,u,g,f[g],t,!Xe(f,g))}}return o}function Dh(t,e,n,r,s,i){const o=t[n];if(o!=null){const c=Xe(o,"default");if(c&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&De(u)){const{propsDefaults:f}=s;if(n in f)r=f[n];else{const p=ac(s);r=f[n]=u.call(null,e),p()}}else r=u;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===Hs(n))&&(r=!0))}return r}const Ab=new WeakMap;function L_(t,e,n=!1){const r=n?Ab:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},c=[];let u=!1;if(!De(t)){const p=g=>{u=!0;const[v,y]=L_(g,e,!0);hn(o,v),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!i&&!u)return pt(t)&&r.set(t,co),co;if(Ee(i))for(let p=0;p<i.length;p++){const g=Qn(i[p]);Rp(g)&&(o[g]=ct)}else if(i)for(const p in i){const g=Qn(p);if(Rp(g)){const v=i[p],y=o[g]=Ee(v)||De(v)?{type:v}:hn({},v),O=y.type;let L=!1,U=!0;if(Ee(O))for(let J=0;J<O.length;++J){const W=O[J],Z=De(W)&&W.name;if(Z==="Boolean"){L=!0;break}else Z==="String"&&(U=!1)}else L=De(O)&&O.name==="Boolean";y[0]=L,y[1]=U,(L||Xe(y,"default"))&&c.push(g)}}const f=[o,c];return pt(t)&&r.set(t,f),f}function Rp(t){return t[0]!=="$"&&!va(t)}const Of=t=>t[0]==="_"||t==="$stable",Df=t=>Ee(t)?t.map(yr):[yr(t)],Sb=(t,e,n)=>{if(e._n)return e;const r=Ke((...s)=>Df(e(...s)),n);return r._c=!1,r},M_=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Of(s))continue;const i=t[s];if(De(i))e[s]=Sb(s,i,r);else if(i!=null){const o=Df(i);e[s]=()=>o}}},F_=(t,e)=>{const n=Df(e);t.slots.default=()=>n},U_=(t,e,n)=>{for(const r in e)(n||!Of(r))&&(t[r]=e[r])},Rb=(t,e,n)=>{const r=t.slots=N_();if(t.vnode.shapeFlag&32){const s=e.__;s&&Ah(r,"__",s,!0);const i=e._;i?(U_(r,e,n),n&&Ah(r,"_",i,!0)):M_(e,r)}else e&&F_(t,e)},Cb=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=ct;if(r.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:U_(s,e,n):(i=!e.$stable,M_(e,s)),o=e}else e&&(F_(t,e),o={default:1});if(i)for(const c in s)!Of(c)&&o[c]==null&&delete s[c]},Vn=Bb;function Pb(t){return kb(t)}function kb(t,e){const n=su();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:c,createComment:u,setText:f,setElementText:p,parentNode:g,nextSibling:v,setScopeId:y=vr,insertStaticContent:O}=t,L=(I,A,x,j=null,H=null,q=null,ae=void 0,ne=null,ee=!!A.dynamicChildren)=>{if(I===A)return;I&&!la(I,A)&&(j=B(I),lt(I,H,q,!0),I=null),A.patchFlag===-2&&(ee=!1,A.dynamicChildren=null);const{type:Y,ref:pe,shapeFlag:oe}=A;switch(Y){case hu:U(I,A,x,j);break;case Xr:J(I,A,x,j);break;case cl:I==null&&W(A,x,j,ae);break;case Cn:N(I,A,x,j,H,q,ae,ne,ee);break;default:oe&1?we(I,A,x,j,H,q,ae,ne,ee):oe&6?S(I,A,x,j,H,q,ae,ne,ee):(oe&64||oe&128)&&Y.process(I,A,x,j,H,q,ae,ne,ee,he)}pe!=null&&H?Ta(pe,I&&I.ref,q,A||I,!A):pe==null&&I&&I.ref!=null&&Ta(I.ref,null,q,I,!0)},U=(I,A,x,j)=>{if(I==null)r(A.el=c(A.children),x,j);else{const H=A.el=I.el;A.children!==I.children&&f(H,A.children)}},J=(I,A,x,j)=>{I==null?r(A.el=u(A.children||""),x,j):A.el=I.el},W=(I,A,x,j)=>{[I.el,I.anchor]=O(I.children,A,x,j,I.el,I.anchor)},Z=({el:I,anchor:A},x,j)=>{let H;for(;I&&I!==A;)H=v(I),r(I,x,j),I=H;r(A,x,j)},te=({el:I,anchor:A})=>{let x;for(;I&&I!==A;)x=v(I),s(I),I=x;s(A)},we=(I,A,x,j,H,q,ae,ne,ee)=>{A.type==="svg"?ae="svg":A.type==="math"&&(ae="mathml"),I==null?Ve(A,x,j,H,q,ae,ne,ee):b(I,A,H,q,ae,ne,ee)},Ve=(I,A,x,j,H,q,ae,ne)=>{let ee,Y;const{props:pe,shapeFlag:oe,transition:de,dirs:me}=I;if(ee=I.el=o(I.type,q,pe&&pe.is,pe),oe&8?p(ee,I.children):oe&16&&T(I.children,ee,null,j,H,ih(I,q),ae,ne),me&&hi(I,null,j,"created"),C(ee,I,I.scopeId,ae,j),pe){for(const Ce in pe)Ce!=="value"&&!va(Ce)&&i(ee,Ce,null,pe[Ce],q,j);"value"in pe&&i(ee,"value",null,pe.value,q),(Y=pe.onVnodeBeforeMount)&&mr(Y,j,I)}me&&hi(I,null,j,"beforeMount");const _e=Ob(H,de);_e&&de.beforeEnter(ee),r(ee,A,x),((Y=pe&&pe.onVnodeMounted)||_e||me)&&Vn(()=>{Y&&mr(Y,j,I),_e&&de.enter(ee),me&&hi(I,null,j,"mounted")},H)},C=(I,A,x,j,H)=>{if(x&&y(I,x),j)for(let q=0;q<j.length;q++)y(I,j[q]);if(H){let q=H.subTree;if(A===q||W_(q.type)&&(q.ssContent===A||q.ssFallback===A)){const ae=H.vnode;C(I,ae,ae.scopeId,ae.slotScopeIds,H.parent)}}},T=(I,A,x,j,H,q,ae,ne,ee=0)=>{for(let Y=ee;Y<I.length;Y++){const pe=I[Y]=ne?Ts(I[Y]):yr(I[Y]);L(null,pe,A,x,j,H,q,ae,ne)}},b=(I,A,x,j,H,q,ae)=>{const ne=A.el=I.el;let{patchFlag:ee,dynamicChildren:Y,dirs:pe}=A;ee|=I.patchFlag&16;const oe=I.props||ct,de=A.props||ct;let me;if(x&&fi(x,!1),(me=de.onVnodeBeforeUpdate)&&mr(me,x,A,I),pe&&hi(A,I,x,"beforeUpdate"),x&&fi(x,!0),(oe.innerHTML&&de.innerHTML==null||oe.textContent&&de.textContent==null)&&p(ne,""),Y?R(I.dynamicChildren,Y,ne,x,j,ih(A,H),q):ae||Le(I,A,ne,null,x,j,ih(A,H),q,!1),ee>0){if(ee&16)P(ne,oe,de,x,H);else if(ee&2&&oe.class!==de.class&&i(ne,"class",null,de.class,H),ee&4&&i(ne,"style",oe.style,de.style,H),ee&8){const _e=A.dynamicProps;for(let Ce=0;Ce<_e.length;Ce++){const Fe=_e[Ce],_t=oe[Fe],gt=de[Fe];(gt!==_t||Fe==="value")&&i(ne,Fe,_t,gt,H,x)}}ee&1&&I.children!==A.children&&p(ne,A.children)}else!ae&&Y==null&&P(ne,oe,de,x,H);((me=de.onVnodeUpdated)||pe)&&Vn(()=>{me&&mr(me,x,A,I),pe&&hi(A,I,x,"updated")},j)},R=(I,A,x,j,H,q,ae)=>{for(let ne=0;ne<A.length;ne++){const ee=I[ne],Y=A[ne],pe=ee.el&&(ee.type===Cn||!la(ee,Y)||ee.shapeFlag&198)?g(ee.el):x;L(ee,Y,pe,null,j,H,q,ae,!0)}},P=(I,A,x,j,H)=>{if(A!==x){if(A!==ct)for(const q in A)!va(q)&&!(q in x)&&i(I,q,A[q],null,H,j);for(const q in x){if(va(q))continue;const ae=x[q],ne=A[q];ae!==ne&&q!=="value"&&i(I,q,ne,ae,H,j)}"value"in x&&i(I,"value",A.value,x.value,H)}},N=(I,A,x,j,H,q,ae,ne,ee)=>{const Y=A.el=I?I.el:c(""),pe=A.anchor=I?I.anchor:c("");let{patchFlag:oe,dynamicChildren:de,slotScopeIds:me}=A;me&&(ne=ne?ne.concat(me):me),I==null?(r(Y,x,j),r(pe,x,j),T(A.children||[],x,pe,H,q,ae,ne,ee)):oe>0&&oe&64&&de&&I.dynamicChildren?(R(I.dynamicChildren,de,x,H,q,ae,ne),(A.key!=null||H&&A===H.subTree)&&$_(I,A,!0)):Le(I,A,x,pe,H,q,ae,ne,ee)},S=(I,A,x,j,H,q,ae,ne,ee)=>{A.slotScopeIds=ne,I==null?A.shapeFlag&512?H.ctx.activate(A,x,j,ae,ee):Ct(A,x,j,H,q,ae,ee):Kt(I,A,ee)},Ct=(I,A,x,j,H,q,ae)=>{const ne=I.component=Qb(I,j,H);if(A_(I)&&(ne.ctx.renderer=he),Jb(ne,!1,ae),ne.asyncDep){if(H&&H.registerDep(ne,et,ae),!I.el){const ee=ne.subTree=be(Xr);J(null,ee,A,x)}}else et(ne,I,A,x,H,q,ae)},Kt=(I,A,x)=>{const j=A.component=I.component;if($b(I,A,x))if(j.asyncDep&&!j.asyncResolved){ve(j,A,x);return}else j.next=A,j.update();else A.el=I.el,j.vnode=A},et=(I,A,x,j,H,q,ae)=>{const ne=()=>{if(I.isMounted){let{next:oe,bu:de,u:me,parent:_e,vnode:Ce}=I;{const bt=j_(I);if(bt){oe&&(oe.el=Ce.el,ve(I,oe,ae)),bt.asyncDep.then(()=>{I.isUnmounted||ne()});return}}let Fe=oe,_t;fi(I,!1),oe?(oe.el=Ce.el,ve(I,oe,ae)):oe=Ce,de&&ol(de),(_t=oe.props&&oe.props.onVnodeBeforeUpdate)&&mr(_t,_e,oe,Ce),fi(I,!0);const gt=Pp(I),Dt=I.subTree;I.subTree=gt,L(Dt,gt,g(Dt.el),B(Dt),I,H,q),oe.el=gt.el,Fe===null&&jb(I,gt.el),me&&Vn(me,H),(_t=oe.props&&oe.props.onVnodeUpdated)&&Vn(()=>mr(_t,_e,oe,Ce),H)}else{let oe;const{el:de,props:me}=A,{bm:_e,m:Ce,parent:Fe,root:_t,type:gt}=I,Dt=fo(A);fi(I,!1),_e&&ol(_e),!Dt&&(oe=me&&me.onVnodeBeforeMount)&&mr(oe,Fe,A),fi(I,!0);{_t.ce&&_t.ce._def.shadowRoot!==!1&&_t.ce._injectChildStyle(gt);const bt=I.subTree=Pp(I);L(null,bt,x,j,I,H,q),A.el=bt.el}if(Ce&&Vn(Ce,H),!Dt&&(oe=me&&me.onVnodeMounted)){const bt=A;Vn(()=>mr(oe,Fe,bt),H)}(A.shapeFlag&256||Fe&&fo(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&I.a&&Vn(I.a,H),I.isMounted=!0,A=x=j=null}};I.scope.on();const ee=I.effect=new e_(ne);I.scope.off();const Y=I.update=ee.run.bind(ee),pe=I.job=ee.runIfDirty.bind(ee);pe.i=I,pe.id=I.uid,ee.scheduler=()=>Cf(pe),fi(I,!0),Y()},ve=(I,A,x)=>{A.component=I;const j=I.vnode.props;I.vnode=A,I.next=null,Ib(I,A.props,j,x),Cb(I,A.children,x),Jr(),wp(I),Yr()},Le=(I,A,x,j,H,q,ae,ne,ee=!1)=>{const Y=I&&I.children,pe=I?I.shapeFlag:0,oe=A.children,{patchFlag:de,shapeFlag:me}=A;if(de>0){if(de&128){z(Y,oe,x,j,H,q,ae,ne,ee);return}else if(de&256){en(Y,oe,x,j,H,q,ae,ne,ee);return}}me&8?(pe&16&&ut(Y,H,q),oe!==Y&&p(x,oe)):pe&16?me&16?z(Y,oe,x,j,H,q,ae,ne,ee):ut(Y,H,q,!0):(pe&8&&p(x,""),me&16&&T(oe,x,j,H,q,ae,ne,ee))},en=(I,A,x,j,H,q,ae,ne,ee)=>{I=I||co,A=A||co;const Y=I.length,pe=A.length,oe=Math.min(Y,pe);let de;for(de=0;de<oe;de++){const me=A[de]=ee?Ts(A[de]):yr(A[de]);L(I[de],me,x,null,H,q,ae,ne,ee)}Y>pe?ut(I,H,q,!0,!1,oe):T(A,x,j,H,q,ae,ne,ee,oe)},z=(I,A,x,j,H,q,ae,ne,ee)=>{let Y=0;const pe=A.length;let oe=I.length-1,de=pe-1;for(;Y<=oe&&Y<=de;){const me=I[Y],_e=A[Y]=ee?Ts(A[Y]):yr(A[Y]);if(la(me,_e))L(me,_e,x,null,H,q,ae,ne,ee);else break;Y++}for(;Y<=oe&&Y<=de;){const me=I[oe],_e=A[de]=ee?Ts(A[de]):yr(A[de]);if(la(me,_e))L(me,_e,x,null,H,q,ae,ne,ee);else break;oe--,de--}if(Y>oe){if(Y<=de){const me=de+1,_e=me<pe?A[me].el:j;for(;Y<=de;)L(null,A[Y]=ee?Ts(A[Y]):yr(A[Y]),x,_e,H,q,ae,ne,ee),Y++}}else if(Y>de)for(;Y<=oe;)lt(I[Y],H,q,!0),Y++;else{const me=Y,_e=Y,Ce=new Map;for(Y=_e;Y<=de;Y++){const Nt=A[Y]=ee?Ts(A[Y]):yr(A[Y]);Nt.key!=null&&Ce.set(Nt.key,Y)}let Fe,_t=0;const gt=de-_e+1;let Dt=!1,bt=0;const ar=new Array(gt);for(Y=0;Y<gt;Y++)ar[Y]=0;for(Y=me;Y<=oe;Y++){const Nt=I[Y];if(_t>=gt){lt(Nt,H,q,!0);continue}let bn;if(Nt.key!=null)bn=Ce.get(Nt.key);else for(Fe=_e;Fe<=de;Fe++)if(ar[Fe-_e]===0&&la(Nt,A[Fe])){bn=Fe;break}bn===void 0?lt(Nt,H,q,!0):(ar[bn-_e]=Y+1,bn>=bt?bt=bn:Dt=!0,L(Nt,A[bn],x,null,H,q,ae,ne,ee),_t++)}const Or=Dt?Db(ar):co;for(Fe=Or.length-1,Y=gt-1;Y>=0;Y--){const Nt=_e+Y,bn=A[Nt],Di=Nt+1<pe?A[Nt+1].el:j;ar[Y]===0?L(null,bn,x,Di,H,q,ae,ne,ee):Dt&&(Fe<0||Y!==Or[Fe]?tn(bn,x,Di,2):Fe--)}}},tn=(I,A,x,j,H=null)=>{const{el:q,type:ae,transition:ne,children:ee,shapeFlag:Y}=I;if(Y&6){tn(I.component.subTree,A,x,j);return}if(Y&128){I.suspense.move(A,x,j);return}if(Y&64){ae.move(I,A,x,he);return}if(ae===Cn){r(q,A,x);for(let oe=0;oe<ee.length;oe++)tn(ee[oe],A,x,j);r(I.anchor,A,x);return}if(ae===cl){Z(I,A,x);return}if(j!==2&&Y&1&&ne)if(j===0)ne.beforeEnter(q),r(q,A,x),Vn(()=>ne.enter(q),H);else{const{leave:oe,delayLeave:de,afterLeave:me}=ne,_e=()=>{I.ctx.isUnmounted?s(q):r(q,A,x)},Ce=()=>{oe(q,()=>{_e(),me&&me()})};de?de(q,_e,Ce):Ce()}else r(q,A,x)},lt=(I,A,x,j=!1,H=!1)=>{const{type:q,props:ae,ref:ne,children:ee,dynamicChildren:Y,shapeFlag:pe,patchFlag:oe,dirs:de,cacheIndex:me}=I;if(oe===-2&&(H=!1),ne!=null&&(Jr(),Ta(ne,null,x,I,!0),Yr()),me!=null&&(A.renderCache[me]=void 0),pe&256){A.ctx.deactivate(I);return}const _e=pe&1&&de,Ce=!fo(I);let Fe;if(Ce&&(Fe=ae&&ae.onVnodeBeforeUnmount)&&mr(Fe,A,I),pe&6)nn(I.component,x,j);else{if(pe&128){I.suspense.unmount(x,j);return}_e&&hi(I,null,A,"beforeUnmount"),pe&64?I.type.remove(I,A,x,he,j):Y&&!Y.hasOnce&&(q!==Cn||oe>0&&oe&64)?ut(Y,A,x,!1,!0):(q===Cn&&oe&384||!H&&pe&16)&&ut(ee,A,x),j&&ot(I)}(Ce&&(Fe=ae&&ae.onVnodeUnmounted)||_e)&&Vn(()=>{Fe&&mr(Fe,A,I),_e&&hi(I,null,A,"unmounted")},x)},ot=I=>{const{type:A,el:x,anchor:j,transition:H}=I;if(A===Cn){Ft(x,j);return}if(A===cl){te(I);return}const q=()=>{s(x),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(I.shapeFlag&1&&H&&!H.persisted){const{leave:ae,delayLeave:ne}=H,ee=()=>ae(x,q);ne?ne(I.el,q,ee):ee()}else q()},Ft=(I,A)=>{let x;for(;I!==A;)x=v(I),s(I),I=x;s(A)},nn=(I,A,x)=>{const{bum:j,scope:H,job:q,subTree:ae,um:ne,m:ee,a:Y,parent:pe,slots:{__:oe}}=I;Cp(ee),Cp(Y),j&&ol(j),pe&&Ee(oe)&&oe.forEach(de=>{pe.renderCache[de]=void 0}),H.stop(),q&&(q.flags|=8,lt(ae,I,A,x)),ne&&Vn(ne,A),Vn(()=>{I.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},ut=(I,A,x,j=!1,H=!1,q=0)=>{for(let ae=q;ae<I.length;ae++)lt(I[ae],A,x,j,H)},B=I=>{if(I.shapeFlag&6)return B(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const A=v(I.anchor||I.el),x=A&&A[XT];return x?v(x):A};let $=!1;const ie=(I,A,x)=>{I==null?A._vnode&&lt(A._vnode,null,null,!0):L(A._vnode||null,I,A,null,null,null,x),A._vnode=I,$||($=!0,wp(),E_(),$=!1)},he={p:L,um:lt,m:tn,r:ot,mt:Ct,mc:T,pc:Le,pbc:R,n:B,o:t};return{render:ie,hydrate:void 0,createApp:wb(ie)}}function ih({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function fi({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ob(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $_(t,e,n=!1){const r=t.children,s=e.children;if(Ee(r)&&Ee(s))for(let i=0;i<r.length;i++){const o=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=Ts(s[i]),c.el=o.el),!n&&c.patchFlag!==-2&&$_(o,c)),c.type===hu&&(c.el=o.el),c.type===Xr&&!c.el&&(c.el=o.el)}}function Db(t){const e=t.slice(),n=[0];let r,s,i,o,c;const u=t.length;for(r=0;r<u;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<f?i=c+1:o=c;f<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function j_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:j_(e)}function Cp(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Nb=Symbol.for("v-scx"),xb=()=>Gn(Nb);function Aa(t,e,n){return B_(t,e,n)}function B_(t,e,n=ct){const{immediate:r,deep:s,flush:i,once:o}=n,c=hn({},n),u=e&&r||!e&&i!=="post";let f;if(qa){if(i==="sync"){const y=xb();f=y.__watcherHandles||(y.__watcherHandles=[])}else if(!u){const y=()=>{};return y.stop=vr,y.resume=vr,y.pause=vr,y}}const p=Yt;c.call=(y,O,L)=>Rr(y,p,O,L);let g=!1;i==="post"?c.scheduler=y=>{Vn(y,p&&p.suspense)}:i!=="sync"&&(g=!0,c.scheduler=(y,O)=>{O?y():Cf(y)}),c.augmentJob=y=>{e&&(y.flags|=4),g&&(y.flags|=2,p&&(y.id=p.uid,y.i=p))};const v=GT(t,e,c);return qa&&(f?f.push(v):u&&v()),v}function Vb(t,e,n){const r=this.proxy,s=Ot(t)?t.includes(".")?H_(r,t):()=>r[t]:t.bind(r,r);let i;De(e)?i=e:(i=e.handler,n=e);const o=ac(this),c=B_(s,i.bind(r),n);return o(),c}function H_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Lb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Qn(e)}Modifiers`]||t[`${Hs(e)}Modifiers`];function Mb(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ct;let s=n;const i=e.startsWith("update:"),o=i&&Lb(r,e.slice(7));o&&(o.trim&&(s=n.map(p=>Ot(p)?p.trim():p)),o.number&&(s=n.map(Tl)));let c,u=r[c=Zu(e)]||r[c=Zu(Qn(e))];!u&&i&&(u=r[c=Zu(Hs(e))]),u&&Rr(u,t,6,s);const f=r[c+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,Rr(f,t,6,s)}}function q_(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},c=!1;if(!De(t)){const u=f=>{const p=q_(f,e,!0);p&&(c=!0,hn(o,p))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!c?(pt(t)&&r.set(t,null),null):(Ee(i)?i.forEach(u=>o[u]=null):hn(o,i),pt(t)&&r.set(t,o),o)}function uu(t,e){return!t||!eu(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xe(t,e[0].toLowerCase()+e.slice(1))||Xe(t,Hs(e))||Xe(t,e))}function Pp(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:c,emit:u,render:f,renderCache:p,props:g,data:v,setupState:y,ctx:O,inheritAttrs:L}=t,U=Rl(t);let J,W;try{if(n.shapeFlag&4){const te=s||r,we=te;J=yr(f.call(we,te,p,g,y,v,O)),W=c}else{const te=e;J=yr(te.length>1?te(g,{attrs:c,slots:o,emit:u}):te(g,null)),W=e.props?c:Fb(c)}}catch(te){Sa.length=0,au(te,t,1),J=be(Xr)}let Z=J;if(W&&L!==!1){const te=Object.keys(W),{shapeFlag:we}=Z;te.length&&we&7&&(i&&te.some(mf)&&(W=Ub(W,i)),Z=vo(Z,W,!1,!0))}return n.dirs&&(Z=vo(Z,null,!1,!0),Z.dirs=Z.dirs?Z.dirs.concat(n.dirs):n.dirs),n.transition&&Pf(Z,n.transition),J=Z,Rl(U),J}const Fb=t=>{let e;for(const n in t)(n==="class"||n==="style"||eu(n))&&((e||(e={}))[n]=t[n]);return e},Ub=(t,e)=>{const n={};for(const r in t)(!mf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function $b(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:c,patchFlag:u}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?kp(r,o,f):!!o;if(u&8){const p=e.dynamicProps;for(let g=0;g<p.length;g++){const v=p[g];if(o[v]!==r[v]&&!uu(f,v))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?kp(r,o,f):!0:!!o;return!1}function kp(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!uu(n,i))return!0}return!1}function jb({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const W_=t=>t.__isSuspense;function Bb(t,e){e&&e.pendingBranch?Ee(t)?e.effects.push(...t):e.effects.push(t):YT(t)}const Cn=Symbol.for("v-fgt"),hu=Symbol.for("v-txt"),Xr=Symbol.for("v-cmt"),cl=Symbol.for("v-stc"),Sa=[];let Mn=null;function Sn(t=!1){Sa.push(Mn=t?null:[])}function Hb(){Sa.pop(),Mn=Sa[Sa.length-1]||null}let Ba=1;function Op(t,e=!1){Ba+=t,t<0&&Mn&&e&&(Mn.hasOnce=!0)}function z_(t){return t.dynamicChildren=Ba>0?Mn||co:null,Hb(),Ba>0&&Mn&&Mn.push(t),t}function er(t,e,n,r,s,i){return z_(X(t,e,n,r,s,i,!0))}function Nh(t,e,n,r,s){return z_(be(t,e,n,r,s,!0))}function Ha(t){return t?t.__v_isVNode===!0:!1}function la(t,e){return t.type===e.type&&t.key===e.key}const K_=({key:t})=>t??null,ll=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ot(t)||Rt(t)||De(t)?{i:Wt,r:t,k:e,f:!!n}:t:null);function X(t,e=null,n=null,r=0,s=null,i=t===Cn?0:1,o=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&K_(e),ref:e&&ll(e),scopeId:T_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Wt};return c?(Nf(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=Ot(n)?8:16),Ba>0&&!o&&Mn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Mn.push(u),u}const be=qb;function qb(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===fb)&&(t=Xr),Ha(t)){const c=vo(t,e,!0);return n&&Nf(c,n),Ba>0&&!i&&Mn&&(c.shapeFlag&6?Mn[Mn.indexOf(t)]=c:Mn.push(c)),c.patchFlag=-2,c}if(tI(t)&&(t=t.__vccOpts),e){e=Wb(e);let{class:c,style:u}=e;c&&!Ot(c)&&(e.class=Ma(c)),pt(u)&&(Sf(u)&&!Ee(u)&&(u=hn({},u)),e.style=yf(u))}const o=Ot(t)?1:W_(t)?128:ZT(t)?64:pt(t)?4:De(t)?2:0;return X(t,e,n,r,s,o,i,!0)}function Wb(t){return t?Sf(t)||x_(t)?hn({},t):t:null}function vo(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:c,transition:u}=t,f=e?zb(s||{},e):s,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&K_(f),ref:e&&e.ref?n&&i?Ee(i)?i.concat(ll(e)):[i,ll(e)]:ll(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Cn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vo(t.ssContent),ssFallback:t.ssFallback&&vo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&Pf(p,u.clone(p)),p}function Ge(t=" ",e=0){return be(hu,null,t,e)}function Dp(t,e){const n=be(cl,null,t);return n.staticCount=e,n}function Zi(t="",e=!1){return e?(Sn(),Nh(Xr,null,t)):be(Xr,null,t)}function yr(t){return t==null||typeof t=="boolean"?be(Xr):Ee(t)?be(Cn,null,t.slice()):Ha(t)?Ts(t):be(hu,null,String(t))}function Ts(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:vo(t)}function Nf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ee(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Nf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!x_(e)?e._ctx=Wt:s===3&&Wt&&(Wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:Wt},n=32):(e=String(e),r&64?(n=16,e=[Ge(e)]):n=8);t.children=e,t.shapeFlag|=n}function zb(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ma([e.class,r.class]));else if(s==="style")e.style=yf([e.style,r.style]);else if(eu(s)){const i=e[s],o=r[s];o&&i!==o&&!(Ee(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function mr(t,e,n,r=null){Rr(t,e,7,[n,r])}const Kb=O_();let Gb=0;function Qb(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Kb,i={uid:Gb++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:L_(r,s),emitsOptions:q_(r,s),emit:null,emitted:null,propsDefaults:ct,inheritAttrs:r.inheritAttrs,ctx:ct,data:ct,props:ct,attrs:ct,slots:ct,refs:ct,setupState:ct,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Mb.bind(null,i),t.ce&&t.ce(i),i}let Yt=null,Pl,xh;{const t=su(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Pl=e("__VUE_INSTANCE_SETTERS__",n=>Yt=n),xh=e("__VUE_SSR_SETTERS__",n=>qa=n)}const ac=t=>{const e=Yt;return Pl(t),t.scope.on(),()=>{t.scope.off(),Pl(e)}},Np=()=>{Yt&&Yt.scope.off(),Pl(null)};function G_(t){return t.vnode.shapeFlag&4}let qa=!1;function Jb(t,e=!1,n=!1){e&&xh(e);const{props:r,children:s}=t.vnode,i=G_(t);bb(t,r,i,e),Rb(t,s,n||e);const o=i?Yb(t,e):void 0;return e&&xh(!1),o}function Yb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,pb);const{setup:r}=n;if(r){Jr();const s=t.setupContext=r.length>1?Zb(t):null,i=ac(t),o=oc(r,t,0,[t.props,s]),c=Wg(o);if(Yr(),i(),(c||t.sp)&&!fo(t)&&I_(t),c){if(o.then(Np,Np),e)return o.then(u=>{xp(t,u)}).catch(u=>{au(u,t,0)});t.asyncDep=o}else xp(t,o)}else Q_(t)}function xp(t,e,n){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pt(e)&&(t.setupState=__(e)),Q_(t)}function Q_(t,e,n){const r=t.type;t.render||(t.render=r.render||vr);{const s=ac(t);Jr();try{mb(t)}finally{Yr(),s()}}}const Xb={get(t,e){return ln(t,"get",""),t[e]}};function Zb(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Xb),slots:t.slots,emit:t.emit,expose:e}}function fu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(__(Rf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ia)return Ia[n](t)},has(e,n){return n in e||n in Ia}})):t.proxy}function eI(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function tI(t){return De(t)&&"__vccOpts"in t}const Pn=(t,e)=>zT(t,e,qa);function J_(t,e,n){const r=arguments.length;return r===2?pt(e)&&!Ee(e)?Ha(e)?be(t,null,[e]):be(t,e):be(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ha(n)&&(n=[n]),be(t,e,n))}const nI="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vh;const Vp=typeof window<"u"&&window.trustedTypes;if(Vp)try{Vh=Vp.createPolicy("vue",{createHTML:t=>t})}catch{}const Y_=Vh?t=>Vh.createHTML(t):t=>t,rI="http://www.w3.org/2000/svg",sI="http://www.w3.org/1998/Math/MathML",Hr=typeof document<"u"?document:null,Lp=Hr&&Hr.createElement("template"),iI={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Hr.createElementNS(rI,t):e==="mathml"?Hr.createElementNS(sI,t):n?Hr.createElement(t,{is:n}):Hr.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Hr.createTextNode(t),createComment:t=>Hr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Hr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Lp.innerHTML=Y_(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const c=Lp.content;if(r==="svg"||r==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},oI=Symbol("_vtc");function aI(t,e,n){const r=t[oI];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Mp=Symbol("_vod"),cI=Symbol("_vsh"),lI=Symbol(""),uI=/(^|;)\s*display\s*:/;function hI(t,e,n){const r=t.style,s=Ot(n);let i=!1;if(n&&!s){if(e)if(Ot(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&ul(r,c,"")}else for(const o in e)n[o]==null&&ul(r,o,"");for(const o in n)o==="display"&&(i=!0),ul(r,o,n[o])}else if(s){if(e!==n){const o=r[lI];o&&(n+=";"+o),r.cssText=n,i=uI.test(n)}}else e&&t.removeAttribute("style");Mp in t&&(t[Mp]=i?r.display:"",t[cI]&&(r.display="none"))}const Fp=/\s*!important$/;function ul(t,e,n){if(Ee(n))n.forEach(r=>ul(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=fI(t,e);Fp.test(n)?t.setProperty(Hs(r),n.replace(Fp,""),"important"):t[r]=n}}const Up=["Webkit","Moz","ms"],oh={};function fI(t,e){const n=oh[e];if(n)return n;let r=Qn(e);if(r!=="filter"&&r in t)return oh[e]=r;r=ru(r);for(let s=0;s<Up.length;s++){const i=Up[s]+r;if(i in t)return oh[e]=i}return e}const $p="http://www.w3.org/1999/xlink";function jp(t,e,n,r,s,i=gT(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS($p,e.slice(6,e.length)):t.setAttributeNS($p,e,n):n==null||i&&!Gg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":sr(n)?String(n):n)}function Bp(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Y_(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(c!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Gg(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function mi(t,e,n,r){t.addEventListener(e,n,r)}function dI(t,e,n,r){t.removeEventListener(e,n,r)}const Hp=Symbol("_vei");function pI(t,e,n,r,s=null){const i=t[Hp]||(t[Hp]={}),o=i[e];if(r&&o)o.value=r;else{const[c,u]=mI(e);if(r){const f=i[e]=yI(r,s);mi(t,c,f,u)}else o&&(dI(t,c,o,u),i[e]=void 0)}}const qp=/(?:Once|Passive|Capture)$/;function mI(t){let e;if(qp.test(t)){e={};let r;for(;r=t.match(qp);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hs(t.slice(2)),e]}let ah=0;const gI=Promise.resolve(),_I=()=>ah||(gI.then(()=>ah=0),ah=Date.now());function yI(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Rr(vI(r,n.value),e,5,[r])};return n.value=t,n.attached=_I(),n}function vI(t,e){if(Ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Wp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,EI=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?aI(t,r,o):e==="style"?hI(t,n,r):eu(e)?mf(e)||pI(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wI(t,e,r,o))?(Bp(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&jp(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ot(r))?Bp(t,Qn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),jp(t,e,r,o))};function wI(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Wp(e)&&De(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Wp(e)&&Ot(n)?!1:e in t}const kl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ee(e)?n=>ol(e,n):e};function TI(t){t.target.composing=!0}function zp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const po=Symbol("_assign"),HD={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[po]=kl(s);const i=r||s.props&&s.props.type==="number";mi(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;n&&(c=c.trim()),i&&(c=Tl(c)),t[po](c)}),n&&mi(t,"change",()=>{t.value=t.value.trim()}),e||(mi(t,"compositionstart",TI),mi(t,"compositionend",zp),mi(t,"change",zp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[po]=kl(o),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?Tl(t.value):t.value,u=e??"";c!==u&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===u)||(t.value=u))}},qD={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=tu(e);mi(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Tl(Ol(o)):Ol(o));t[po](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,cu(()=>{t._assigning=!1})}),t[po]=kl(r)},mounted(t,{value:e}){Kp(t,e)},beforeUpdate(t,e,n){t[po]=kl(n)},updated(t,{value:e}){t._assigning||Kp(t,e)}};function Kp(t,e){const n=t.multiple,r=Ee(e);if(!(n&&!r&&!tu(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],c=Ol(o);if(n)if(r){const u=typeof c;u==="string"||u==="number"?o.selected=e.some(f=>String(f)===String(c)):o.selected=yT(e,c)>-1}else o.selected=e.has(c);else if(iu(Ol(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ol(t){return"_value"in t?t._value:t.value}const bI=["ctrl","shift","alt","meta"],II={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>bI.some(n=>t[`${n}Key`]&&!e.includes(n))},_s=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const c=II[e[o]];if(c&&c(s,e))return}return t(s,...i)})},AI={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Yc=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Hs(s.key);if(e.some(o=>o===i||AI[o]===i))return t(s)})},SI=hn({patchProp:EI},iI);let Gp;function X_(){return Gp||(Gp=Pb(SI))}const WD=(...t)=>{X_().render(...t)},RI=(...t)=>{const e=X_().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=PI(r);if(!s)return;const i=e._component;!De(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,CI(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function CI(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function PI(t){return Ot(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Z_;const du=t=>Z_=t,ey=Symbol();function Lh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ra;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ra||(Ra={}));function kI(){const t=Xg(!0),e=t.run(()=>$a({}));let n=[],r=[];const s=Rf({install(i){du(s),s._a=i,i.provide(ey,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return this._a?n.push(i):r.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const ty=()=>{};function Qp(t,e,n,r=ty){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&Zg()&&vT(s),s}function eo(t,...e){t.slice().forEach(n=>{n(...e)})}const OI=t=>t(),Jp=Symbol(),ch=Symbol();function Mh(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,r)=>t.set(r,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Lh(s)&&Lh(r)&&t.hasOwnProperty(n)&&!Rt(r)&&!ks(r)?t[n]=Mh(s,r):t[n]=r}return t}const DI=Symbol();function NI(t){return!Lh(t)||!Object.prototype.hasOwnProperty.call(t,DI)}const{assign:Es}=Object;function xI(t){return!!(Rt(t)&&t.effect)}function VI(t,e,n,r){const{state:s,actions:i,getters:o}=e,c=n.state.value[t];let u;function f(){c||(n.state.value[t]=s?s():{});const p=BT(n.state.value[t]);return Es(p,i,Object.keys(o||{}).reduce((g,v)=>(g[v]=Rf(Pn(()=>{du(n);const y=n._s.get(t);return o[v].call(y,y)})),g),{}))}return u=ny(t,f,e,n,r,!0),u}function ny(t,e,n={},r,s,i){let o;const c=Es({actions:{}},n),u={deep:!0};let f,p,g=[],v=[],y;const O=r.state.value[t];!i&&!O&&(r.state.value[t]={}),$a({});let L;function U(T){let b;f=p=!1,typeof T=="function"?(T(r.state.value[t]),b={type:Ra.patchFunction,storeId:t,events:y}):(Mh(r.state.value[t],T),b={type:Ra.patchObject,payload:T,storeId:t,events:y});const R=L=Symbol();cu().then(()=>{L===R&&(f=!0)}),p=!0,eo(g,b,r.state.value[t])}const J=i?function(){const{state:b}=n,R=b?b():{};this.$patch(P=>{Es(P,R)})}:ty;function W(){o.stop(),g=[],v=[],r._s.delete(t)}const Z=(T,b="")=>{if(Jp in T)return T[ch]=b,T;const R=function(){du(r);const P=Array.from(arguments),N=[],S=[];function Ct(ve){N.push(ve)}function Kt(ve){S.push(ve)}eo(v,{args:P,name:R[ch],store:we,after:Ct,onError:Kt});let et;try{et=T.apply(this&&this.$id===t?this:we,P)}catch(ve){throw eo(S,ve),ve}return et instanceof Promise?et.then(ve=>(eo(N,ve),ve)).catch(ve=>(eo(S,ve),Promise.reject(ve))):(eo(N,et),et)};return R[Jp]=!0,R[ch]=b,R},te={_p:r,$id:t,$onAction:Qp.bind(null,v),$patch:U,$reset:J,$subscribe(T,b={}){const R=Qp(g,T,b.detached,()=>P()),P=o.run(()=>Aa(()=>r.state.value[t],N=>{(b.flush==="sync"?p:f)&&T({storeId:t,type:Ra.direct,events:y},N)},Es({},u,b)));return R},$dispose:W},we=ic(te);r._s.set(t,we);const C=(r._a&&r._a.runWithContext||OI)(()=>r._e.run(()=>(o=Xg()).run(()=>e({action:Z}))));for(const T in C){const b=C[T];if(Rt(b)&&!xI(b)||ks(b))i||(O&&NI(b)&&(Rt(b)?b.value=O[T]:Mh(b,O[T])),r.state.value[t][T]=b);else if(typeof b=="function"){const R=Z(b,T);C[T]=R,c.actions[T]=b}}return Es(we,C),Es(Qe(we),C),Object.defineProperty(we,"$state",{get:()=>r.state.value[t],set:T=>{U(b=>{Es(b,T)})}}),r._p.forEach(T=>{Es(we,o.run(()=>T({store:we,app:r._a,pinia:r,options:c})))}),O&&i&&n.hydrate&&n.hydrate(we.$state,O),f=!0,p=!0,we}/*! #__NO_SIDE_EFFECTS__ */function ry(t,e,n){let r;const s=typeof e=="function";r=s?n:e;function i(o,c){const u=Tb();return o=o||(u?Gn(ey,null):null),o&&du(o),o=Z_,o._s.has(t)||(s?ny(t,e,r,o):VI(t,r,o)),o._s.get(t)}return i.$id=t,i}function zD(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const s=t(this.$pinia),i=e[r];return typeof i=="function"?i.call(this,s):s[i]},n),{})}function KD(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(...s){return t(this.$pinia)[r](...s)},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(...s){return t(this.$pinia)[e[r]](...s)},n),{})}const LI=()=>{};var Yp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},MI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},iy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,f=u?t[s+2]:0,p=i>>2,g=(i&3)<<4|c>>4;let v=(c&15)<<2|f>>6,y=f&63;u||(y=64,o||(v=64)),r.push(n[p],n[g],n[v],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||f==null||g==null)throw new FI;const v=i<<2|c>>4;if(r.push(v),f!==64){const y=c<<4&240|f>>2;if(r.push(y),g!==64){const O=f<<6&192|g;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UI=function(t){const e=sy(t);return iy.encodeByteArray(e,!0)},Dl=function(t){return UI(t).replace(/\./g,"")},oy=function(t){try{return iy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=()=>$I().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process>"u"||typeof Yp>"u")return;const t=Yp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oy(t[1]);return e&&JSON.parse(e)},pu=()=>{try{return LI()||jI()||BI()||HI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ay=t=>{var e,n;return(n=(e=pu())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},cy=t=>{const e=ay(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ly=()=>{var t;return(t=pu())==null?void 0:t.config},uy=t=>{var e;return(e=pu())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xf(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Dl(JSON.stringify(n)),Dl(JSON.stringify(o)),""].join(".")}const Ca={};function zI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ca))Ca[e]?t.emulator.push(e):t.prod.push(e);return t}function KI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xp=!1;function Vf(t,e){if(typeof window>"u"||typeof document>"u"||!Si(window.location.host)||Ca[t]===e||Ca[t]||Xp)return;Ca[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",i=zI().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Xp=!0,o()},v}function p(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=KI(r),y=n("text"),O=document.getElementById(y)||document.createElement("span"),L=n("learnmore"),U=document.getElementById(L)||document.createElement("a"),J=n("preprendIcon"),W=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const Z=v.element;c(Z),p(U,L);const te=f();u(W,J),Z.append(W,O,U,te),document.body.appendChild(Z)}i?(O.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function QI(){var e;const t=(e=pu())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZI(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eA(){return!QI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function nA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="FirebaseError";class kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rA,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?sA(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new kr(s,c,r)}}function sA(t,e){return t.replace(iA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iA=/\{\$([^}]+)}/g;function oA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ei(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Zp(i)&&Zp(o)){if(!Ei(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Zp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aA(t,e){const n=new cA(t,e);return n.subscribe.bind(n)}class cA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lA(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lh),s.error===void 0&&(s.error=lh),s.complete===void 0&&(s.complete=lh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class Ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fA(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hA(t){return t===pi?void 0:t}function fA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const pA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},mA=Ue.INFO,gA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},_A=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=gA[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lf{constructor(e){this.name=e,this._logLevel=mA,this._logHandler=_A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const yA=(t,e)=>e.some(n=>t instanceof n);let em,tm;function vA(){return em||(em=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EA(){return tm||(tm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hy=new WeakMap,Fh=new WeakMap,fy=new WeakMap,uh=new WeakMap,Mf=new WeakMap;function wA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Os(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hy.set(n,t)}).catch(()=>{}),Mf.set(e,t),e}function TA(t){if(Fh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Fh.set(t,e)}let Uh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Os(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bA(t){Uh=t(Uh)}function IA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hh(this),e,...n);return fy.set(r,e.sort?e.sort():[e]),Os(r)}:EA().includes(t)?function(...e){return t.apply(hh(this),e),Os(hy.get(this))}:function(...e){return Os(t.apply(hh(this),e))}}function AA(t){return typeof t=="function"?IA(t):(t instanceof IDBTransaction&&TA(t),yA(t,vA())?new Proxy(t,Uh):t)}function Os(t){if(t instanceof IDBRequest)return wA(t);if(uh.has(t))return uh.get(t);const e=AA(t);return e!==t&&(uh.set(t,e),Mf.set(e,t)),e}const hh=t=>Mf.get(t);function SA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=Os(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Os(o.result),u.oldVersion,u.newVersion,Os(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const RA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],fh=new Map;function nm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fh.get(e))return fh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RA.includes(n)))return;const i=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&u.done]))[0]};return fh.set(e,i),i}bA(t=>({...t,get:(e,n,r)=>nm(e,n)||t.get(e,n,r),has:(e,n)=>!!nm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $h="@firebase/app",rm="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new Lf("@firebase/app"),OA="@firebase/app-compat",DA="@firebase/analytics-compat",NA="@firebase/analytics",xA="@firebase/app-check-compat",VA="@firebase/app-check",LA="@firebase/auth",MA="@firebase/auth-compat",FA="@firebase/database",UA="@firebase/data-connect",$A="@firebase/database-compat",jA="@firebase/functions",BA="@firebase/functions-compat",HA="@firebase/installations",qA="@firebase/installations-compat",WA="@firebase/messaging",zA="@firebase/messaging-compat",KA="@firebase/performance",GA="@firebase/performance-compat",QA="@firebase/remote-config",JA="@firebase/remote-config-compat",YA="@firebase/storage",XA="@firebase/storage-compat",ZA="@firebase/firestore",eS="@firebase/ai",tS="@firebase/firestore-compat",nS="firebase",rS="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",sS={[$h]:"fire-core",[OA]:"fire-core-compat",[NA]:"fire-analytics",[DA]:"fire-analytics-compat",[VA]:"fire-app-check",[xA]:"fire-app-check-compat",[LA]:"fire-auth",[MA]:"fire-auth-compat",[FA]:"fire-rtdb",[UA]:"fire-data-connect",[$A]:"fire-rtdb-compat",[jA]:"fire-fn",[BA]:"fire-fn-compat",[HA]:"fire-iid",[qA]:"fire-iid-compat",[WA]:"fire-fcm",[zA]:"fire-fcm-compat",[KA]:"fire-perf",[GA]:"fire-perf-compat",[QA]:"fire-rc",[JA]:"fire-rc-compat",[YA]:"fire-gcs",[XA]:"fire-gcs-compat",[ZA]:"fire-fst",[tS]:"fire-fst-compat",[eS]:"fire-vertex","fire-js":"fire-js",[nS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new Map,iS=new Map,Bh=new Map;function sm(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wi(t){const e=t.name;if(Bh.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;Bh.set(e,t);for(const n of Nl.values())sm(n,t);for(const n of iS.values())sm(n,t);return!0}function mu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new cc("app","Firebase",oS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=rS;function dy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ds.create("bad-app-name",{appName:String(s)});if(n||(n=ly()),!n)throw Ds.create("no-options");const i=Nl.get(s);if(i){if(Ei(n,i.options)&&Ei(r,i.config))return i;throw Ds.create("duplicate-app",{appName:s})}const o=new dA(s);for(const u of Bh.values())o.addComponent(u);const c=new aS(n,r,o);return Nl.set(s,c),c}function Ff(t=jh){const e=Nl.get(t);if(!e&&t===jh&&ly())return dy();if(!e)throw Ds.create("no-app",{appName:t});return e}function Er(t,e,n){let r=sS[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(o.join(" "));return}wi(new Ls(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="firebase-heartbeat-database",lS=1,Wa="firebase-heartbeat-store";let dh=null;function py(){return dh||(dh=SA(cS,lS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ds.create("idb-open",{originalErrorMessage:t.message})})),dh}async function uS(t){try{const n=(await py()).transaction(Wa),r=await n.objectStore(Wa).get(my(t));return await n.done,r}catch(e){if(e instanceof kr)Zr.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(n.message)}}}async function im(t,e){try{const r=(await py()).transaction(Wa,"readwrite");await r.objectStore(Wa).put(e,my(t)),await r.done}catch(n){if(n instanceof kr)Zr.warn(n.message);else{const r=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(r.message)}}}function my(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=1024,fS=30;class dS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=om();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>fS){const o=gS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=om(),{heartbeatsToSend:r,unsentEntries:s}=pS(this._heartbeatsCache.heartbeats),i=Dl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Zr.warn(n),""}}}function om(){return new Date().toISOString().substring(0,10)}function pS(t,e=hS){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),am(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),am(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?nA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return im(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return im(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function am(t){return Dl(JSON.stringify({version:2,heartbeats:t})).length}function gS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){wi(new Ls("platform-logger",e=>new PA(e),"PRIVATE")),wi(new Ls("heartbeat",e=>new dS(e),"PRIVATE")),Er($h,rm,t),Er($h,rm,"esm2020"),Er("fire-js","")}_S("");var yS="firebase",vS="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(yS,vS,"app");function gy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ES=gy,_y=new cc("auth","Firebase",gy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new Lf("@firebase/auth");function wS(t,...e){xl.logLevel<=Ue.WARN&&xl.warn(`Auth (${Po}): ${t}`,...e)}function hl(t,...e){xl.logLevel<=Ue.ERROR&&xl.error(`Auth (${Po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,...e){throw Uf(t,...e)}function wr(t,...e){return Uf(t,...e)}function yy(t,e,n){const r={...ES(),[e]:n};return new cc("auth","Firebase",r).create(e,{appName:t.name})}function Gr(t){return yy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _y.create(t,...e)}function Ie(t,e,...n){if(!t)throw Uf(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hl(e),new Error(e)}function es(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function TS(){return cm()==="http:"||cm()==="https:"}function cm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TS()||YI()||"connection"in navigator)?navigator.onLine:!0}function IS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=GI()||XI()}get(){return bS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RS=new uc(3e4,6e4);function qs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ws(t,e,n,r,s={}){return Ey(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const c=lc({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:u,...i};return JI()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Si(t.emulatorConfig.host)&&(f.credentials="include"),vy.fetch()(await wy(t,t.config.apiHost,n,c),f)})}async function Ey(t,e,n){t._canInitEmulator=!1;const r={...AS,...e};try{const s=new PS(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Xc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Xc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Xc(t,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw yy(t,p,f);ir(t,p)}}catch(s){if(s instanceof kr)throw s;ir(t,"network-request-failed",{message:String(s)})}}async function hc(t,e,n,r,s={}){const i=await Ws(t,e,n,r,s);return"mfaPendingCredential"in i&&ir(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function wy(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?$f(t.config,s):`${t.config.apiScheme}://${s}`;return SS.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function CS(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),RS.get())})}}function Xc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=wr(t,e,r);return s.customData._tokenResponse=n,s}function lm(t){return t!==void 0&&t.enterprise!==void 0}class kS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OS(t,e){return Ws(t,"GET","/v2/recaptchaConfig",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(t,e){return Ws(t,"POST","/v1/accounts:delete",e)}async function Vl(t,e){return Ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NS(t,e=!1){const n=dn(t),r=await n.getIdToken(e),s=jf(r);Ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Pa(ph(s.auth_time)),issuedAtTime:Pa(ph(s.iat)),expirationTime:Pa(ph(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ph(t){return Number(t)*1e3}function jf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hl("JWT malformed, contained fewer than 3 sections"),null;try{const s=oy(n);return s?JSON.parse(s):(hl("Failed to decode base64 JWT payload"),null)}catch(s){return hl("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function um(t){const e=jf(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kr&&xS(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pa(this.lastLoginAt),this.creationTime=Pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){var g;const e=t.auth,n=await t.getIdToken(),r=await za(t,Vl(e,{idToken:n}));Ie(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(g=s.providerUserInfo)!=null&&g.length?Ty(s.providerUserInfo):[],o=MS(t.providerData,i),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),f=c?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new qh(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function LS(t){const e=dn(t);await Ll(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MS(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ty(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(t,e){const n=await Ey(t,{},async()=>{const r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await wy(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return t.emulatorConfig&&Si(t.emulatorConfig.host)&&(u.credentials="include"),vy.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function US(t,e){return Ws(t,"POST","/v2/accounts:revokeToken",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):um(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=um(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await FS(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new mo;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new VS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await za(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NS(this,e)}reload(){return LS(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ll(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await za(this,DS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:y,providerData:O,stsTokenManager:L}=n;Ie(g&&L,e,"internal-error");const U=mo.fromJSON(this.name,L);Ie(typeof g=="string",e,"internal-error"),ys(r,e.name),ys(s,e.name),Ie(typeof v=="boolean",e,"internal-error"),Ie(typeof y=="boolean",e,"internal-error"),ys(i,e.name),ys(o,e.name),ys(c,e.name),ys(u,e.name),ys(f,e.name),ys(p,e.name);const J=new tr({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:U,createdAt:f,lastLoginAt:p});return O&&Array.isArray(O)&&(J.providerData=O.map(W=>({...W}))),u&&(J._redirectEventId=u),J}static async _fromIdTokenResponse(e,n,r=!1){const s=new mo;s.updateFromServerResponse(n);const i=new tr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ll(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Ty(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new mo;c.updateFromIdToken(r);const u=new tr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map;function Kr(t){es(t instanceof Function,"Expected a class definition");let e=hm.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}by.type="NONE";const fm=by;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t,e,n){return`firebase:${t}:${e}:${n}`}class go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=fl(this.userKey,s.apiKey,i),this.fullPersistenceKey=fl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vl(this.auth,{idToken:e}).catch(()=>{});return n?tr._fromGetAccountInfoResponse(this.auth,n,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new go(Kr(fm),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||Kr(fm);const o=fl(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(o);if(p){let g;if(typeof p=="string"){const v=await Vl(e,{idToken:p}).catch(()=>{});if(!v)break;g=await tr._fromGetAccountInfoResponse(e,v,p)}else g=tr._fromJSON(e,p);f!==i&&(c=g),i=f;break}}catch{}const u=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new go(i,e,r):(i=u[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(o)}catch{}})),new go(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ry(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Iy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Py(e))return"Blackberry";if(ky(e))return"Webos";if(Ay(e))return"Safari";if((e.includes("chrome/")||Sy(e))&&!e.includes("edge/"))return"Chrome";if(Cy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Iy(t=fn()){return/firefox\//i.test(t)}function Ay(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sy(t=fn()){return/crios\//i.test(t)}function Ry(t=fn()){return/iemobile/i.test(t)}function Cy(t=fn()){return/android/i.test(t)}function Py(t=fn()){return/blackberry/i.test(t)}function ky(t=fn()){return/webos/i.test(t)}function Bf(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $S(t=fn()){var e;return Bf(t)&&!!((e=window.navigator)!=null&&e.standalone)}function jS(){return ZI()&&document.documentMode===10}function Oy(t=fn()){return Bf(t)||Cy(t)||ky(t)||Py(t)||/windows phone/i.test(t)||Ry(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e=[]){let n;switch(t){case"Browser":n=dm(fn());break;case"Worker":n=`${dm(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,c)=>{try{const u=e(i);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(t,e={}){return Ws(t,"GET","/v2/passwordPolicy",qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=6;class WS{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pm(this),this.idTokenSubscription=new pm(this),this.beforeStateQueue=new BS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_y,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vl(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ll(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Gr(this));const n=e?dn(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HS(this),n=new WS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await US(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kr(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[Kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&wS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ri(t){return dn(t)}class pm{constructor(e){this.auth=e,this.observer=null,this.addObserver=aA(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KS(t){gu=t}function Ny(t){return gu.loadJS(t)}function GS(){return gu.recaptchaEnterpriseScript}function QS(){return gu.gapiScript}function JS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class YS{constructor(){this.enterprise=new XS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZS="recaptcha-enterprise",xy="NO_RECAPTCHA";class e0{constructor(e){this.type=ZS,this.auth=Ri(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{OS(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new kS(u);return i.tenantId==null?i._agentRecaptchaConfig=f:i._tenantRecaptchaConfigs[i.tenantId]=f,o(f.siteKey)}}).catch(u=>{c(u)})})}function s(i,o,c){const u=window.grecaptcha;lm(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(f=>{o(f)}).catch(()=>{o(xy)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YS().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(c=>{if(!n&&lm(window.grecaptcha))s(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=GS();u.length!==0&&(u+=c),Ny(u).then(()=>{s(c,i,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})}}async function mm(t,e,n,r=!1,s=!1){const i=new e0(t);let o;if(s)o=xy;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Wh(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await mm(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await mm(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){const n=mu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ei(i,e??{}))return s;ir(s,"already-initialized")}return n.initialize({options:e})}function n0(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r0(t,e,n){const r=Ri(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Vy(e),{host:o,port:c}=s0(e),u=c===null?"":`:${c}`,f={url:`${i}//${o}${u}/`},p=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Ei(f,r.config.emulator)&&Ei(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Si(o)?(xf(`${i}//${o}${u}`),Vf("Auth",!0)):i0()}function Vy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s0(t){const e=Vy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:gm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:gm(o)}}}function gm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i0(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function o0(t,e){return Ws(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(t,e){return hc(t,"POST","/v1/accounts:signInWithPassword",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0(t,e){return hc(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}async function l0(t,e){return hc(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Hf{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ka(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ka(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wh(e,n,"signInWithPassword",a0);case"emailLink":return c0(e,{email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wh(e,r,"signUpPassword",o0);case"emailLink":return l0(e,{idToken:n,email:this._email,oobCode:this._password});default:ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e){return hc(t,"POST","/v1/accounts:signInWithIdp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="http://localhost";class Ti extends Hf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ti(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:u0,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f0(t){const e=fa(da(t)).link,n=e?fa(da(e)).deep_link_id:null,r=fa(da(t)).deep_link_id;return(r?fa(da(r)).link:null)||r||n||e||t}class qf{constructor(e){const n=fa(da(e)),r=n.apiKey??null,s=n.oobCode??null,i=h0(n.mode??null);Ie(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=f0(e);try{return new qf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return Ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qf.parseLink(n);return Ie(r,"argument-error"),Ka._fromEmailAndCode(e,r.code,r.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Ly{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends fc{constructor(){super("facebook.com")}static credential(e){return Ti._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ti._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return As.credential(n,r)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends fc{constructor(){super("github.com")}static credential(e){return Ti._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends fc{constructor(){super("twitter.com")}static credential(e,n){return Ti._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(t,e){return hc(t,"POST","/v1/accounts:signUp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await tr._fromIdTokenResponse(e,r,s),o=_m(r);return new bi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=_m(r);return new bi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function _m(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends kr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ml.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ml(e,n,r,s)}}function My(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ml._fromErrorAndOperation(t,i,e,r):i})}async function p0(t,e,n=!1){const r=await za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(t,e,n=!1){const{auth:r}=t;if(Ln(r.app))return Promise.reject(Gr(r));const s="reauthenticate";try{const i=await za(t,My(r,s,e,t),n);Ie(i.idToken,r,"internal-error");const o=jf(i.idToken);Ie(o,r,"internal-error");const{sub:c}=o;return Ie(t.uid===c,r,"user-mismatch"),bi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ir(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t,e,n=!1){if(Ln(t.app))return Promise.reject(Gr(t));const r="signIn",s=await My(t,r,e),i=await bi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function g0(t,e){return Fy(Ri(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(t){const e=Ri(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _0(t,e,n){if(Ln(t.app))return Promise.reject(Gr(t));const r=Ri(t),o=await Wh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d0).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Uy(t),u}),c=await bi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function y0(t,e,n){return Ln(t.app)?Promise.reject(Gr(t)):g0(dn(t),ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Uy(t),r})}function v0(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function E0(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function w0(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function T0(t){return dn(t).signOut()}const Fl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fl,"1"),this.storage.removeItem(Fl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=1e3,I0=10;class jy extends $y{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Oy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);jS()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,I0):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jy.type="LOCAL";const A0=jy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends $y{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}By.type="SESSION";const Hy=By;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new _u(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async f=>f(n.origin,i)),u=await S0(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((c,u)=>{const f=Wf("",20);s.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(v.data.response);break;default:clearTimeout(p),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function C0(t){Tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function P0(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k0(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function O0(){return qy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="firebaseLocalStorageDb",D0=1,Ul="firebaseLocalStorage",zy="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yu(t,e){return t.transaction([Ul],e?"readwrite":"readonly").objectStore(Ul)}function N0(){const t=indexedDB.deleteDatabase(Wy);return new dc(t).toPromise()}function zh(){const t=indexedDB.open(Wy,D0);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ul,{keyPath:zy})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ul)?e(r):(r.close(),await N0(),e(await zh()))})})}async function ym(t,e,n){const r=yu(t,!0).put({[zy]:e,value:n});return new dc(r).toPromise()}async function x0(t,e){const n=yu(t,!1).get(e),r=await new dc(n).toPromise();return r===void 0?null:r.value}function vm(t,e){const n=yu(t,!0).delete(e);return new dc(n).toPromise()}const V0=800,L0=3;class Ky{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>L0)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_u._getInstance(O0()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await P0(),!this.activeServiceWorker)return;this.sender=new R0(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zh();return await ym(e,Fl,"1"),await vm(e,Fl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ym(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>x0(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yu(s,!1).getAll();return new dc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ky.type="LOCAL";const M0=Ky;new uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t,e){return e?Kr(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends Hf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function U0(t){return Fy(t.auth,new zf(t),t.bypassAuthState)}function $0(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),m0(n,new zf(t),t.bypassAuthState)}async function j0(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),p0(n,new zf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U0;case"linkViaPopup":case"linkViaRedirect":return j0;case"reauthViaPopup":case"reauthViaRedirect":return $0;default:ir(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new uc(2e3,1e4);class ao extends Gy{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Wf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B0.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="pendingRedirect",dl=new Map;class q0 extends Gy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dl.get(this.auth._key());if(!e){try{const r=await W0(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dl.set(this.auth._key(),e)}return this.bypassAuthState||dl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W0(t,e){const n=G0(e),r=K0(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function z0(t,e){dl.set(t._key(),e)}function K0(t){return Kr(t._redirectPersistence)}function G0(t){return fl(H0,t.config.apiKey,t.name)}async function Q0(t,e,n=!1){if(Ln(t.app))return Promise.reject(Gr(t));const r=Ri(t),s=F0(r,e),o=await new q0(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=10*60*1e3;class Y0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X0(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Qy(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J0&&this.cachedEventUids.clear(),this.cachedEventUids.has(Em(e))}saveEventToCache(e){this.cachedEventUids.add(Em(e)),this.lastProcessedEventTime=Date.now()}}function Em(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qy({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X0(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qy(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(t,e={}){return Ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tR=/^https?/;async function nR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Z0(t);for(const n of e)try{if(rR(n))return}catch{}ir(t,"unauthorized-domain")}function rR(t){const e=Hh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!tR.test(n))return!1;if(eR.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new uc(3e4,6e4);function wm(){const t=Tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iR(t){return new Promise((e,n)=>{var s,i,o;function r(){wm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wm(),n(wr(t,"network-request-failed"))},timeout:sR.get()})}if((i=(s=Tr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Tr().gapi)!=null&&o.load)r();else{const c=JS("iframefcb");return Tr()[c]=()=>{gapi.load?r():n(wr(t,"network-request-failed"))},Ny(`${QS()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw pl=null,e})}let pl=null;function oR(t){return pl=pl||iR(t),pl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new uc(5e3,15e3),cR="__/auth/iframe",lR="emulator/auth/iframe",uR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fR(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?$f(e,lR):`https://${t.config.authDomain}/${cR}`,r={apiKey:e.apiKey,appName:t.name,v:Po},s=hR.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${lc(r).slice(1)}`}async function dR(t){const e=await oR(t),n=Tr().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:fR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uR,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=wr(t,"network-request-failed"),c=Tr().setTimeout(()=>{i(o)},aR.get());function u(){Tr().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mR=500,gR=600,_R="_blank",yR="http://localhost";class Tm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vR(t,e,n,r=mR,s=gR){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...pR,width:r.toString(),height:s.toString(),top:i,left:o},f=fn().toLowerCase();n&&(c=Sy(f)?_R:n),Iy(f)&&(e=e||yR,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[y,O])=>`${v}${y}=${O},`,"");if($S(f)&&c!=="_self")return ER(e||"",c),new Tm(null);const g=window.open(e||"",c,p);Ie(g,t,"popup-blocked");try{g.focus()}catch{}return new Tm(g)}function ER(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="__/auth/handler",TR="emulator/auth/handler",bR=encodeURIComponent("fac");async function bm(t,e,n,r,s,i){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Po,eventId:s};if(e instanceof Ly){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof fc){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await t._getAppCheckToken(),f=u?`#${bR}=${encodeURIComponent(u)}`:"";return`${IR(t)}?${lc(c).slice(1)}${f}`}function IR({config:t}){return t.emulator?$f(t,TR):`https://${t.authDomain}/${wR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="webStorageSupport";class AR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hy,this._completeRedirectFn=Q0,this._overrideRedirectResult=z0}async _openPopup(e,n,r,s){var o;es((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await bm(e,n,r,Hh(),s);return vR(e,i,Wf())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await bm(e,n,r,Hh(),s);return C0(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(es(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dR(e),r=new Y0(e);return n.register("authEvent",s=>(Ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mh,{type:mh},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[mh];i!==void 0&&n(!!i),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Oy()||Ay()||Bf()}}const SR=AR;var Im="@firebase/auth",Am="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PR(t){wi(new Ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dy(t)},f=new zS(r,s,i,u);return n0(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wi(new Ls("auth-internal",e=>{const n=Ri(e.getProvider("auth").getImmediate());return(r=>new RR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Er(Im,Am,CR(t)),Er(Im,Am,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=5*60,OR=uy("authIdTokenMaxAge")||kR;let Sm=null;const DR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OR)return;const s=n==null?void 0:n.token;Sm!==s&&(Sm=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function NR(t=Ff()){const e=mu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=t0(t,{popupRedirectResolver:SR,persistence:[M0,A0,Hy]}),r=uy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=DR(i.toString());E0(n,o,()=>o(n.currentUser)),v0(n,c=>o(c))}}const s=ay("auth");return s&&r0(n,`http://${s}`),n}function xR(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}KS({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=wr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",xR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PR("Browser");var Rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,Jy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function b(){}b.prototype=T.prototype,C.D=T.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(R,P,N){for(var S=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)S[Ct-2]=arguments[Ct];return T.prototype[P].apply(R,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,b){b||(b=0);var R=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)R[P]=T.charCodeAt(b++)|T.charCodeAt(b++)<<8|T.charCodeAt(b++)<<16|T.charCodeAt(b++)<<24;else for(P=0;16>P;++P)R[P]=T[b++]|T[b++]<<8|T[b++]<<16|T[b++]<<24;T=C.g[0],b=C.g[1],P=C.g[2];var N=C.g[3],S=T+(N^b&(P^N))+R[0]+3614090360&4294967295;T=b+(S<<7&4294967295|S>>>25),S=N+(P^T&(b^P))+R[1]+3905402710&4294967295,N=T+(S<<12&4294967295|S>>>20),S=P+(b^N&(T^b))+R[2]+606105819&4294967295,P=N+(S<<17&4294967295|S>>>15),S=b+(T^P&(N^T))+R[3]+3250441966&4294967295,b=P+(S<<22&4294967295|S>>>10),S=T+(N^b&(P^N))+R[4]+4118548399&4294967295,T=b+(S<<7&4294967295|S>>>25),S=N+(P^T&(b^P))+R[5]+1200080426&4294967295,N=T+(S<<12&4294967295|S>>>20),S=P+(b^N&(T^b))+R[6]+2821735955&4294967295,P=N+(S<<17&4294967295|S>>>15),S=b+(T^P&(N^T))+R[7]+4249261313&4294967295,b=P+(S<<22&4294967295|S>>>10),S=T+(N^b&(P^N))+R[8]+1770035416&4294967295,T=b+(S<<7&4294967295|S>>>25),S=N+(P^T&(b^P))+R[9]+2336552879&4294967295,N=T+(S<<12&4294967295|S>>>20),S=P+(b^N&(T^b))+R[10]+4294925233&4294967295,P=N+(S<<17&4294967295|S>>>15),S=b+(T^P&(N^T))+R[11]+2304563134&4294967295,b=P+(S<<22&4294967295|S>>>10),S=T+(N^b&(P^N))+R[12]+1804603682&4294967295,T=b+(S<<7&4294967295|S>>>25),S=N+(P^T&(b^P))+R[13]+4254626195&4294967295,N=T+(S<<12&4294967295|S>>>20),S=P+(b^N&(T^b))+R[14]+2792965006&4294967295,P=N+(S<<17&4294967295|S>>>15),S=b+(T^P&(N^T))+R[15]+1236535329&4294967295,b=P+(S<<22&4294967295|S>>>10),S=T+(P^N&(b^P))+R[1]+4129170786&4294967295,T=b+(S<<5&4294967295|S>>>27),S=N+(b^P&(T^b))+R[6]+3225465664&4294967295,N=T+(S<<9&4294967295|S>>>23),S=P+(T^b&(N^T))+R[11]+643717713&4294967295,P=N+(S<<14&4294967295|S>>>18),S=b+(N^T&(P^N))+R[0]+3921069994&4294967295,b=P+(S<<20&4294967295|S>>>12),S=T+(P^N&(b^P))+R[5]+3593408605&4294967295,T=b+(S<<5&4294967295|S>>>27),S=N+(b^P&(T^b))+R[10]+38016083&4294967295,N=T+(S<<9&4294967295|S>>>23),S=P+(T^b&(N^T))+R[15]+3634488961&4294967295,P=N+(S<<14&4294967295|S>>>18),S=b+(N^T&(P^N))+R[4]+3889429448&4294967295,b=P+(S<<20&4294967295|S>>>12),S=T+(P^N&(b^P))+R[9]+568446438&4294967295,T=b+(S<<5&4294967295|S>>>27),S=N+(b^P&(T^b))+R[14]+3275163606&4294967295,N=T+(S<<9&4294967295|S>>>23),S=P+(T^b&(N^T))+R[3]+4107603335&4294967295,P=N+(S<<14&4294967295|S>>>18),S=b+(N^T&(P^N))+R[8]+1163531501&4294967295,b=P+(S<<20&4294967295|S>>>12),S=T+(P^N&(b^P))+R[13]+2850285829&4294967295,T=b+(S<<5&4294967295|S>>>27),S=N+(b^P&(T^b))+R[2]+4243563512&4294967295,N=T+(S<<9&4294967295|S>>>23),S=P+(T^b&(N^T))+R[7]+1735328473&4294967295,P=N+(S<<14&4294967295|S>>>18),S=b+(N^T&(P^N))+R[12]+2368359562&4294967295,b=P+(S<<20&4294967295|S>>>12),S=T+(b^P^N)+R[5]+4294588738&4294967295,T=b+(S<<4&4294967295|S>>>28),S=N+(T^b^P)+R[8]+2272392833&4294967295,N=T+(S<<11&4294967295|S>>>21),S=P+(N^T^b)+R[11]+1839030562&4294967295,P=N+(S<<16&4294967295|S>>>16),S=b+(P^N^T)+R[14]+4259657740&4294967295,b=P+(S<<23&4294967295|S>>>9),S=T+(b^P^N)+R[1]+2763975236&4294967295,T=b+(S<<4&4294967295|S>>>28),S=N+(T^b^P)+R[4]+1272893353&4294967295,N=T+(S<<11&4294967295|S>>>21),S=P+(N^T^b)+R[7]+4139469664&4294967295,P=N+(S<<16&4294967295|S>>>16),S=b+(P^N^T)+R[10]+3200236656&4294967295,b=P+(S<<23&4294967295|S>>>9),S=T+(b^P^N)+R[13]+681279174&4294967295,T=b+(S<<4&4294967295|S>>>28),S=N+(T^b^P)+R[0]+3936430074&4294967295,N=T+(S<<11&4294967295|S>>>21),S=P+(N^T^b)+R[3]+3572445317&4294967295,P=N+(S<<16&4294967295|S>>>16),S=b+(P^N^T)+R[6]+76029189&4294967295,b=P+(S<<23&4294967295|S>>>9),S=T+(b^P^N)+R[9]+3654602809&4294967295,T=b+(S<<4&4294967295|S>>>28),S=N+(T^b^P)+R[12]+3873151461&4294967295,N=T+(S<<11&4294967295|S>>>21),S=P+(N^T^b)+R[15]+530742520&4294967295,P=N+(S<<16&4294967295|S>>>16),S=b+(P^N^T)+R[2]+3299628645&4294967295,b=P+(S<<23&4294967295|S>>>9),S=T+(P^(b|~N))+R[0]+4096336452&4294967295,T=b+(S<<6&4294967295|S>>>26),S=N+(b^(T|~P))+R[7]+1126891415&4294967295,N=T+(S<<10&4294967295|S>>>22),S=P+(T^(N|~b))+R[14]+2878612391&4294967295,P=N+(S<<15&4294967295|S>>>17),S=b+(N^(P|~T))+R[5]+4237533241&4294967295,b=P+(S<<21&4294967295|S>>>11),S=T+(P^(b|~N))+R[12]+1700485571&4294967295,T=b+(S<<6&4294967295|S>>>26),S=N+(b^(T|~P))+R[3]+2399980690&4294967295,N=T+(S<<10&4294967295|S>>>22),S=P+(T^(N|~b))+R[10]+4293915773&4294967295,P=N+(S<<15&4294967295|S>>>17),S=b+(N^(P|~T))+R[1]+2240044497&4294967295,b=P+(S<<21&4294967295|S>>>11),S=T+(P^(b|~N))+R[8]+1873313359&4294967295,T=b+(S<<6&4294967295|S>>>26),S=N+(b^(T|~P))+R[15]+4264355552&4294967295,N=T+(S<<10&4294967295|S>>>22),S=P+(T^(N|~b))+R[6]+2734768916&4294967295,P=N+(S<<15&4294967295|S>>>17),S=b+(N^(P|~T))+R[13]+1309151649&4294967295,b=P+(S<<21&4294967295|S>>>11),S=T+(P^(b|~N))+R[4]+4149444226&4294967295,T=b+(S<<6&4294967295|S>>>26),S=N+(b^(T|~P))+R[11]+3174756917&4294967295,N=T+(S<<10&4294967295|S>>>22),S=P+(T^(N|~b))+R[2]+718787259&4294967295,P=N+(S<<15&4294967295|S>>>17),S=b+(N^(P|~T))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(P+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+N&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var b=T-this.blockSize,R=this.B,P=this.h,N=0;N<T;){if(P==0)for(;N<=b;)s(this,C,N),N+=this.blockSize;if(typeof C=="string"){for(;N<T;)if(R[P++]=C.charCodeAt(N++),P==this.blockSize){s(this,R),P=0;break}}else for(;N<T;)if(R[P++]=C[N++],P==this.blockSize){s(this,R),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var b=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=b&255,b/=256;for(this.u(C),C=Array(16),T=b=0;4>T;++T)for(var R=0;32>R;R+=8)C[b++]=this.g[T]>>>R&255;return C};function i(C,T){var b=c;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=T(C)}function o(C,T){this.h=T;for(var b=[],R=!0,P=C.length-1;0<=P;P--){var N=C[P]|0;R&&N==T||(b[P]=N,R=!1)}this.g=b}var c={};function u(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return U(f(-C));for(var T=[],b=1,R=0;C>=b;R++)T[R]=C/b|0,b*=4294967296;return new o(T,0)}function p(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return U(p(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=f(Math.pow(T,8)),R=g,P=0;P<C.length;P+=8){var N=Math.min(8,C.length-P),S=parseInt(C.substring(P,P+N),T);8>N?(N=f(Math.pow(T,N)),R=R.j(N).add(f(S))):(R=R.j(b),R=R.add(f(S)))}return R}var g=u(0),v=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(L(this))return-U(this).m();for(var C=0,T=1,b=0;b<this.g.length;b++){var R=this.i(b);C+=(0<=R?R:4294967296+R)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(L(this))return"-"+U(this).toString(C);for(var T=f(Math.pow(C,6)),b=this,R="";;){var P=te(b,T).g;b=J(b,P.j(T));var N=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=P,O(b))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function L(C){return C.h==-1}t.l=function(C){return C=J(this,C),L(C)?-1:O(C)?0:1};function U(C){for(var T=C.g.length,b=[],R=0;R<T;R++)b[R]=~C.g[R];return new o(b,~C.h).add(v)}t.abs=function(){return L(this)?U(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),b=[],R=0,P=0;P<=T;P++){var N=R+(this.i(P)&65535)+(C.i(P)&65535),S=(N>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);R=S>>>16,N&=65535,S&=65535,b[P]=S<<16|N}return new o(b,b[b.length-1]&-2147483648?-1:0)};function J(C,T){return C.add(U(T))}t.j=function(C){if(O(this)||O(C))return g;if(L(this))return L(C)?U(this).j(U(C)):U(U(this).j(C));if(L(C))return U(this.j(U(C)));if(0>this.l(y)&&0>C.l(y))return f(this.m()*C.m());for(var T=this.g.length+C.g.length,b=[],R=0;R<2*T;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<C.g.length;P++){var N=this.i(R)>>>16,S=this.i(R)&65535,Ct=C.i(P)>>>16,Kt=C.i(P)&65535;b[2*R+2*P]+=S*Kt,W(b,2*R+2*P),b[2*R+2*P+1]+=N*Kt,W(b,2*R+2*P+1),b[2*R+2*P+1]+=S*Ct,W(b,2*R+2*P+1),b[2*R+2*P+2]+=N*Ct,W(b,2*R+2*P+2)}for(R=0;R<T;R++)b[R]=b[2*R+1]<<16|b[2*R];for(R=T;R<2*T;R++)b[R]=0;return new o(b,0)};function W(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function Z(C,T){this.g=C,this.h=T}function te(C,T){if(O(T))throw Error("division by zero");if(O(C))return new Z(g,g);if(L(C))return T=te(U(C),T),new Z(U(T.g),U(T.h));if(L(T))return T=te(C,U(T)),new Z(U(T.g),T.h);if(30<C.g.length){if(L(C)||L(T))throw Error("slowDivide_ only works with positive integers.");for(var b=v,R=T;0>=R.l(C);)b=we(b),R=we(R);var P=Ve(b,1),N=Ve(R,1);for(R=Ve(R,2),b=Ve(b,2);!O(R);){var S=N.add(R);0>=S.l(C)&&(P=P.add(b),N=S),R=Ve(R,1),b=Ve(b,1)}return T=J(C,P.j(T)),new Z(P,T)}for(P=g;0<=C.l(T);){for(b=Math.max(1,Math.floor(C.m()/T.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=f(b),S=N.j(T);L(S)||0<S.l(C);)b-=R,N=f(b),S=N.j(T);O(N)&&(N=v),P=P.add(N),C=J(C,S)}return new Z(P,C)}t.A=function(C){return te(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),b=[],R=0;R<T;R++)b[R]=this.i(R)&C.i(R);return new o(b,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),b=[],R=0;R<T;R++)b[R]=this.i(R)|C.i(R);return new o(b,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),b=[],R=0;R<T;R++)b[R]=this.i(R)^C.i(R);return new o(b,this.h^C.h)};function we(C){for(var T=C.g.length+1,b=[],R=0;R<T;R++)b[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(b,C.h)}function Ve(C,T){var b=T>>5;T%=32;for(var R=C.g.length-b,P=[],N=0;N<R;N++)P[N]=0<T?C.i(N+b)>>>T|C.i(N+b+1)<<32-T:C.i(N+b);return new o(P,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Jy=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,Ns=o}).apply(typeof Rm<"u"?Rm:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yy,pa,Xy,ml,Kh,Zy,ev,tv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,m){return a==Array.prototype||a==Object.prototype||(a[h]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var h=0;h<a.length;++h){var m=a[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var m=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var V=a[w];if(!(V in m))break e;m=m[V]}a=a[a.length-1],w=m[a],h=h(w),h!=w&&h!=null&&e(m,a,{configurable:!0,writable:!0,value:h})}}function i(a,h){a instanceof String&&(a+="");var m=0,w=!1,V={next:function(){if(!w&&m<a.length){var M=m++;return{value:h(M,a[M]),done:!1}}return w=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(a){return a||function(){return i(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function f(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function p(a,h,m){return a.call.apply(a.bind,arguments)}function g(a,h,m){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,w),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function v(a,h,m){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,v.apply(null,arguments)}function y(a,h){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function O(a,h){function m(){}m.prototype=h.prototype,a.aa=h.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(w,V,M){for(var re=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)re[tt-2]=arguments[tt];return h.prototype[V].apply(w,re)}}function L(a){const h=a.length;if(0<h){const m=Array(h);for(let w=0;w<h;w++)m[w]=a[w];return m}return[]}function U(a,h){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(u(w)){const V=a.length||0,M=w.length||0;a.length=V+M;for(let re=0;re<M;re++)a[V+re]=w[re]}else a.push(w)}}class J{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function W(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function te(a){return te[" "](a),a}te[" "]=function(){};var we=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Ve(a,h,m){for(const w in a)h.call(m,a[w],w,a)}function C(a,h){for(const m in a)h.call(void 0,a[m],m,a)}function T(a){const h={};for(const m in a)h[m]=a[m];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,h){let m,w;for(let V=1;V<arguments.length;V++){w=arguments[V];for(m in w)a[m]=w[m];for(let M=0;M<b.length;M++)m=b[M],Object.prototype.hasOwnProperty.call(w,m)&&(a[m]=w[m])}}function P(a){var h=1;a=a.split(":");const m=[];for(;0<h&&a.length;)m.push(a.shift()),h--;return a.length&&m.push(a.join(":")),m}function N(a){c.setTimeout(()=>{throw a},0)}function S(){var a=en;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Ct{constructor(){this.h=this.g=null}add(h,m){const w=Kt.get();w.set(h,m),this.h?this.h.next=w:this.g=w,this.h=w}}var Kt=new J(()=>new et,a=>a.reset());class et{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Le=!1,en=new Ct,z=()=>{const a=c.Promise.resolve(void 0);ve=()=>{a.then(tn)}};var tn=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(m){N(m)}var h=Kt;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}Le=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var Ft=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};c.addEventListener("test",m,h),c.removeEventListener("test",m,h)}catch{}return a}();function nn(a,h){if(ot.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(we){e:{try{te(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else m=="mouseover"?h=a.fromElement:m=="mouseout"&&(h=a.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ut[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&nn.aa.h.call(this)}}O(nn,ot);var ut={2:"touch",3:"pen",4:"mouse"};nn.prototype.h=function(){nn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),$=0;function ie(a,h,m,w,V){this.listener=a,this.proxy=null,this.src=h,this.type=m,this.capture=!!w,this.ha=V,this.key=++$,this.da=this.fa=!1}function he(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function He(a){this.src=a,this.g={},this.h=0}He.prototype.add=function(a,h,m,w,V){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var re=A(a,h,w,V);return-1<re?(h=a[re],m||(h.fa=!1)):(h=new ie(h,this.src,M,!!w,V),h.fa=m,a.push(h)),h};function I(a,h){var m=h.type;if(m in a.g){var w=a.g[m],V=Array.prototype.indexOf.call(w,h,void 0),M;(M=0<=V)&&Array.prototype.splice.call(w,V,1),M&&(he(h),a.g[m].length==0&&(delete a.g[m],a.h--))}}function A(a,h,m,w){for(var V=0;V<a.length;++V){var M=a[V];if(!M.da&&M.listener==h&&M.capture==!!m&&M.ha==w)return V}return-1}var x="closure_lm_"+(1e6*Math.random()|0),j={};function H(a,h,m,w,V){if(Array.isArray(h)){for(var M=0;M<h.length;M++)H(a,h[M],m,w,V);return null}return m=me(m),a&&a[B]?a.K(h,m,f(w)?!!w.capture:!1,V):q(a,h,m,!1,w,V)}function q(a,h,m,w,V,M){if(!h)throw Error("Invalid event type");var re=f(V)?!!V.capture:!!V,tt=oe(a);if(tt||(a[x]=tt=new He(a)),m=tt.add(h,m,w,re,M),m.proxy)return m;if(w=ae(),m.proxy=w,w.src=a,w.listener=m,a.addEventListener)Ft||(V=re),V===void 0&&(V=!1),a.addEventListener(h.toString(),w,V);else if(a.attachEvent)a.attachEvent(Y(h.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ae(){function a(m){return h.call(a.src,a.listener,m)}const h=pe;return a}function ne(a,h,m,w,V){if(Array.isArray(h))for(var M=0;M<h.length;M++)ne(a,h[M],m,w,V);else w=f(w)?!!w.capture:!!w,m=me(m),a&&a[B]?(a=a.i,h=String(h).toString(),h in a.g&&(M=a.g[h],m=A(M,m,w,V),-1<m&&(he(M[m]),Array.prototype.splice.call(M,m,1),M.length==0&&(delete a.g[h],a.h--)))):a&&(a=oe(a))&&(h=a.g[h.toString()],a=-1,h&&(a=A(h,m,w,V)),(m=-1<a?h[a]:null)&&ee(m))}function ee(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[B])I(h.i,a);else{var m=a.type,w=a.proxy;h.removeEventListener?h.removeEventListener(m,w,a.capture):h.detachEvent?h.detachEvent(Y(m),w):h.addListener&&h.removeListener&&h.removeListener(w),(m=oe(h))?(I(m,a),m.h==0&&(m.src=null,h[x]=null)):he(a)}}}function Y(a){return a in j?j[a]:j[a]="on"+a}function pe(a,h){if(a.da)a=!0;else{h=new nn(h,this);var m=a.listener,w=a.ha||a.src;a.fa&&ee(a),a=m.call(w,h)}return a}function oe(a){return a=a[x],a instanceof He?a:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(a){return typeof a=="function"?a:(a[de]||(a[de]=function(h){return a.handleEvent(h)}),a[de])}function _e(){lt.call(this),this.i=new He(this),this.M=this,this.F=null}O(_e,lt),_e.prototype[B]=!0,_e.prototype.removeEventListener=function(a,h,m,w){ne(this,a,h,m,w)};function Ce(a,h){var m,w=a.F;if(w)for(m=[];w;w=w.F)m.push(w);if(a=a.M,w=h.type||h,typeof h=="string")h=new ot(h,a);else if(h instanceof ot)h.target=h.target||a;else{var V=h;h=new ot(w,a),R(h,V)}if(V=!0,m)for(var M=m.length-1;0<=M;M--){var re=h.g=m[M];V=Fe(re,w,!0,h)&&V}if(re=h.g=a,V=Fe(re,w,!0,h)&&V,V=Fe(re,w,!1,h)&&V,m)for(M=0;M<m.length;M++)re=h.g=m[M],V=Fe(re,w,!1,h)&&V}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var m=a.g[h],w=0;w<m.length;w++)he(m[w]);delete a.g[h],a.h--}}this.F=null},_e.prototype.K=function(a,h,m,w){return this.i.add(String(a),h,!1,m,w)},_e.prototype.L=function(a,h,m,w){return this.i.add(String(a),h,!0,m,w)};function Fe(a,h,m,w){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,M=0;M<h.length;++M){var re=h[M];if(re&&!re.da&&re.capture==m){var tt=re.listener,Vt=re.ha||re.src;re.fa&&I(a.i,re),V=tt.call(Vt,w)!==!1&&V}}return V&&!w.defaultPrevented}function _t(a,h,m){if(typeof a=="function")m&&(a=v(a,m));else if(a&&typeof a.handleEvent=="function")a=v(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(a,h||0)}function gt(a){a.g=_t(()=>{a.g=null,a.i&&(a.i=!1,gt(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Dt extends lt{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:gt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(a){lt.call(this),this.h=a,this.g={}}O(bt,lt);var ar=[];function Or(a){Ve(a.g,function(h,m){this.g.hasOwnProperty(m)&&ee(h)},a),a.g={}}bt.prototype.N=function(){bt.aa.N.call(this),Or(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=c.JSON.stringify,bn=c.JSON.parse,Di=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Vo(){}Vo.prototype.h=null;function vc(a){return a.h||(a.h=a.i())}function Ec(){}var ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function is(){ot.call(this,"d")}O(is,ot);function Ni(){ot.call(this,"c")}O(Ni,ot);var cr={},wc=null;function xi(){return wc=wc||new _e}cr.La="serverreachability";function Tc(a){ot.call(this,cr.La,a)}O(Tc,ot);function zs(a){const h=xi();Ce(h,new Tc(h))}cr.STAT_EVENT="statevent";function Dr(a,h){ot.call(this,cr.STAT_EVENT,a),this.stat=h}O(Dr,ot);function It(a){const h=xi();Ce(h,new Dr(h,a))}cr.Ma="timingevent";function bc(a,h){ot.call(this,cr.Ma,a),this.size=h}O(bc,ot);function Ks(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},h)}function Gs(){this.g=!0}Gs.prototype.xa=function(){this.g=!1};function xu(a,h,m,w,V,M){a.info(function(){if(a.g)if(M)for(var re="",tt=M.split("&"),Vt=0;Vt<tt.length;Vt++){var qe=tt[Vt].split("=");if(1<qe.length){var $t=qe[0];qe=qe[1];var jt=$t.split("_");re=2<=jt.length&&jt[1]=="type"?re+($t+"="+qe+"&"):re+($t+"=redacted&")}}else re=null;else re=M;return"XMLHTTP REQ ("+w+") [attempt "+V+"]: "+h+`
`+m+`
`+re})}function Vu(a,h,m,w,V,M,re){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+V+"]: "+h+`
`+m+`
`+M+" "+re})}function lr(a,h,m,w){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Vi(a,m)+(w?" "+w:"")})}function os(a,h){a.info(function(){return"TIMEOUT: "+h})}Gs.prototype.info=function(){};function Vi(a,h){if(!a.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var w=m[a];if(!(2>w.length)){var V=w[1];if(Array.isArray(V)&&!(1>V.length)){var M=V[0];if(M!="noop"&&M!="stop"&&M!="close")for(var re=1;re<V.length;re++)V[re]=""}}}}return Nt(m)}catch{return h}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lo;function Fi(){}O(Fi,Vo),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},Lo=new Fi;function pn(a,h,m,w){this.j=a,this.i=h,this.l=m,this.R=w||1,this.U=new bt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var rn={},Gt={};function xt(a,h,m){a.L=1,a.v=Vr(wt(h)),a.m=m,a.P=!0,Qs(a,null)}function Qs(a,h){a.F=Date.now(),Jn(a),a.A=wt(a.v);var m=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),ji(m.i,"t",w),a.C=0,m=a.j.J,a.h=new Ut,a.g=Mc(a.j,m?h:null,!a.m),0<a.O&&(a.M=new Dt(v(a.Y,a,a.g),a.O)),h=a.U,m=a.g,w=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(ar[0]=V.toString()),V=ar);for(var M=0;M<V.length;M++){var re=H(m,V[M],w||h.handleEvent,!1,h.h||h);if(!re)break;h.g[re.key]=re}h=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),zs(),xu(a.i,a.u,a.A,a.l,a.R,a.m)}pn.prototype.ca=function(a){a=a.target;const h=this.M;h&&sn(a)==3?h.j():this.Y(a)},pn.prototype.Y=function(a){try{if(a==this.g)e:{const jt=sn(this.g);var h=this.g.Ba();const Bt=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Nc(this.g)))){this.J||jt!=4||h==7||(h==8||0>=Bt?zs(3):zs(2)),Js(this);var m=this.g.Z();this.X=m;t:if(Nr(this)){var w=Nc(this.g);a="";var V=w.length,M=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ur(this),Fn(this);var re="";break t}this.h.i=new c.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(w[h],{stream:!(M&&h==V-1)});w.length=0,this.h.g+=a,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=m==200,Vu(this.i,this.u,this.A,this.l,this.R,jt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Vt=this.g;if((tt=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(tt)){var qe=tt;break t}}qe=null}if(m=qe)lr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ys(this,m);else{this.o=!1,this.s=3,It(12),ur(this),Fn(this);break e}}if(this.P){m=!0;let An;for(;!this.J&&this.C<re.length;)if(An=xr(this,re),An==Gt){jt==4&&(this.s=4,It(14),m=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(An==rn){this.s=4,It(15),lr(this.i,this.l,re,"[Invalid Chunk]"),m=!1;break}else lr(this.i,this.l,An,null),Ys(this,An);if(Nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||re.length!=0||this.h.h||(this.s=1,It(16),m=!1),this.o=this.o&&m,!m)lr(this.i,this.l,re,"[Invalid Chunked Response]"),ur(this),Fn(this);else if(0<re.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ea($t),$t.M=!0,It(11))}}else lr(this.i,this.l,re,null),Ys(this,re);jt==4&&ur(this),this.o&&!this.J&&(jt==4?ta(this.j,this):(this.o=!1,Jn(this)))}else xc(this.g),m==400&&0<re.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),ur(this),Fn(this)}}}catch{}finally{}};function Nr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function xr(a,h){var m=a.C,w=h.indexOf(`
`,m);return w==-1?Gt:(m=Number(h.substring(m,w)),isNaN(m)?rn:(w+=1,w+m>h.length?Gt:(h=h.slice(w,w+m),a.C=w+m,h)))}pn.prototype.cancel=function(){this.J=!0,ur(this)};function Jn(a){a.S=Date.now()+a.I,Mo(a,a.I)}function Mo(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ks(v(a.ba,a),h)}function Js(a){a.B&&(c.clearTimeout(a.B),a.B=null)}pn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(os(this.i,this.A),this.L!=2&&(zs(),It(17)),ur(this),this.s=2,Fn(this)):Mo(this,this.S-a)};function Fn(a){a.j.G==0||a.J||ta(a.j,a)}function ur(a){Js(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Or(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Ys(a,h){try{var m=a.j;if(m.G!=0&&(m.g==a||Ui(m.h,a))){if(!a.K&&Ui(m.h,a)&&m.G==3){try{var w=m.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var V=w;if(V[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)ri(m),ei(m);else break e;Zo(m),It(18)}}else m.za=V[1],0<m.za-m.T&&37500>V[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ks(v(m.Za,m),6e3));if(1>=jo(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Xn(m,11)}else if((a.K||m.g==a)&&ri(m),!W(h))for(V=m.Da.g.parse(h),h=0;h<V.length;h++){let qe=V[h];if(m.T=qe[0],qe=qe[1],m.G==2)if(qe[0]=="c"){m.K=qe[1],m.ia=qe[2];const $t=qe[3];$t!=null&&(m.la=$t,m.j.info("VER="+m.la));const jt=qe[4];jt!=null&&(m.Aa=jt,m.j.info("SVER="+m.Aa));const Bt=qe[5];Bt!=null&&typeof Bt=="number"&&0<Bt&&(w=1.5*Bt,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const An=a.g;if(An){const si=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var M=w.h;M.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&($i(M,M.h),M.h=null))}if(w.D){const Qi=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Qi&&(w.ya=Qi,ze(w.I,w.D,Qi))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var re=a;if(w.qa=na(w,w.J?w.ia:null,w.W),re.K){Bo(w.h,re);var tt=re,Vt=w.L;Vt&&(tt.I=Vt),tt.B&&(Js(tt),Jn(tt)),w.g=re}else ni(w);0<m.i.length&&ti(m)}else qe[0]!="stop"&&qe[0]!="close"||Xn(m,7);else m.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Xn(m,7):Wi(m):qe[0]!="noop"&&m.l&&m.l.ta(qe),m.v=0)}}zs(4)}catch{}}var Fo=class{constructor(a,h){this.g=a,this.map=h}};function Uo(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $o(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function jo(a){return a.h?1:a.g?a.g.size:0}function Ui(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function $i(a,h){a.g?a.g.add(h):a.h=h}function Bo(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Uo.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ho(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const m of a.g.values())h=h.concat(m.D);return h}return L(a.i)}function Ic(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],m=a.length,w=0;w<m;w++)h.push(a[w]);return h}h=[],m=0;for(w in a)h[m++]=a[w];return h}function Ac(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var m=0;m<a;m++)h.push(m);return h}h=[],m=0;for(const w in a)h[m++]=w;return h}}}function qo(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var m=Ac(a),w=Ic(a),V=w.length,M=0;M<V;M++)h.call(void 0,w[M],m&&m[M],a)}var On=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mn(a,h){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var w=a[m].indexOf("="),V=null;if(0<=w){var M=a[m].substring(0,w);V=a[m].substring(w+1)}else M=a[m];h(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function gn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof gn){this.h=a.h,as(this,a.j),this.o=a.o,this.g=a.g,cs(this,a.s),this.l=a.l;var h=a.i,m=new In;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Dn(this,m),this.m=a.m}else a&&(h=String(a).match(On))?(this.h=!1,as(this,h[1]||"",!0),this.o=Un(h[2]||""),this.g=Un(h[3]||"",!0),cs(this,h[4]),this.l=Un(h[5]||"",!0),Dn(this,h[6]||"",!0),this.m=Un(h[7]||"")):(this.h=!1,this.i=new In(null,this.h))}gn.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Lr(h,Mr,!0),":");var m=this.g;return(m||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Lr(h,Mr,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Lr(m,m.charAt(0)=="/"?Rc:Wo,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Lr(m,Lu)),a.join("")};function wt(a){return new gn(a)}function as(a,h,m){a.j=m?Un(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function cs(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Dn(a,h,m){h instanceof In?(a.i=h,Cc(a.i,a.h)):(m||(h=Lr(h,Yn)),a.i=new In(h,a.h))}function ze(a,h,m){a.i.set(h,m)}function Vr(a){return ze(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Un(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Lr(a,h,m){return typeof a=="string"?(a=encodeURI(a).replace(h,Sc),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Sc(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Mr=/[#\/\?@]/g,Wo=/[#\?:]/g,Rc=/[#\?]/g,Yn=/[#\?@]/g,Lu=/#/g;function In(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Nn(a){a.g||(a.g=new Map,a.h=0,a.i&&mn(a.i,function(h,m){a.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=In.prototype,t.add=function(a,h){Nn(this),this.i=null,a=$n(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(h),this.h+=1,this};function zo(a,h){Nn(a),h=$n(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function ls(a,h){return Nn(a),h=$n(a,h),a.g.has(h)}t.forEach=function(a,h){Nn(this),this.g.forEach(function(m,w){m.forEach(function(V){a.call(h,V,w,this)},this)},this)},t.na=function(){Nn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let w=0;w<h.length;w++){const V=a[w];for(let M=0;M<V.length;M++)m.push(h[w])}return m},t.V=function(a){Nn(this);let h=[];if(typeof a=="string")ls(this,a)&&(h=h.concat(this.g.get($n(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)h=h.concat(a[m])}return h},t.set=function(a,h){return Nn(this),this.i=null,a=$n(this,a),ls(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function ji(a,h,m){zo(a,h),0<m.length&&(a.i=null,a.g.set($n(a,h),L(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var w=h[m];const M=encodeURIComponent(String(w)),re=this.V(w);for(w=0;w<re.length;w++){var V=M;re[w]!==""&&(V+="="+encodeURIComponent(String(re[w]))),a.push(V)}}return this.i=a.join("&")};function $n(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Cc(a,h){h&&!a.j&&(Nn(a),a.i=null,a.g.forEach(function(m,w){var V=w.toLowerCase();w!=V&&(zo(this,w),ji(this,V,m))},a)),a.j=h}function Pc(a,h){const m=new Gs;if(c.Image){const w=new Image;w.onload=y(_n,m,"TestLoadImage: loaded",!0,h,w),w.onerror=y(_n,m,"TestLoadImage: error",!1,h,w),w.onabort=y(_n,m,"TestLoadImage: abort",!1,h,w),w.ontimeout=y(_n,m,"TestLoadImage: timeout",!1,h,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else h(!1)}function kc(a,h){const m=new Gs,w=new AbortController,V=setTimeout(()=>{w.abort(),_n(m,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:w.signal}).then(M=>{clearTimeout(V),M.ok?_n(m,"TestPingServer: ok",!0,h):_n(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),_n(m,"TestPingServer: error",!1,h)})}function _n(a,h,m,w,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),w(m)}catch{}}function Mu(){this.g=new Di}function Oc(a,h,m){const w=m||"";try{qo(a,function(V,M){let re=V;f(V)&&(re=Nt(V)),h.push(w+M+"="+encodeURIComponent(re))})}catch(V){throw h.push(w+"type="+encodeURIComponent("_badmap")),V}}function us(a){this.l=a.Ub||null,this.j=a.eb||!1}O(us,Vo),us.prototype.g=function(){return new Fr(this.l,this.j)},us.prototype.i=function(a){return function(){return a}}({});function Fr(a,h){_e.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Fr,_e),t=Fr.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,hr(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bi(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bi(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Xs(this):hr(this),this.readyState==3&&Bi(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Xs(this))},t.Qa=function(a){this.g&&(this.response=a,Xs(this))},t.ga=function(){this.g&&Xs(this)};function Xs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,hr(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=h.next();return a.join(`\r
`)};function hr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Dc(a){let h="";return Ve(a,function(m,w){h+=w,h+=":",h+=m,h+=`\r
`}),h}function Hi(a,h,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Dc(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):ze(a,h,m))}function ht(a){_e.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(ht,_e);var Ko=/^https?$/i,Go=["POST","PUT"];t=ht.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lo.g(),this.v=this.o?vc(this.o):vc(Lo),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(M){Qo(this,M);return}if(a=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var V in w)m.set(V,w[V]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const M of w.keys())m.set(M,w.get(M));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(M=>M.toLowerCase()=="content-type"),V=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Go,h,void 0))||w||V||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,re]of m)this.g.setRequestHeader(M,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jo(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){Qo(this,M)}};function Qo(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,hs(a),Zs(a)}function hs(a){a.A||(a.A=!0,Ce(a,"complete"),Ce(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ce(this,"complete"),Ce(this,"abort"),Zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qi(this):this.bb())},t.bb=function(){qi(this)};function qi(a){if(a.h&&typeof o<"u"&&(!a.v[1]||sn(a)!=4||a.Z()!=2)){if(a.u&&sn(a)==4)_t(a.Ea,0,a);else if(Ce(a,"readystatechange"),sn(a)==4){a.h=!1;try{const re=a.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var w;if(w=re===0){var V=String(a.D).match(On)[1]||null;!V&&c.self&&c.self.location&&(V=c.self.location.protocol.slice(0,-1)),w=!Ko.test(V?V.toLowerCase():"")}m=w}if(m)Ce(a,"complete"),Ce(a,"success");else{a.m=6;try{var M=2<sn(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",hs(a)}}finally{Zs(a)}}}}function Zs(a,h){if(a.g){Jo(a);const m=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Ce(a,"ready");try{m.onreadystatechange=w}catch{}}}function Jo(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function sn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),bn(h)}};function Nc(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function xc(a){const h={};a=(a.g&&2<=sn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(W(a[w]))continue;var m=P(a[w]);const V=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const M=h[V]||[];h[V]=M,M.push(m)}C(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(a,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||h}function Yo(a){this.Aa=0,this.i=[],this.j=new Gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,a),this.cb=fs("retryDelaySeedMs",1e4,a),this.Wa=fs("forwardChannelMaxRetries",2,a),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Uo(a&&a.concurrentRequestLimit),this.Da=new Mu,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yo.prototype,t.la=8,t.G=1,t.connect=function(a,h,m,w){It(0),this.W=a,this.H=h||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=na(this,null,this.W),ti(this)};function Wi(a){if(zi(a),a.G==3){var h=a.U++,m=wt(a.I);if(ze(m,"SID",a.K),ze(m,"RID",h),ze(m,"TYPE","terminate"),ds(a,m),h=new pn(a,a.j,h),h.L=2,h.v=Vr(wt(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&c.Image&&(new Image().src=h.v,m=!0),m||(h.g=Mc(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Jn(h)}Lc(a)}function ei(a){a.g&&(ea(a),a.g.cancel(),a.g=null)}function zi(a){ei(a),a.u&&(c.clearTimeout(a.u),a.u=null),ri(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function ti(a){if(!$o(a.h)&&!a.s){a.s=!0;var h=a.Ga;ve||z(),Le||(ve(),Le=!0),en.add(h,a),a.B=0}}function Fu(a,h){return jo(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ks(v(a.Ga,a,h),fr(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new pn(this,this.j,a);let M=this.o;if(this.S&&(M?(M=T(M),R(M,this.S)):M=this.S),this.m!==null||this.O||(V.H=M,M=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Xo(this,V,h),m=wt(this.I),ze(m,"RID",a),ze(m,"CVER",22),this.D&&ze(m,"X-HTTP-Session-Id",this.D),ds(this,m),M&&(this.O?h="headers="+encodeURIComponent(String(Dc(M)))+"&"+h:this.m&&Hi(m,this.m,M)),$i(this.h,V),this.Ua&&ze(m,"TYPE","init"),this.P?(ze(m,"$req",h),ze(m,"SID","null"),V.T=!0,xt(V,m,null)):xt(V,m,h),this.G=2}}else this.G==3&&(a?Vc(this,a):this.i.length==0||$o(this.h)||Vc(this))};function Vc(a,h){var m;h?m=h.l:m=a.U++;const w=wt(a.I);ze(w,"SID",a.K),ze(w,"RID",m),ze(w,"AID",a.T),ds(a,w),a.m&&a.o&&Hi(w,a.m,a.o),m=new pn(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Xo(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),$i(a.h,m),xt(m,w,h)}function ds(a,h){a.H&&Ve(a.H,function(m,w){ze(h,w,m)}),a.l&&qo({},function(m,w){ze(h,w,m)})}function Xo(a,h,m){m=Math.min(a.i.length,m);var w=a.l?v(a.l.Na,a.l,a):null;e:{var V=a.i;let M=-1;for(;;){const re=["count="+m];M==-1?0<m?(M=V[0].g,re.push("ofs="+M)):M=0:re.push("ofs="+M);let tt=!0;for(let Vt=0;Vt<m;Vt++){let qe=V[Vt].g;const $t=V[Vt].map;if(qe-=M,0>qe)M=Math.max(0,V[Vt].g-100),tt=!1;else try{Oc($t,re,"req"+qe+"_")}catch{w&&w($t)}}if(tt){w=re.join("&");break e}}}return a=a.i.splice(0,m),h.D=a,w}function ni(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;ve||z(),Le||(ve(),Le=!0),en.add(h,a),a.v=0}}function Zo(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ks(v(a.Fa,a),fr(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ki(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ks(v(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),ei(this),Ki(this))};function ea(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Ki(a){a.g=new pn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=wt(a.qa);ze(h,"RID","rpc"),ze(h,"SID",a.K),ze(h,"AID",a.T),ze(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&ze(h,"TO",a.ja),ze(h,"TYPE","xmlhttp"),ds(a,h),a.m&&a.o&&Hi(h,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Vr(wt(h)),m.m=null,m.P=!0,Qs(m,a)}t.Za=function(){this.C!=null&&(this.C=null,ei(this),Zo(this),It(19))};function ri(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function ta(a,h){var m=null;if(a.g==h){ri(a),ea(a),a.g=null;var w=2}else if(Ui(a.h,h))m=h.D,Bo(a.h,h),w=1;else return;if(a.G!=0){if(h.o)if(w==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;w=xi(),Ce(w,new bc(w,m)),ti(a)}else ni(a);else if(V=h.s,V==3||V==0&&0<h.X||!(w==1&&Fu(a,h)||w==2&&Zo(a)))switch(m&&0<m.length&&(h=a.h,h.i=h.i.concat(m)),V){case 1:Xn(a,5);break;case 4:Xn(a,10);break;case 3:Xn(a,6);break;default:Xn(a,2)}}}function fr(a,h){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*h}function Xn(a,h){if(a.j.info("Error code "+h),h==2){var m=v(a.fb,a),w=a.Xa;const V=!w;w=new gn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||as(w,"https"),Vr(w),V?Pc(w.toString(),m):kc(w.toString(),m)}else It(2);a.G=0,a.l&&a.l.sa(h),Lc(a),zi(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Lc(a){if(a.G=0,a.ka=[],a.l){const h=Ho(a.h);(h.length!=0||a.i.length!=0)&&(U(a.ka,h),U(a.ka,a.i),a.h.i.length=0,L(a.i),a.i.length=0),a.l.ra()}}function na(a,h,m){var w=m instanceof gn?wt(m):new gn(m);if(w.g!="")h&&(w.g=h+"."+w.g),cs(w,w.s);else{var V=c.location;w=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var M=new gn(null);w&&as(M,w),h&&(M.g=h),V&&cs(M,V),m&&(M.l=m),w=M}return m=a.D,h=a.ya,m&&h&&ze(w,m,h),ze(w,"VER",a.la),ds(a,w),w}function Mc(a,h,m){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new ht(new us({eb:m})):new ht(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fc(){}t=Fc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gi(){}Gi.prototype.g=function(a,h){return new yn(a,h)};function yn(a,h){_e.call(this),this.g=new Yo(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!W(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!W(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new ps(this)}O(yn,_e),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Wi(this.g)},yn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Nt(a),a=m);h.i.push(new Fo(h.Ya++,a)),h.G==3&&ti(h)},yn.prototype.N=function(){this.g.l=null,delete this.j,Wi(this.g),delete this.g,yn.aa.N.call(this)};function ra(a){is.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const m in h){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}O(ra,is);function sa(){Ni.call(this),this.status=1}O(sa,Ni);function ps(a){this.g=a}O(ps,Fc),ps.prototype.ua=function(){Ce(this.g,"a")},ps.prototype.ta=function(a){Ce(this.g,new ra(a))},ps.prototype.sa=function(a){Ce(this.g,new sa)},ps.prototype.ra=function(){Ce(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,tv=function(){return new Gi},ev=function(){return xi()},Zy=cr,Kh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,ml=Li,Mi.COMPLETE="complete",Xy=Mi,Ec.EventType=ss,ss.OPEN="a",ss.CLOSE="b",ss.ERROR="c",ss.MESSAGE="d",_e.prototype.listen=_e.prototype.K,pa=Ec,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Yy=ht}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const Cm="@firebase/firestore",Pm="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Lf("@firebase/firestore");function no(){return Ii.logLevel}function le(t,...e){if(Ii.logLevel<=Ue.DEBUG){const n=e.map(Kf);Ii.debug(`Firestore (${Oo}): ${t}`,...n)}}function ts(t,...e){if(Ii.logLevel<=Ue.ERROR){const n=e.map(Kf);Ii.error(`Firestore (${Oo}): ${t}`,...n)}}function Eo(t,...e){if(Ii.logLevel<=Ue.WARN){const n=e.map(Kf);Ii.warn(`Firestore (${Oo}): ${t}`,...n)}}function Kf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nv(t,r,n)}function nv(t,e,n){let r=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function Ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||nv(e,s,r)}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class LR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MR{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new xs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new rv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class FR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new FR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class km{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $R{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new km(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new km(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=jR(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function Gh(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return gh(s)===gh(i)?$e(s,i):gh(s)?1:-1}return $e(t.length,e.length)}const BR=55296,HR=57343;function gh(t){const e=t.charCodeAt(0);return e>=BR&&e<=HR}function wo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="__name__";class _r{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_r.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return $e(e.length,n.length)}static compareSegments(e,n){const r=_r.isNumericId(e),s=_r.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_r.extractNumericId(e).compare(_r.extractNumericId(n)):Gh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class vt extends _r{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends _r{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return qR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Om}static keyField(){return new Xt([Om])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ge(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ge(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ge(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new ge(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(vt.fromString(e))}static fromName(e){return new ye(vt.fromString(e).popFirst(5))}static empty(){return new ye(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e,n){if(!n)throw new ge(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zR(t,e,n,r){if(e===!0&&r===!0)throw new ge(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dm(t){if(!ye.isDocumentKey(t))throw new ge(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Ga(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qf(t);throw new ge(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function pc(t,e){if(!sv(t))throw new ge(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ge(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-62135596800,xm=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xm);return new mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nm)throw new ge(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xm}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pc(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:kt("string",mt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new mt(0,0))}static max(){return new Re(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=-1;function KR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Ms(s,ye.empty(),e)}function GR(t){return new Ms(t.readTime,t.key,Qa)}class Ms{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ms(Re.min(),ye.empty(),Qa)}static max(){return new Ms(Re.max(),ye.empty(),Qa)}}function QR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==JR)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let u=0;u<i;u++){const f=u;n(e[f]).next(p=>{o[f]=p,++c,c===i&&r(o)},p=>s(p))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function XR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=-1;function Eu(t){return t==null}function $l(t){return t===0&&1/t==-1/0}function ZR(t){return typeof t=="number"&&Number.isInteger(t)&&!$l(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="";function eC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Vm(e)),e=tC(t.get(n),e);return Vm(e)}function tC(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case iv:n+="";break;default:n+=i}}return n}function Vm(t){return t+iv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ci(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ov(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new el(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new el(this.root,e,this.comparator,!1)}getReverseIterator(){return new el(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new el(this.root,e,this.comparator,!0)}}class el{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=s??Qt.EMPTY,this.right=i??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mm(this.data.getIterator())}getIteratorFrom(e){return new Mm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Mm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new nr([])}unionWith(e){let n=new Mt(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new av("Invalid base64 string: "+i):i}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(Ze(!!t,39018),typeof t=="string"){let e=0;const n=nC.exec(t);if(Ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?Zt.fromBase64String(t):Zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="server_timestamp",lv="__type__",uv="__previous_value__",hv="__local_write_time__";function Yf(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[lv])==null?void 0:r.stringValue)===cv}function wu(t){const e=t.mapValue.fields[uv];return Yf(e)?wu(e):e}function Ja(t){const e=Fs(t.mapValue.fields[hv].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,s,i,o,c,u,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=p}}const jl="(default)";class Ya{constructor(e,n){this.projectId=e,this.database=n||jl}static empty(){return new Ya("","")}get isDefaultDatabase(){return this.database===jl}isEqual(e){return e instanceof Ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__type__",sC="__max__",tl={mapValue:{}},dv="__vector__",Bl="value";function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yf(t)?4:oC(t)?9007199254740991:iC(t)?10:11:Ae(28295,{value:t})}function Cr(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ja(t).isEqual(Ja(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Fs(s.timestampValue),c=Fs(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Us(s.bytesValue).isEqual(Us(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return St(s.geoPointValue.latitude)===St(i.geoPointValue.latitude)&&St(s.geoPointValue.longitude)===St(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return St(s.integerValue)===St(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=St(s.doubleValue),c=St(i.doubleValue);return o===c?$l(o)===$l(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Lm(o)!==Lm(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Cr(o[u],c[u])))return!1;return!0}(t,e);default:return Ae(52216,{left:t})}}function Xa(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function To(t,e){if(t===e)return 0;const n=$s(t),r=$s(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const c=St(i.integerValue||i.doubleValue),u=St(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Fm(t.timestampValue,e.timestampValue);case 4:return Fm(Ja(t),Ja(e));case 5:return Gh(t.stringValue,e.stringValue);case 6:return function(i,o){const c=Us(i),u=Us(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),u=o.split("/");for(let f=0;f<c.length&&f<u.length;f++){const p=$e(c[f],u[f]);if(p!==0)return p}return $e(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const c=$e(St(i.latitude),St(o.latitude));return c!==0?c:$e(St(i.longitude),St(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Um(t.arrayValue,e.arrayValue);case 10:return function(i,o){var v,y,O,L;const c=i.fields||{},u=o.fields||{},f=(v=c[Bl])==null?void 0:v.arrayValue,p=(y=u[Bl])==null?void 0:y.arrayValue,g=$e(((O=f==null?void 0:f.values)==null?void 0:O.length)||0,((L=p==null?void 0:p.values)==null?void 0:L.length)||0);return g!==0?g:Um(f,p)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===tl.mapValue&&o===tl.mapValue)return 0;if(i===tl.mapValue)return 1;if(o===tl.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),f=o.fields||{},p=Object.keys(f);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const v=Gh(u[g],p[g]);if(v!==0)return v;const y=To(c[u[g]],f[p[g]]);if(y!==0)return y}return $e(u.length,p.length)}(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function Fm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=Fs(t),r=Fs(e),s=$e(n.seconds,r.seconds);return s!==0?s:$e(n.nanos,r.nanos)}function Um(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=To(n[s],r[s]);if(i)return i}return $e(n.length,r.length)}function bo(t){return Qh(t)}function Qh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Qh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Qh(n.fields[o])}`;return s+"}"}(t.mapValue):Ae(61005,{value:t})}function gl(t){switch($s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wu(t);return e?16+gl(e):16;case 5:return 2*t.stringValue.length;case 6:return Us(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+gl(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ci(r.fields,(i,o)=>{s+=i.length+gl(o)}),s}(t.mapValue);default:throw Ae(13486,{value:t})}}function Jh(t){return!!t&&"integerValue"in t}function Xf(t){return!!t&&"arrayValue"in t}function $m(t){return!!t&&"nullValue"in t}function jm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _l(t){return!!t&&"mapValue"in t}function iC(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fv])==null?void 0:r.stringValue)===dv}function ka(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ci(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ka(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ka(t.arrayValue.values[n]);return e}return{...t}}function oC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(n)}setAll(e){let n=Xt.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=ka(o):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());_l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];_l(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ci(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Wn(ka(this.value))}}function pv(t){const e=[];return Ci(t.fields,(n,r)=>{const s=new Xt([n]);if(_l(r)){const i=pv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new un(e,0,Re.min(),Re.min(),Re.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,s){return new un(e,1,n,Re.min(),r,s,0)}static newNoDocument(e,n){return new un(e,2,n,Re.min(),Re.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Re.min(),Re.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.position=e,this.inclusive=n}}function Bm(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=To(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function aC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{}class Lt extends mv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lC(e,n,r):n==="array-contains"?new fC(e,r):n==="in"?new dC(e,r):n==="not-in"?new pC(e,r):n==="array-contains-any"?new mC(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uC(e,r):new hC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends mv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pr(e,n)}matches(e){return gv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gv(t){return t.op==="and"}function _v(t){return cC(t)&&gv(t)}function cC(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function Yh(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(_v(t))return t.filters.map(e=>Yh(e)).join(",");{const e=t.filters.map(n=>Yh(n)).join(",");return`${t.op}(${e})`}}function yv(t,e){return t instanceof Lt?function(r,s){return s instanceof Lt&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(t,e):t instanceof Pr?function(r,s){return s instanceof Pr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,c)=>i&&yv(o,s.filters[c]),!0):!1}(t,e):void Ae(19439)}function vv(t){return t instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(vv).join(" ,")+"}"}(t):"Filter"}class lC extends Lt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class uC extends Lt{constructor(e,n){super(e,"in",n),this.keys=Ev("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hC extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=Ev("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ev(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class fC extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xf(n)&&Xa(n.arrayValue,this.value)}}class dC extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xa(this.value.arrayValue,n)}}class pC extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xa(this.value.arrayValue,n)}}class mC extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function qm(t,e=null,n=[],r=[],s=null,i=null,o=null){return new gC(t,e,n,r,s,i,o)}function Zf(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Eu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bo(r)).join(",")),e.Te=n}return e.Te}function ed(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hm(t.startAt,e.startAt)&&Hm(t.endAt,e.endAt)}function Xh(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _C(t,e,n,r,s,i,o,c){return new Tu(t,e,n,r,s,i,o,c)}function td(t){return new Tu(t)}function Wm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yC(t){return t.collectionGroup!==null}function Oa(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Mt(Xt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ql(i,r))}),n.has(Xt.keyField().canonicalString())||e.Ie.push(new ql(Xt.keyField(),r))}return e.Ie}function br(t){const e=Oe(t);return e.Ee||(e.Ee=vC(e,Oa(t))),e.Ee}function vC(t,e){if(t.limitType==="F")return qm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ql(s.field,i)});const n=t.endAt?new Hl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hl(t.startAt.position,t.startAt.inclusive):null;return qm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zh(t,e,n){return new Tu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bu(t,e){return ed(br(t),br(e))&&t.limitType===e.limitType}function wv(t){return`${Zf(br(t))}|lt:${t.limitType}`}function ro(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>vv(s)).join(", ")}]`),Eu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>bo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>bo(s)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Iu(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Oa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,u){const f=Bm(o,c,u);return o.inclusive?f<=0:f<0}(r.startAt,Oa(r),s)||r.endAt&&!function(o,c,u){const f=Bm(o,c,u);return o.inclusive?f>=0:f>0}(r.endAt,Oa(r),s))}(t,e)}function EC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Tv(t){return(e,n)=>{let r=!1;for(const s of Oa(t)){const i=wC(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function wC(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,c){const u=o.data.field(i),f=c.data.field(i);return u!==null&&f!==null?To(u,f):Ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ci(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ov(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Et(ye.comparator);function ns(){return TC}const bv=new Et(ye.comparator);function ma(...t){let e=bv;for(const n of t)e=e.insert(n.key,n);return e}function Iv(t){let e=bv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gi(){return Da()}function Av(){return Da()}function Da(){return new Pi(t=>t.toString(),(t,e)=>t.isEqual(e))}const bC=new Et(ye.comparator),IC=new Mt(ye.comparator);function je(...t){let e=IC;for(const n of t)e=e.add(n);return e}const AC=new Mt($e);function SC(){return AC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$l(e)?"-0":e}}function Sv(t){return{integerValue:""+t}}function RC(t,e){return ZR(e)?Sv(e):nd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this._=void 0}}function CC(t,e,n){return t instanceof Wl?function(s,i){const o={fields:{[lv]:{stringValue:cv},[hv]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Yf(i)&&(i=wu(i)),i&&(o.fields[uv]=i),{mapValue:o}}(n,e):t instanceof Za?Cv(t,e):t instanceof ec?Pv(t,e):function(s,i){const o=Rv(s,i),c=zm(o)+zm(s.Ae);return Jh(o)&&Jh(s.Ae)?Sv(c):nd(s.serializer,c)}(t,e)}function PC(t,e,n){return t instanceof Za?Cv(t,e):t instanceof ec?Pv(t,e):n}function Rv(t,e){return t instanceof zl?function(r){return Jh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Wl extends Au{}class Za extends Au{constructor(e){super(),this.elements=e}}function Cv(t,e){const n=kv(e);for(const r of t.elements)n.some(s=>Cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ec extends Au{constructor(e){super(),this.elements=e}}function Pv(t,e){let n=kv(e);for(const r of t.elements)n=n.filter(s=>!Cr(s,r));return{arrayValue:{values:n}}}class zl extends Au{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zm(t){return St(t.integerValue||t.doubleValue)}function kv(t){return Xf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kC(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Za&&s instanceof Za||r instanceof ec&&s instanceof ec?wo(r.elements,s.elements,Cr):r instanceof zl&&s instanceof zl?Cr(r.Ae,s.Ae):r instanceof Wl&&s instanceof Wl}(t.transform,e.transform)}class OC{constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Su{}function Ov(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nv(t.key,Qr.none()):new mc(t.key,t.data,Qr.none());{const n=t.data,r=Wn.empty();let s=new Mt(Xt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ki(t.key,r,new nr(s.toArray()),Qr.none())}}function DC(t,e,n){t instanceof mc?function(s,i,o){const c=s.value.clone(),u=Gm(s.fieldTransforms,i,o.transformResults);c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ki?function(s,i,o){if(!yl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Gm(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Dv(s)),u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Na(t,e,n,r){return t instanceof mc?function(i,o,c,u){if(!yl(i.precondition,o))return c;const f=i.value.clone(),p=Qm(i.fieldTransforms,u,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof ki?function(i,o,c,u){if(!yl(i.precondition,o))return c;const f=Qm(i.fieldTransforms,u,o),p=o.data;return p.setAll(Dv(i)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,o,c){return yl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function NC(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Rv(r.transform,s||null);i!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,i))}return n||null}function Km(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&wo(r,s,(i,o)=>kC(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mc extends Su{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ki extends Su{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Gm(t,e,n){const r=new Map;Ze(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,PC(o,c,n[s]))}return r}function Qm(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,CC(i,o,e))}return r}class Nv extends Su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xC extends Su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&DC(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Av();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const u=Ov(o,c);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,r)=>Km(n,r))&&wo(this.baseMutations,e.baseMutations,(n,r)=>Km(n,r))}}class rd{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return bC}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new rd(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,We;function FC(t){switch(t){case Q.OK:return Ae(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function xv(t){if(t===void 0)return ts("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Pt.OK:return Q.OK;case Pt.CANCELLED:return Q.CANCELLED;case Pt.UNKNOWN:return Q.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return Q.INTERNAL;case Pt.UNAVAILABLE:return Q.UNAVAILABLE;case Pt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Pt.NOT_FOUND:return Q.NOT_FOUND;case Pt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Pt.ABORTED:return Q.ABORTED;case Pt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Pt.DATA_LOSS:return Q.DATA_LOSS;default:return Ae(39323,{code:t})}}(We=Pt||(Pt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Ns([4294967295,4294967295],0);function Jm(t){const e=UC().encode(t),n=new Jy;return n.update(e),new Uint8Array(n.digest())}function Ym(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ns([n,r],0),new Ns([s,i],0)]}class sd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ga(`Invalid padding: ${n}`);if(r<0)throw new ga(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ga(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ga(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ns.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ns.fromNumber(r)));return s.compare($C)===1&&(s=new Ns([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jm(e),[r,s]=Ym(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new sd(i,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.ge===0)return;const n=Jm(e),[r,s]=Ym(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ru(Re.min(),s,new Et($e),ns(),je())}}class gc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gc(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Vv{constructor(e,n){this.targetId=e,this.Ce=n}}class Lv{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Xm{constructor(){this.ve=0,this.Fe=Zm(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae(38017,{changeType:i})}}),new gc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Zm()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.Je=nl(),this.He=nl(),this.Ye=new Et($e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Xh(i))if(r===0){const o=new ye(i.path);this.et(n,o,un.newNoDocument(o,Re.min()))}else Ze(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=Us(r).toUint8Array()}catch(u){if(u instanceof av)return Eo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new sd(o,s,i)}catch(u){return Eo(u instanceof ga?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const c=this.ot(o);if(c){if(i.current&&Xh(c.target)){const u=new ye(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,un.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=je();this.He.forEach((i,o)=>{let c=!0;o.forEachWhile(u=>{const f=this.ot(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ru(e,n,this.Ye,this.je,r);return this.je=ns(),this.Je=nl(),this.He=nl(),this.Ye=new Et($e),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Xm,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt($e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt($e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xm),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nl(){return new Et(ye.comparator)}function Zm(){return new Et(ye.comparator)}const BC={asc:"ASCENDING",desc:"DESCENDING"},HC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qC={and:"AND",or:"OR"};class WC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ef(t,e){return t.useProto3Json||Eu(e)?e:{value:e}}function Kl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zC(t,e){return Kl(t,e.toTimestamp())}function Ir(t){return Ze(!!t,49232),Re.fromTimestamp(function(n){const r=Fs(n);return new mt(r.seconds,r.nanos)}(t))}function id(t,e){return tf(t,e).canonicalString()}function tf(t,e){const n=function(s){return new vt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Fv(t){const e=vt.fromString(t);return Ze(Hv(e),10190,{key:e.toString()}),e}function nf(t,e){return id(t.databaseId,e.path)}function _h(t,e){const n=Fv(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye($v(n))}function Uv(t,e){return id(t.databaseId,e)}function KC(t){const e=Fv(t);return e.length===4?vt.emptyPath():$v(e)}function rf(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $v(t){return Ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eg(t,e,n){return{name:nf(t,e),fields:n.value.mapValue.fields}}function GC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ae(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(f,p){return f.useProto3Json?(Ze(p===void 0||typeof p=="string",58123),Zt.fromBase64String(p||"")):(Ze(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Zt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(f){const p=f.code===void 0?Q.UNKNOWN:xv(f.code);return new ge(p,f.message||"")}(o);n=new Lv(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=_h(t,r.document.name),i=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):Re.min(),c=new Wn({mapValue:{fields:r.document.fields}}),u=un.newFoundDocument(s,i,o,c),f=r.targetIds||[],p=r.removedTargetIds||[];n=new vl(f,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=_h(t,r.document),i=r.readTime?Ir(r.readTime):Re.min(),o=un.newNoDocument(s,i),c=r.removedTargetIds||[];n=new vl([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=_h(t,r.document),i=r.removedTargetIds||[];n=new vl([],i,s,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new MC(s,i),c=r.targetId;n=new Vv(c,o)}}return n}function QC(t,e){let n;if(e instanceof mc)n={update:eg(t,e.key,e.value)};else if(e instanceof Nv)n={delete:nf(t,e.key)};else if(e instanceof ki)n={update:eg(t,e.key,e.data),updateMask:sP(e.fieldMask)};else{if(!(e instanceof xC))return Ae(16599,{Vt:e.type});n={verify:nf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof Wl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Za)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ec)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zl)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:zC(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ae(27497)}(t,e.precondition)),n}function JC(t,e){return t&&t.length>0?(Ze(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ir(s.updateTime):Ir(i);return o.isEqual(Re.min())&&(o=Ir(i)),new OC(o,s.transformResults||[])}(n,e))):[]}function YC(t,e){return{documents:[Uv(t,e.path)]}}function XC(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Uv(t,s);const i=function(f){if(f.length!==0)return Bv(Pr.create(f,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(f){if(f.length!==0)return f.map(p=>function(v){return{field:so(v.field),direction:tP(v.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=ef(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:n,parent:s}}function ZC(t){let e=KC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(g){const v=jv(g);return v instanceof Pr&&_v(v)?v.getFilters():[v]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(v=>function(O){return new ql(io(O.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,Eu(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(g){const v=!!g.before,y=g.values||[];return new Hl(y,v)}(n.startAt));let f=null;return n.endAt&&(f=function(g){const v=!g.before,y=g.values||[];return new Hl(y,v)}(n.endAt)),_C(e,s,o,i,c,"F",u,f)}function eP(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=io(n.unaryFilter.field);return Lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=io(n.unaryFilter.field);return Lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=io(n.unaryFilter.field);return Lt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return Lt.create(io(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>jv(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(t):Ae(30097,{filter:t})}function tP(t){return BC[t]}function nP(t){return HC[t]}function rP(t){return qC[t]}function so(t){return{fieldPath:t.canonicalString()}}function io(t){return Xt.fromServerFormat(t.fieldPath)}function Bv(t){return t instanceof Lt?function(n){if(n.op==="=="){if(jm(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if($m(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jm(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if($m(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:nP(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(s=>Bv(s));return r.length===1?r[0]:{compositeFilter:{op:rP(n.op),filters:r}}}(t):Ae(54877,{filter:t})}function sP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Hv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,s,i=Re.min(),o=Re.min(),c=Zt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.yt=e}}function oP(t){const e=ZC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.Cn=new cP}addToCollectionParentIndex(e,n){return this.Cn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Ms.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class cP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Mt(vt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Mt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qv=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(qv,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LruGarbageCollector",lP=1048576;function rg([t,e],[n,r]){const s=$e(t,n);return s===0?$e(e,r):s}class uP{constructor(e){this.Ir=e,this.buffer=new Mt(rg),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(ng,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?le(ng,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Vr(3e5)})}}class fP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(vu.ce);const r=new uP(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(tg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tg):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,c,u,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,n))).next(g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(f=Date.now(),no()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(f-u)+`ms
Total Duration: ${f-p}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g})))}}function dP(t,e){return new fP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.changes=new Pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Na(r.mutation,s,nr.empty(),mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const s=gi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ma();return i.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let i=ns();const o=Da(),c=function(){return Da()}();return n.forEach((u,f)=>{const p=r.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof ki)?i=i.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),Na(p.mutation,f,p.mutation.getFieldMask(),mt.now())):o.set(f.key,nr.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((f,p)=>o.set(f,p)),n.forEach((f,p)=>c.set(f,new mP(p,o.get(f)??null))),c))}recalculateAndSaveOverlays(e,n){const r=Da();let s=new Et((o,c)=>o-c),i=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let p=r.get(u)||nr.empty();p=c.applyToLocalView(f,p),r.set(u,p);const g=(s.get(c.batchId)||je()).add(u);s=s.insert(c.batchId,g)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,p=u.value,g=Av();p.forEach(v=>{if(!i.has(v)){const y=Ov(n.get(v),r.get(v));y!==null&&g.set(v,y),i=i.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,g))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(gi());let c=Qa,u=i;return o.next(f=>K.forEach(f,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(p)?K.resolve():this.remoteDocumentCache.getEntry(e,p).next(v=>{u=u.insert(p,v)}))).next(()=>this.populateOverlays(e,f,i)).next(()=>this.computeViews(e,u,f,je())).next(p=>({batchId:c,changes:Iv(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=ma();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ma();return this.indexManager.getCollectionParents(e,i).next(c=>K.forEach(c,u=>{const f=function(g,v){return new Tu(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next(p=>{p.forEach((g,v)=>{o=o.insert(g,v)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,un.newInvalidDocument(p)))});let c=ma();return o.forEach((u,f)=>{const p=i.get(u);p!==void 0&&Na(p.mutation,f,nr.empty(),mt.now()),Iu(n,f)&&(c=c.insert(u,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return K.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:oP(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.overlays=new Et(ye.comparator),this.qr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gi();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=gi(),i=n.length+1,o=new ye(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Et((f,p)=>f-p);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=i.get(f.largestBatchId);p===null&&(p=gi(),i=i.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=gi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return K.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LC(n,r));let i=this.qr.get(n);i===void 0&&(i=je(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.Qr=new Mt(qt.$r),this.Ur=new Mt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ye(new vt([])),r=new qt(n,e),s=new qt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new vt([])),r=new qt(n,e),s=new qt(n,e+1);let i=je();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||$e(e.Yr,n.Yr)}static Kr(e,n){return $e(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(qt.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VC(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Zr=this.Zr.add(new qt(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Jf:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),s=new qt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const c=this.Xr(o.Yr);i.push(c)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mt($e);return n.forEach(s=>{const i=new qt(s,0),o=new qt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],c=>{r=r.add(c.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new qt(new ye(i),0);let c=new Mt($e);return this.Zr.forEachWhile(u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(c=c.add(u.Yr)),!0)},o),K.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(n.mutations,s=>{const i=new qt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new qt(n,0),s=this.Zr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.ri=e,this.docs=function(){return new Et(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():un.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ns();const o=n.path,c=new ye(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:p}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||QR(GR(p),r)<=0||(s.has(p.key)||Iu(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ae(9500)}ii(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TP(this)}getSize(e){return K.resolve(this.size)}}class TP extends pP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.persistence=e,this.si=new Pi(n=>Zf(n),ed),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new od,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),K.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Pr(n),K.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){this.ui={},this.overlays={},this.ci=new vu(0),this.li=!1,this.li=!0,this.hi=new vP,this.referenceDelegate=e(this),this.Pi=new bP(this),this.indexManager=new aP,this.remoteDocumentCache=function(s){return new wP(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new iP(n),this.Ii=new _P(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new EP(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new IP(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class IP extends YR{constructor(e){super(),this.currentSequenceNumber=e}}class ad{constructor(e){this.persistence=e,this.Ri=new od,this.Vi=null}static mi(e){return new ad(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const s=ye.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gl{constructor(e,n){this.persistence=e,this.pi=new Pi(r=>eC(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=dP(this,n)}static mi(e,n){return new Gl(e,n)}Ei(){}di(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return K.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?K.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(c=>{c||(r++,i.removeEntry(o,Re.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gl(e.data.value)),n}br(e,n,r){return K.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=je(),s=je();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new cd(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return eA()?8:XR(fn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new AP;return this.Ss(e,n,o).next(c=>{if(i.result=c,this.Vs)return this.bs(e,n,o,c.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(no()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(no()<=Ue.DEBUG&&le("QueryEngine","Query:",ro(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(no()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):K.resolve())}ys(e,n){if(Wm(n))return K.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zh(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=je(...i);return this.ps.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const f=this.Ds(n,c);return this.Cs(n,f,o,u.readTime)?this.ys(e,Zh(n,null,"F")):this.vs(e,f,n,u)}))})))}ws(e,n,r,s){return Wm(n)||s.isEqual(Re.min())?K.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?K.resolve(null):(no()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ro(n)),this.vs(e,o,n,KR(s,Qa)).next(c=>c))})}Ds(e,n){let r=new Mt(Tv(e));return n.forEach((s,i)=>{Iu(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return no()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,Ms.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="LocalStore",RP=3e8;class CP{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Et($e),this.xs=new Pi(i=>Zf(i),ed),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function PP(t,e,n,r){return new CP(t,e,n,r)}async function zv(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],c=[];let u=je();for(const f of s){o.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}for(const f of i){c.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(f=>({Ls:f,removedBatchIds:o,addedBatchIds:c}))})})}function kP(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,u,f,p){const g=f.batch,v=g.keys();let y=K.resolve();return v.forEach(O=>{y=y.next(()=>p.getEntry(u,O)).next(L=>{const U=f.docVersions.get(O);Ze(U!==null,48541),L.version.compareTo(U)<0&&(g.applyToRemoteDocument(L,f),L.isValidDocument()&&(L.setReadTime(f.commitVersion),p.addEntry(L)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=je();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Kv(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function OP(t,e){const n=Oe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach((p,g)=>{const v=s.get(g);if(!v)return;c.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,g).next(()=>n.Pi.addMatchingKeys(i,p.addedDocuments,g)));let y=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?y=y.withResumeToken(Zt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):p.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(p.resumeToken,r)),s=s.insert(g,y),function(L,U,J){return L.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=RP?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(v,y,p)&&c.push(n.Pi.updateTargetData(i,y))});let u=ns(),f=je();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))}),c.push(DP(i,o,e.documentUpdates).next(p=>{u=p.ks,f=p.qs})),!r.isEqual(Re.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next(g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(p)}return K.waitFor(c).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,f)).next(()=>u)}).then(i=>(n.Ms=s,i))}function DP(t,e,n){let r=je(),s=je();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ns();return n.forEach((c,u)=>{const f=i.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(Re.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):le(ld,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{ks:o,qs:s}})}function NP(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xP(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function sf(t,e,n){const r=Oe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!No(o))throw o;le(ld,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function sg(t,e,n){const r=Oe(t);let s=Re.min(),i=je();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,p){const g=Oe(u),v=g.xs.get(p);return v!==void 0?K.resolve(g.Ms.get(v)):g.Pi.getTargetData(f,p)}(r,o,br(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Re.min(),n?i:je())).next(c=>(VP(r,EC(e),c),{documents:c,Qs:i})))}function VP(t,e,n){let r=t.Os.get(e)||Re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class ig{constructor(){this.activeTargetIds=SC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LP{constructor(){this.Mo=new ig,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ig,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="ConnectivityMonitor";class ag{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(og,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(og,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl=null;function of(){return rl===null?rl=function(){return 268435456+Math.round(2147483648*Math.random())}():rl++,"0x"+rl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="RestConnection",FP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===jl?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=of(),c=this.zo(e,n.toUriEncodedString());le(yh,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:f}=new URL(c),p=Si(f);return this.Jo(e,c,u,r,p).then(g=>(le(yh,`Received RPC '${e}' ${o}: `,g),g),g=>{throw Eo(yh,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=FP[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class jP extends UP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=of();return new Promise((c,u)=>{const f=new Yy;f.setWithCredentials(!0),f.listenOnce(Xy.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ml.NO_ERROR:const g=f.getResponseJson();le(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case ml.TIMEOUT:le(on,`RPC '${e}' ${o} timed out`),u(new ge(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ml.HTTP_ERROR:const v=f.getStatus();if(le(on,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const O=y==null?void 0:y.error;if(O&&O.status&&O.message){const L=function(J){const W=J.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(W)>=0?W:Q.UNKNOWN}(O.status);u(new ge(L,O.message))}else u(new ge(Q.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new ge(Q.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{le(on,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(s);le(on,`RPC '${e}' ${o} sending request:`,s),f.send(n,"POST",p,r,15)})}T_(e,n,r){const s=of(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tv(),c=ev(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=i.join("");le(on,`Creating RPC '${e}' stream ${s}: ${p}`,u);const g=o.createWebChannel(p,u);this.I_(g);let v=!1,y=!1;const O=new $P({Yo:U=>{y?le(on,`Not sending because RPC '${e}' stream ${s} is closed:`,U):(v||(le(on,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),le(on,`RPC '${e}' stream ${s} sending:`,U),g.send(U))},Zo:()=>g.close()}),L=(U,J,W)=>{U.listen(J,Z=>{try{W(Z)}catch(te){setTimeout(()=>{throw te},0)}})};return L(g,pa.EventType.OPEN,()=>{y||(le(on,`RPC '${e}' stream ${s} transport opened.`),O.o_())}),L(g,pa.EventType.CLOSE,()=>{y||(y=!0,le(on,`RPC '${e}' stream ${s} transport closed`),O.a_(),this.E_(g))}),L(g,pa.EventType.ERROR,U=>{y||(y=!0,Eo(on,`RPC '${e}' stream ${s} transport errored. Name:`,U.name,"Message:",U.message),O.a_(new ge(Q.UNAVAILABLE,"The operation could not be completed")))}),L(g,pa.EventType.MESSAGE,U=>{var J;if(!y){const W=U.data[0];Ze(!!W,16349);const Z=W,te=(Z==null?void 0:Z.error)||((J=Z[0])==null?void 0:J.error);if(te){le(on,`RPC '${e}' stream ${s} received error:`,te);const we=te.status;let Ve=function(b){const R=Pt[b];if(R!==void 0)return xv(R)}(we),C=te.message;Ve===void 0&&(Ve=Q.INTERNAL,C="Unknown error status: "+we+" with message "+te.message),y=!0,O.a_(new ge(Ve,C)),g.close()}else le(on,`RPC '${e}' stream ${s} received:`,W),O.u_(W)}}),L(c,Zy.STAT_EVENT,U=>{U.stat===Kh.PROXY?le(on,`RPC '${e}' stream ${s} detected buffering proxy`):U.stat===Kh.NOPROXY&&le(on,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function vh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){return new WC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="PersistentStream";class Qv{constructor(e,n,r,s,i,o,c,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ge(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(cg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(le(cg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BP extends Qv{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GC(this.serializer,e),r=function(i){if(!("targetChange"in i))return Re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Re.min():o.readTime?Ir(o.readTime):Re.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rf(this.serializer),n.addTarget=function(i,o){let c;const u=o.target;if(c=Xh(u)?{documents:YC(i,u)}:{query:XC(i,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Mv(i,o.resumeToken);const f=ef(i,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(Re.min())>0){c.readTime=Kl(i,o.snapshotVersion.toTimestamp());const f=ef(i,o.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=eP(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rf(this.serializer),n.removeTarget=e,this.q_(n)}}class HP extends Qv{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JC(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>QC(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{}class WP extends qP{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ge(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,tf(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(Q.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(e,tf(n,r),s,o,c,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(Q.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class zP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="RemoteStore";class KP{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Oi(this)&&(le(Ai,"Restarting streams for network reachability change."),await async function(u){const f=Oe(u);f.Ea.add(4),await _c(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Pu(f)}(this))})}),this.Ra=new zP(r,s)}}async function Pu(t){if(Oi(t))for(const e of t.da)await e(!0)}async function _c(t){for(const e of t.da)await e(!1)}function Jv(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dd(n)?fd(n):xo(n).O_()&&hd(n,e))}function ud(t,e){const n=Oe(t),r=xo(n);n.Ia.delete(e),r.O_()&&Yv(n,e),n.Ia.size===0&&(r.O_()?r.L_():Oi(n)&&n.Ra.set("Unknown"))}function hd(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(t).Y_(e)}function Yv(t,e){t.Va.Ue(e),xo(t).Z_(e)}function fd(t){t.Va=new jC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xo(t).start(),t.Ra.ua()}function dd(t){return Oi(t)&&!xo(t).x_()&&t.Ia.size>0}function Oi(t){return Oe(t).Ea.size===0}function Xv(t){t.Va=void 0}async function GP(t){t.Ra.set("Online")}async function QP(t){t.Ia.forEach((e,n)=>{hd(t,e)})}async function JP(t,e){Xv(t),dd(t)?(t.Ra.ha(e),fd(t)):t.Ra.set("Unknown")}async function YP(t,e,n){if(t.Ra.set("Online"),e instanceof Lv&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.Va.removeTarget(c))}(t,e)}catch(r){le(Ai,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ql(t,r)}else if(e instanceof vl?t.Va.Ze(e):e instanceof Vv?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const r=await Kv(t.localStore);n.compareTo(r)>=0&&await function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const p=i.Ia.get(f);p&&i.Ia.set(f,p.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,f)=>{const p=i.Ia.get(u);if(!p)return;i.Ia.set(u,p.withResumeToken(Zt.EMPTY_BYTE_STRING,p.snapshotVersion)),Yv(i,u);const g=new Cs(p.target,u,f,p.sequenceNumber);hd(i,g)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){le(Ai,"Failed to raise snapshot:",r),await Ql(t,r)}}async function Ql(t,e,n){if(!No(e))throw e;t.Ea.add(1),await _c(t),t.Ra.set("Offline"),n||(n=()=>Kv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le(Ai,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Pu(t)})}function Zv(t,e){return e().catch(n=>Ql(t,n,e))}async function ku(t){const e=Oe(t),n=js(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jf;for(;XP(e);)try{const s=await NP(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,ZP(e,s)}catch(s){await Ql(e,s)}eE(e)&&tE(e)}function XP(t){return Oi(t)&&t.Ta.length<10}function ZP(t,e){t.Ta.push(e);const n=js(t);n.O_()&&n.X_&&n.ea(e.mutations)}function eE(t){return Oi(t)&&!js(t).x_()&&t.Ta.length>0}function tE(t){js(t).start()}async function e1(t){js(t).ra()}async function t1(t){const e=js(t);for(const n of t.Ta)e.ea(n.mutations)}async function n1(t,e,n){const r=t.Ta.shift(),s=rd.from(r,e,n);await Zv(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ku(t)}async function r1(t,e){e&&js(t).X_&&await async function(r,s){if(function(o){return FC(o)&&o!==Q.ABORTED}(s.code)){const i=r.Ta.shift();js(r).B_(),await Zv(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ku(r)}}(t,e),eE(t)&&tE(t)}async function lg(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),le(Ai,"RemoteStore received new credentials");const r=Oi(n);n.Ea.add(3),await _c(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Pu(n)}async function s1(t,e){const n=Oe(t);e?(n.Ea.delete(2),await Pu(n)):e||(n.Ea.add(2),await _c(n),n.Ra.set("Unknown"))}function xo(t){return t.ma||(t.ma=function(n,r,s){const i=Oe(n);return i.sa(),new BP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:GP.bind(null,t),t_:QP.bind(null,t),r_:JP.bind(null,t),H_:YP.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),dd(t)?fd(t):t.Ra.set("Unknown")):(await t.ma.stop(),Xv(t))})),t.ma}function js(t){return t.fa||(t.fa=function(n,r,s){const i=Oe(n);return i.sa(),new HP(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:e1.bind(null,t),r_:r1.bind(null,t),ta:t1.bind(null,t),na:n1.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ku(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Ai,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new pd(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function md(t,e){if(ts("AsyncQueue",`${e}: ${t}`),No(t))return new ge(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=ma(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.ga=new Et(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ao{constructor(e,n,r,s,i,o,c,u,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new Ao(e,n,yo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class o1{constructor(){this.queries=hg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Oe(n),i=s.queries;s.queries=hg(),i.forEach((o,c)=>{for(const u of c.Sa)u.onError(r)})})(this,new ge(Q.ABORTED,"Firestore shutting down"))}}function hg(){return new Pi(t=>wv(t),bu)}async function a1(t,e){const n=Oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new i1,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=md(o,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&gd(n)}async function c1(t,e){const n=Oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l1(t,e){const n=Oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Fa(s)&&(r=!0);o.wa=s}}r&&gd(n)}function u1(t,e,n){const r=Oe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function gd(t){t.Ca.forEach(e=>{e.next()})}var af,fg;(fg=af||(af={})).Ma="default",fg.Cache="cache";class h1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==af.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.key=e}}class rE{constructor(e){this.key=e}}class f1{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=Tv(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ug,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,g)=>{const v=s.get(p),y=Iu(this.query,g)?g:null,O=!!v&&this.mutatedKeys.has(v.key),L=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let U=!1;v&&y?v.data.isEqual(y.data)?O!==L&&(r.track({type:3,doc:y}),U=!0):this.su(v,y)||(r.track({type:2,doc:y}),U=!0,(u&&this.eu(y,u)>0||f&&this.eu(y,f)<0)&&(c=!0)):!v&&y?(r.track({type:0,doc:y}),U=!0):v&&!y&&(r.track({type:1,doc:v}),U=!0,(u||f)&&(c=!0)),U&&(y?(o=o.add(y),i=L?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),r.track({type:1,doc:p})}return{tu:o,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((p,g)=>function(y,O){const L=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:U})}};return L(y)-L(O)}(p.type,g.type)||this.eu(p.doc,g.doc)),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,f=u!==this.Za;return this.Za=u,o.length!==0||f?{snapshot:new Ao(this.query,e.tu,i,o,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ug,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new rE(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new nE(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _d="SyncEngine";class d1{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p1{constructor(e){this.key=e,this.hu=!1}}class m1{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Pi(c=>wv(c),bu),this.Iu=new Map,this.Eu=new Set,this.du=new Et(ye.comparator),this.Au=new Map,this.Ru=new od,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g1(t,e,n=!0){const r=lE(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await sE(r,e,n,!0),s}async function _1(t,e){const n=lE(t);await sE(n,e,!0,!1)}async function sE(t,e,n,r){const s=await xP(t.localStore,br(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await y1(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Jv(t.remoteStore,s),c}async function y1(t,e,n,r,s){t.pu=(g,v,y)=>async function(L,U,J,W){let Z=U.view.ru(J);Z.Cs&&(Z=await sg(L.localStore,U.query,!1).then(({documents:C})=>U.view.ru(C,Z)));const te=W&&W.targetChanges.get(U.targetId),we=W&&W.targetMismatches.get(U.targetId)!=null,Ve=U.view.applyChanges(Z,L.isPrimaryClient,te,we);return pg(L,U.targetId,Ve.au),Ve.snapshot}(t,g,v,y);const i=await sg(t.localStore,e,!0),o=new f1(e,i.Qs),c=o.ru(i.documents),u=gc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=o.applyChanges(c,t.isPrimaryClient,u);pg(t,n,f.au);const p=new d1(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function v1(t,e,n){const r=Oe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!bu(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ud(r.remoteStore,s.targetId),cf(r,s.targetId)}).catch(Do)):(cf(r,s.targetId),await sf(r.localStore,s.targetId,!0))}async function E1(t,e){const n=Oe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ud(n.remoteStore,r.targetId))}async function w1(t,e,n){const r=C1(t);try{const s=await function(o,c){const u=Oe(o),f=mt.now(),p=c.reduce((y,O)=>y.add(O.key),je());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let O=ns(),L=je();return u.Ns.getEntries(y,p).next(U=>{O=U,O.forEach((J,W)=>{W.isValidDocument()||(L=L.add(J))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,O)).next(U=>{g=U;const J=[];for(const W of c){const Z=NC(W,g.get(W.key).overlayedDocument);Z!=null&&J.push(new ki(W.key,Z,pv(Z.value.mapValue),Qr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,f,J,c)}).next(U=>{v=U;const J=U.applyToLocalDocumentSet(g,L);return u.documentOverlayCache.saveOverlays(y,U.batchId,J)})}).then(()=>({batchId:v.batchId,changes:Iv(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,u){let f=o.Vu[o.currentUser.toKey()];f||(f=new Et($e)),f=f.insert(c,u),o.Vu[o.currentUser.toKey()]=f}(r,s.batchId,n),await yc(r,s.changes),await ku(r.remoteStore)}catch(s){const i=md(s,"Failed to persist write");n.reject(i)}}async function iE(t,e){const n=Oe(t);try{const r=await OP(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ze(o.hu,14607):s.removedDocuments.size>0&&(Ze(o.hu,42227),o.hu=!1))}),await yc(n,r,e)}catch(r){await Do(r)}}function dg(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const u=Oe(o);u.onlineState=c;let f=!1;u.queries.forEach((p,g)=>{for(const v of g.Sa)v.va(c)&&(f=!0)}),f&&gd(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T1(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Et(ye.comparator);o=o.insert(i,un.newNoDocument(i,Re.min()));const c=je().add(i),u=new Ru(Re.min(),new Map,new Et($e),o,c);await iE(r,u),r.du=r.du.remove(i),r.Au.delete(e),yd(r)}else await sf(r.localStore,e,!1).then(()=>cf(r,e,n)).catch(Do)}async function b1(t,e){const n=Oe(t),r=e.batch.batchId;try{const s=await kP(n.localStore,e);aE(n,r,null),oE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yc(n,s)}catch(s){await Do(s)}}async function I1(t,e,n){const r=Oe(t);try{const s=await function(o,c){const u=Oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return u.mutationQueue.lookupMutationBatch(f,c).next(g=>(Ze(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(f,g))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>u.localDocuments.getDocuments(f,p))})}(r.localStore,e);aE(r,e,n),oE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yc(r,s)}catch(s){await Do(s)}}function oE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function aE(t,e,n){const r=Oe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function cf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||cE(t,r)})}function cE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ud(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),yd(t))}function pg(t,e,n){for(const r of n)r instanceof nE?(t.Ru.addReference(r.key,e),A1(t,r)):r instanceof rE?(le(_d,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||cE(t,r.key)):Ae(19791,{wu:r})}function A1(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(le(_d,"New document in limbo: "+n),t.Eu.add(r),yd(t))}function yd(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(vt.fromString(e)),r=t.fu.next();t.Au.set(r,new p1(n)),t.du=t.du.insert(n,r),Jv(t.remoteStore,new Cs(br(td(n.path)),r,"TargetPurposeLimboResolution",vu.ce))}}async function yc(t,e,n){const r=Oe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{o.push(r.pu(u,e,n).then(f=>{var p;if((f||n)&&r.isPrimaryClient){const g=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(f){s.push(f);const g=cd.As(u.targetId,f);i.push(g)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(u,f){const p=Oe(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>K.forEach(f,v=>K.forEach(v.Es,y=>p.persistence.referenceDelegate.addReference(g,v.targetId,y)).next(()=>K.forEach(v.ds,y=>p.persistence.referenceDelegate.removeReference(g,v.targetId,y)))))}catch(g){if(!No(g))throw g;le(ld,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const y=p.Ms.get(v),O=y.snapshotVersion,L=y.withLastLimboFreeSnapshotVersion(O);p.Ms=p.Ms.insert(v,L)}}}(r.localStore,i))}async function S1(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){le(_d,"User change. New user:",e.toKey());const r=await zv(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(c=>{c.forEach(u=>{u.reject(new ge(Q.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yc(n,r.Ls)}}function R1(t,e){const n=Oe(t),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let s=je();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const c=n.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function lE(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T1.bind(null,e),e.Pu.H_=l1.bind(null,e.eventManager),e.Pu.yu=u1.bind(null,e.eventManager),e}function C1(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I1.bind(null,e),e}class Jl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PP(this.persistence,new SP,e.initialUser,this.serializer)}Cu(e){return new Wv(ad.mi,this.serializer)}Du(e){return new LP}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jl.provider={build:()=>new Jl};class P1 extends Jl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ze(this.persistence.referenceDelegate instanceof Gl,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new Wv(r=>Gl.mi(r,n),this.serializer)}}class lf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S1.bind(null,this.syncEngine),await s1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new o1}()}createDatastore(e){const n=Cu(e.databaseInfo.databaseId),r=function(i){return new jP(i)}(e.databaseInfo);return function(i,o,c,u){return new WP(i,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,c){return new KP(r,s,i,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>dg(this.syncEngine,n,0),function(){return ag.v()?new ag:new MP}())}createSyncEngine(e,n){return function(s,i,o,c,u,f,p){const g=new m1(s,i,o,c,u,f);return p&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Oe(s);le(Ai,"RemoteStore shutting down."),i.Ea.add(5),await _c(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}lf.provider={build:()=>new lf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="FirestoreClient";class O1{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=cn.UNAUTHENTICATED,this.clientId=Gf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{le(Bs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(le(Bs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=md(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Eh(t,e){t.asyncQueue.verifyOperationInProgress(),le(Bs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zv(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await D1(t);le(Bs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>lg(e.remoteStore,s)),t._onlineComponents=e}async function D1(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Bs,"Using user provided OfflineComponentProvider");try{await Eh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Q.FAILED_PRECONDITION||s.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Eh(t,new Jl)}}else le(Bs,"Using default OfflineComponentProvider"),await Eh(t,new P1(void 0));return t._offlineComponents}async function uE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Bs,"Using user provided OnlineComponentProvider"),await mg(t,t._uninitializedComponentsProvider._online)):(le(Bs,"Using default OnlineComponentProvider"),await mg(t,new lf))),t._onlineComponents}function N1(t){return uE(t).then(e=>e.syncEngine)}async function x1(t){const e=await uE(t),n=e.eventManager;return n.onListen=g1.bind(null,e.syncEngine),n.onUnlisten=v1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E1.bind(null,e.syncEngine),n}function V1(t,e,n={}){const r=new xs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,c,u,f){const p=new k1({next:v=>{p.Nu(),o.enqueueAndForget(()=>c1(i,g));const y=v.docs.has(c);!y&&v.fromCache?f.reject(new ge(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&v.fromCache&&u&&u.source==="server"?f.reject(new ge(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new h1(td(c.path),p,{includeMetadataChanges:!0,qa:!0});return a1(i,g)}(await x1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firestore.googleapis.com",_g=!0;class yg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fE,this.ssl=_g}else this.host=e.host,this.ssl=e.ssl??_g;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lP)throw new ge(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VR;switch(r.type){case"firstParty":return new UR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gg.get(n);r&&(le("ComponentProvider","Removing Datastore"),gg.delete(n),r.terminate())}(this),Promise.resolve()}}function dE(t,e,n,r={}){var f;t=Ga(t,vd);const s=Si(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(xf(`https://${c}`),Vf("Firestore",!0)),i.host!==fE&&i.host!==c&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:s,emulatorOptions:r};if(!Ei(u,o)&&(t._setSettings(u),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=cn.MOCK_USER;else{p=WI(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ge(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new cn(v)}t._authCredentials=new LR(new rv(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ed(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(pc(n,zt._jsonSchema))return new zt(e,r||null,new ye(vt.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:kt("string",zt._jsonSchemaVersion),referencePath:kt("string")};class tc extends Ed{constructor(e,n,r){super(e,n,td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ye(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function sl(t,e,...n){if(t=dn(t),arguments.length===1&&(e=Gf.newId()),WR("doc","path",e),t instanceof vd){const r=vt.fromString(e,...n);return Dm(r),new zt(t,null,new ye(r))}{if(!(t instanceof zt||t instanceof tc))throw new ge(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return Dm(r),new zt(t.firestore,t instanceof tc?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="AsyncQueue";class Eg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gv(this,"async_queue_retry"),this._c=()=>{const r=vh();r&&le(vg,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=vh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new xs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;le(vg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",wg(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=pd.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Ae(47125,{Pc:wg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wd extends vd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Eg,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eg(e),this._firestoreClient=void 0,await e}}}function L1(t,e){const n=typeof t=="object"?t:Ff(),r=typeof t=="string"?t:jl,s=mu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=cy("firestore");i&&dE(s,...i)}return s}function pE(t){if(t._terminated)throw new ge(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||M1(t),t._firestoreClient}function M1(t){var r,s,i;const e=t._freezeSettings(),n=function(c,u,f,p){return new rC(c,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,hE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new O1(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Zt.fromBase64String(e))}catch(n){throw new ge(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pc(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:kt("string",zn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(pc(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:kt("string",Ar._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pc(e,Sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Sr(e.vectorValues);throw new ge(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sr._jsonSchemaVersion="firestore/vectorValue/1.0",Sr._jsonSchema={type:kt("string",Sr._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=/^__.*__$/;class U1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new mc(e,this.data,n,this.fieldTransforms)}}function gE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class bd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gE(this.Ac)&&F1.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $1{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cu(e)}Cc(e,n,r,s=!1){return new bd({Ac:e,methodName:n,Dc:r,path:Xt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function j1(t){const e=t._freezeSettings(),n=Cu(t._databaseId);return new $1(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B1(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);EE("Data must be an object, but it was:",o,r);const c=yE(r,o);let u,f;if(i.merge)u=new nr(o.fieldMask),f=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const v=H1(e,g,n);if(!o.contains(v))throw new ge(Q.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);W1(p,v)||p.push(v)}u=new nr(p),f=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,f=o.fieldTransforms;return new U1(new Wn(c),u,f)}function _E(t,e){if(vE(t=dn(t)))return EE("Unsupported field value:",e,t),yE(t,e);if(t instanceof mE)return function(r,s){if(!gE(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const c of r){let u=_E(c,s.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=mt.fromDate(r);return{timestampValue:Kl(s.serializer,i)}}if(r instanceof mt){const i=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kl(s.serializer,i)}}if(r instanceof Ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:Mv(s.serializer,r._byteString)};if(r instanceof zt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:id(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Sr)return function(o,c){return{mapValue:{fields:{[fv]:{stringValue:dv},[Bl]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return nd(c.serializer,f)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Qf(r)}`)}(t,e)}function yE(t,e){const n={};return ov(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ci(t,(r,s)=>{const i=_E(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function vE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Ar||t instanceof zn||t instanceof zt||t instanceof mE||t instanceof Sr)}function EE(t,e,n){if(!vE(n)||!sv(n)){const r=Qf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function H1(t,e,n){if((e=dn(e))instanceof Td)return e._internalPath;if(typeof e=="string")return wE(t,e);throw Yl("Field path arguments must be of type string or ",t,!1,void 0,n)}const q1=new RegExp("[~\\*/\\[\\]]");function wE(t,e,n){if(e.search(q1)>=0)throw Yl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Td(...e.split("."))._internalPath}catch{throw Yl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new ge(Q.INVALID_ARGUMENT,c+t+u)}function W1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z1 extends TE{data(){return super.data()}}function bE(t,e){return typeof e=="string"?wE(t,e):e instanceof Td?e._internalPath:e._delegate._internalPath}class K1{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ci(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Bl].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>St(o.doubleValue));return new Sr(n)}convertGeoPoint(e){return new Ar(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=wu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ja(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Ze(Hv(r),9688,{name:e});const s=new Ya(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||ts(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vi extends TE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new El(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",vi._jsonSchema={type:kt("string",vi._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class El extends vi{data(e={}){return super.data(e)}}class xa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new _a(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new El(this._firestore,this._userDataWriter,r.key,r,new _a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const u=new El(s._firestore,s._userDataWriter,c.doc.key,c.doc,new _a(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const u=new El(s._firestore,s._userDataWriter,c.doc.key,c.doc,new _a(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:Q1(c.type),doc:u,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Q1(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){t=Ga(t,zt);const e=Ga(t.firestore,wd);return V1(pE(e),t._key).then(n=>X1(e,t,n))}xa._jsonSchemaVersion="firestore/querySnapshot/1.0",xa._jsonSchema={type:kt("string",xa._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class J1 extends K1{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function Tg(t,e,n){t=Ga(t,zt);const r=Ga(t.firestore,wd),s=G1(t.converter,e,n);return Y1(r,[B1(j1(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qr.none())])}function Y1(t,e){return function(r,s){const i=new xs;return r.asyncQueue.enqueueAndForget(async()=>w1(await N1(r),s,i)),i.promise}(pE(t),e)}function X1(t,e,n){const r=n.docs.get(e._key),s=new J1(t);return new vi(t,s,e._key,r,new _a(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Oo=s})(Po),wi(new Ls("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new wd(new MR(r.getProvider("auth-internal")),new $R(o,r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ge(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(f.options.projectId,p)}(o,s),o);return i={useFetchStreams:n,...i},c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),Er(Cm,Pm,e),Er(Cm,Pm,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="type.googleapis.com/google.protobuf.Int64Value",ek="type.googleapis.com/google.protobuf.UInt64Value";function IE(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Xl(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Xl(e));if(typeof t=="function"||typeof t=="object")return IE(t,e=>Xl(e));throw new Error("Data cannot be encoded in JSON: "+t)}function So(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Z1:case ek:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>So(e)):typeof t=="function"||typeof t=="object"?IE(t,e=>So(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kn extends kr{constructor(e,n,r){super(`${Id}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,kn.prototype)}}function tk(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Zl(t,e){let n=tk(t),r=n,s;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!bg[o])return new kn("internal","internal");n=bg[o],r=o}const c=i.message;typeof c=="string"&&(r=c),s=i.details,s!==void 0&&(s=So(s))}}catch{}return n==="ok"?null:new kn(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ln(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="us-central1",rk=/^data: (.*?)(?:\n|$)/;function sk(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new kn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class ik{constructor(e,n,r,s,i=uf,o=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new nk(e,n,r,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(i);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=uf}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function ok(t,e,n){const r=Si(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(xf(t.emulatorOrigin),Vf("Functions",!0))}function ak(t,e,n){const r=s=>lk(t,e,s,{});return r.stream=(s,i)=>hk(t,e,s,i),r}async function ck(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}async function AE(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function lk(t,e,n,r){const s=t._url(e);return uk(t,s,n,r)}async function uk(t,e,n,r){n=Xl(n);const s={data:n},i=await AE(t,r),o=r.timeout||7e4,c=sk(o),u=await Promise.race([ck(e,s,i,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!u)throw new kn("cancelled","Firebase Functions instance was deleted.");const f=Zl(u.status,u.json);if(f)throw f;if(!u.json)throw new kn("internal","Response is not valid JSON object.");let p=u.json.data;if(typeof p>"u"&&(p=u.json.result),typeof p>"u")throw new kn("internal","Response is missing data field.");return{data:So(p)}}function hk(t,e,n,r){const s=t._url(e);return fk(t,s,n,r||{})}async function fk(t,e,n,r){var v;n=Xl(n);const s={data:n},i=await AE(t,r);i["Content-Type"]="application/json",i.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:i,signal:r==null?void 0:r.signal})}catch(y){if(y instanceof Error&&y.name==="AbortError"){const L=new kn("cancelled","Request was cancelled.");return{data:Promise.reject(L),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(L)}}}}}}const O=Zl(0,null);return{data:Promise.reject(O),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(O)}}}}}}let c,u;const f=new Promise((y,O)=>{c=y,u=O});(v=r==null?void 0:r.signal)==null||v.addEventListener("abort",()=>{const y=new kn("cancelled","Request was cancelled.");u(y)});const p=o.body.getReader(),g=dk(p,c,u,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const y=g.getReader();return{async next(){const{value:O,done:L}=await y.read();return{value:O,done:L}},async return(){return await y.cancel(),{done:!0,value:void 0}}}}},data:f}}function dk(t,e,n,r){const s=(o,c)=>{const u=o.match(rk);if(!u)return;const f=u[1];try{const p=JSON.parse(f);if("result"in p){e(So(p.result));return}if("message"in p){c.enqueue(So(p.message));return}if("error"in p){const g=Zl(0,p);c.error(g),n(g);return}}catch(p){if(p instanceof kn){c.error(p),n(p);return}}},i=new TextDecoder;return new ReadableStream({start(o){let c="";return u();async function u(){if(r!=null&&r.aborted){const f=new kn("cancelled","Request was cancelled");return o.error(f),n(f),Promise.resolve()}try{const{value:f,done:p}=await t.read();if(p){c.trim()&&s(c.trim(),o),o.close();return}if(r!=null&&r.aborted){const v=new kn("cancelled","Request was cancelled");o.error(v),n(v),await t.cancel();return}c+=i.decode(f,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)v.trim()&&s(v.trim(),o);return u()}catch(f){const p=f instanceof kn?f:Zl(0,null);o.error(p),n(p)}}},cancel(){return t.cancel()}})}const Ig="@firebase/functions",Ag="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="auth-internal",mk="app-check-internal",gk="messaging-internal";function _k(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(pk),o=n.getProvider(gk),c=n.getProvider(mk);return new ik(s,i,o,c,r)};wi(new Ls(Id,e,"PUBLIC").setMultipleInstances(!0)),Er(Ig,Ag,t),Er(Ig,Ag,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t=Ff(),e=uf){const r=mu(dn(t),Id).getImmediate({identifier:e}),s=cy("functions");return s&&SE(r,...s),r}function SE(t,e,n){ok(dn(t),e,n)}function QD(t,e,n){return ak(dn(t),e)}_k();const vk={apiKey:"AIzaSyCFuW9Rp8PHx2Kv2qqeiUghCRCErt6Q5Ps",authDomain:"carenexus-e94da.firebaseapp.com",projectId:"carenexus-e94da",storageBucket:"carenexus-e94da.appspot.com",messagingSenderId:"945800852092",appId:"1:945800852092:web:53d68ed8e66f4c92fa0ff9"},Ad=dy(vk),il=NR(Ad),ya=L1(Ad),Ek=yk(Ad);try{typeof window<"u"&&window.location&&window.location.hostname==="localhost"&&(SE(Ek,"localhost",5001),dE(ya,"localhost",8080),console.info("Connected to Firebase emulators: functions@5001 firestore@8080"))}catch{}const wk=["Melbourne CBD","South Melbourne","North Melbourne","East Melbourne","West Melbourne"],Tk=[{id:1,title:"New Immigrant Welcome Event",location:"Melbourne CBD",date:"2024-01-15",description:"Help welcome new immigrants and provide orientation support.",contactPerson:"Alice"},{id:2,title:"English Language Workshop",location:"South Melbourne",date:"2024-01-20",description:"Assist in teaching basic English to new immigrants.",contactPerson:"Bob"},{id:3,title:"Cultural Integration Program",location:"North Melbourne",date:"2024-01-25",description:"Help organize and facilitate cultural exchange activities.",contactPerson:"Charlie"}],bk={locations:wk,activities:Tk},Ou=ry("auth",{state:()=>({user:null,isAuthResolved:!1,volunteers:JSON.parse(localStorage.getItem("volunteers"))||[{id:"v1",name:"John Doe",ratings:[]},{id:"v2",name:"Jane Smith",ratings:[]}],serviceRecords:JSON.parse(localStorage.getItem("serviceRecords")||"[]"),volunteerActivities:bk}),getters:{isAuthenticated:t=>!!t.user,currentUser:t=>t.user},actions:{async register(t){try{const n=(await _0(il,t.email,t.password)).user,r={name:t.name,email:t.email,role:t.role||"immigrant",languagePreference:t.languagePreference||"en",createdAt:new Date().toISOString()},s=Object.fromEntries(Object.entries(r).map(([i,o])=>[i,o||"N/A"]));return await Tg(sl(ya,"users",n.uid),s),this.user={uid:n.uid,...r},this.isAuthResolved=!0,localStorage.setItem("user",JSON.stringify(this.user)),{success:!0,user:this.user}}catch(e){return console.error("Registration Error:",e),{success:!1,message:e.message,code:e.code}}},async login(t,e){try{const r=(await y0(il,t,e)).user;let s;try{s=await wh(sl(ya,"users",r.uid)),s.exists()?this.user={uid:r.uid,email:r.email,name:s.data().name||"New User",role:s.data().role||"immigrant",languagePreference:s.data().languagePreference||"en"}:this.user={uid:r.uid,email:r.email,name:"New User",role:"immigrant",languagePreference:"en"}}catch(i){console.warn("getDoc failed during login, falling back to auth user:",i);let o="immigrant";try{const c=localStorage.getItem("user");if(c){const u=JSON.parse(c);u&&u.role&&(o=u.role)}}catch{}this.user={uid:r.uid,email:r.email,name:"New User",role:o,languagePreference:"en"}}return this.isAuthResolved=!0,localStorage.setItem("user",JSON.stringify(this.user)),{success:!0,user:this.user}}catch(n){return console.error("Login Error:",n),{success:!1,message:n.message}}},async logout(){await T0(il),this.user=null,localStorage.removeItem("user")},fetchUser(){w0(il,async t=>{if(t){if(!this.user||this.user.uid!==t.uid){const e=await wh(sl(ya,"users",t.uid));e.exists()?(this.user={uid:t.uid,...e.data()},this.isAuthResolved=!0):this.user={uid:t.uid,email:t.email},localStorage.setItem("user",JSON.stringify(this.user))}}else this.user=null,localStorage.removeItem("user")})},getPendingRatings(){return this.user?this.serviceRecords.filter(t=>t.userId===this.user.uid&&t.status==="pending"):[]},getVolunteerById(t){return this.volunteers.find(e=>e.id===t)},getVolunteerAverageRating(t){const e=this.volunteers.find(r=>r.id===t);return!e||e.ratings.length===0?"No ratings yet":(e.ratings.reduce((r,s)=>r+s.score,0)/e.ratings.length).toFixed(1)},submitRating(t,e){const n=this.serviceRecords.find(o=>o.id===t);if(!n)return;const r=this.volunteers.find(o=>o.id===n.volunteerId);if(!r)return;const s=Object.values(e),i=s.reduce((o,c)=>o+c,0)/s.length;r.ratings.push({serviceId:t,score:i,details:e}),n.status="completed",this.saveVolunteersToLocalStorage(),this.saveServiceRecordsToLocalStorage()},saveVolunteersToLocalStorage(){localStorage.setItem("volunteers",JSON.stringify(this.volunteers))},saveServiceRecordsToLocalStorage(){localStorage.setItem("serviceRecords",JSON.stringify(this.serviceRecords))},completeService(t,e,n){const r=this.volunteerActivities.find(s=>s.id===n);if(r){const s={id:`s${Date.now()}`,userId:t,volunteerId:e,activityTitle:r.name,status:"pending",date:new Date().toISOString().split("T")[0]};this.serviceRecords.push(s),this.saveServiceRecordsToLocalStorage()}},async updateUserProfile(t){if(this.user)try{const e=sl(ya,"users",this.user.uid),n={};t.name&&(n.name=this.sanitizeInput(t.name)),t.email&&(n.email=this.sanitizeInput(t.email)),await Tg(e,{...t,...n},{merge:!0});const r=await wh(e);this.user={uid:this.user.uid,...r.data()},localStorage.setItem("user",JSON.stringify(this.user))}catch(e){console.error("Error updating profile: ",e)}},sanitizeInput(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}}}),JD=ry("resources",{state:()=>({resources:JSON.parse(localStorage.getItem("resources"))||[{id:"1",title:"Healthcare for Immigrants",description:"Information about healthcare services available for immigrants",category:"healthcare",ratings:[{userId:"1",rating:4,createdAt:"2023-01-15"},{userId:"2",rating:5,createdAt:"2023-01-20"}],createdAt:"2023-01-01"}]}),actions:{addResource(t){const e={...t,id:Date.now().toString(),ratings:[],createdAt:new Date().toISOString()};this.resources.push(e),this.saveToLocalStorage()},addRating(t,e){const n=this.resources.find(r=>r.id===t);if(n){const r=Ou().user.uid,s=n.ratings.findIndex(i=>i.userId===r);s!==-1?n.ratings[s].rating=e:n.ratings.push({userId:r,rating:e,createdAt:new Date().toISOString()}),this.saveToLocalStorage()}},saveToLocalStorage(){localStorage.setItem("resources",JSON.stringify(this.resources))}},getters:{getAverageRating:t=>e=>{const n=t.resources.find(s=>s.id===e);return!n||n.ratings.length===0?0:n.ratings.reduce((s,i)=>s+i.rating,0)/n.ratings.length},getUserRating:t=>(e,n)=>{const r=t.resources.find(i=>i.id===e);if(!r)return 0;const s=r.ratings.find(i=>i.userId===n);return s?s.rating:0}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const oo=typeof document<"u";function RE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Ik(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&RE(t.default)}const Ye=Object.assign;function Th(t,e){const n={};for(const r in e){const s=e[r];n[r]=or(s)?s.map(t):t(s)}return n}const Va=()=>{},or=Array.isArray,CE=/#/g,Ak=/&/g,Sk=/\//g,Rk=/=/g,Ck=/\?/g,PE=/\+/g,Pk=/%5B/g,kk=/%5D/g,kE=/%5E/g,Ok=/%60/g,OE=/%7B/g,Dk=/%7C/g,DE=/%7D/g,Nk=/%20/g;function Sd(t){return encodeURI(""+t).replace(Dk,"|").replace(Pk,"[").replace(kk,"]")}function xk(t){return Sd(t).replace(OE,"{").replace(DE,"}").replace(kE,"^")}function hf(t){return Sd(t).replace(PE,"%2B").replace(Nk,"+").replace(CE,"%23").replace(Ak,"%26").replace(Ok,"`").replace(OE,"{").replace(DE,"}").replace(kE,"^")}function Vk(t){return hf(t).replace(Rk,"%3D")}function Lk(t){return Sd(t).replace(CE,"%23").replace(Ck,"%3F")}function Mk(t){return t==null?"":Lk(t).replace(Sk,"%2F")}function nc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Fk=/\/$/,Uk=t=>t.replace(Fk,"");function bh(t,e,n="/"){let r,s={},i="",o="";const c=e.indexOf("#");let u=e.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(r=e.slice(0,u),i=e.slice(u+1,c>-1?c:e.length),s=t(i)),c>-1&&(r=r||e.slice(0,c),o=e.slice(c,e.length)),r=Hk(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:nc(o)}}function $k(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Sg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function jk(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Ro(e.matched[r],n.matched[s])&&NE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Ro(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function NE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Bk(t[n],e[n]))return!1;return!0}function Bk(t,e){return or(t)?Rg(t,e):or(e)?Rg(e,t):t===e}function Rg(t,e){return or(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Hk(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const vs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var rc;(function(t){t.pop="pop",t.push="push"})(rc||(rc={}));var La;(function(t){t.back="back",t.forward="forward",t.unknown=""})(La||(La={}));function qk(t){if(!t)if(oo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Uk(t)}const Wk=/^[^#]+#/;function zk(t,e){return t.replace(Wk,"#")+e}function Kk(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Du=()=>({left:window.scrollX,top:window.scrollY});function Gk(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Kk(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Cg(t,e){return(history.state?history.state.position-e:-1)+t}const ff=new Map;function Qk(t,e){ff.set(t,e)}function Jk(t){const e=ff.get(t);return ff.delete(t),e}let Yk=()=>location.protocol+"//"+location.host;function xE(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let c=s.includes(t.slice(i))?t.slice(i).length:1,u=s.slice(c);return u[0]!=="/"&&(u="/"+u),Sg(u,"")}return Sg(n,t)+r+s}function Xk(t,e,n,r){let s=[],i=[],o=null;const c=({state:v})=>{const y=xE(t,location),O=n.value,L=e.value;let U=0;if(v){if(n.value=y,e.value=v,o&&o===O){o=null;return}U=L?v.position-L.position:0}else r(y);s.forEach(J=>{J(n.value,O,{delta:U,type:rc.pop,direction:U?U>0?La.forward:La.back:La.unknown})})};function u(){o=n.value}function f(v){s.push(v);const y=()=>{const O=s.indexOf(v);O>-1&&s.splice(O,1)};return i.push(y),y}function p(){const{history:v}=window;v.state&&v.replaceState(Ye({},v.state,{scroll:Du()}),"")}function g(){for(const v of i)v();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:u,listen:f,destroy:g}}function Pg(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Du():null}}function Zk(t){const{history:e,location:n}=window,r={value:xE(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,f,p){const g=t.indexOf("#"),v=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+u:Yk()+t+u;try{e[p?"replaceState":"pushState"](f,"",v),s.value=f}catch(y){console.error(y),n[p?"replace":"assign"](v)}}function o(u,f){const p=Ye({},e.state,Pg(s.value.back,u,s.value.forward,!0),f,{position:s.value.position});i(u,p,!0),r.value=u}function c(u,f){const p=Ye({},s.value,e.state,{forward:u,scroll:Du()});i(p.current,p,!0);const g=Ye({},Pg(r.value,u,null),{position:p.position+1},f);i(u,g,!1),r.value=u}return{location:r,state:s,push:c,replace:o}}function eO(t){t=qk(t);const e=Zk(t),n=Xk(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Ye({location:"",base:t,go:r,createHref:zk.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function tO(t){return typeof t=="string"||t&&typeof t=="object"}function VE(t){return typeof t=="string"||typeof t=="symbol"}const LE=Symbol("");var kg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(kg||(kg={}));function Co(t,e){return Ye(new Error,{type:t,[LE]:!0},e)}function Br(t,e){return t instanceof Error&&LE in t&&(e==null||!!(t.type&e))}const Og="[^/]+?",nO={sensitive:!1,strict:!1,start:!0,end:!0},rO=/[.+*?^${}()[\]/\\]/g;function sO(t,e){const n=Ye({},nO,e),r=[];let s=n.start?"^":"";const i=[];for(const f of t){const p=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let g=0;g<f.length;g++){const v=f[g];let y=40+(n.sensitive?.25:0);if(v.type===0)g||(s+="/"),s+=v.value.replace(rO,"\\$&"),y+=40;else if(v.type===1){const{value:O,repeatable:L,optional:U,regexp:J}=v;i.push({name:O,repeatable:L,optional:U});const W=J||Og;if(W!==Og){y+=10;try{new RegExp(`(${W})`)}catch(te){throw new Error(`Invalid custom RegExp for param "${O}" (${W}): `+te.message)}}let Z=L?`((?:${W})(?:/(?:${W}))*)`:`(${W})`;g||(Z=U&&f.length<2?`(?:/${Z})`:"/"+Z),U&&(Z+="?"),s+=Z,y+=20,U&&(y+=-8),L&&(y+=-20),W===".*"&&(y+=-50)}p.push(y)}r.push(p)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function c(f){const p=f.match(o),g={};if(!p)return null;for(let v=1;v<p.length;v++){const y=p[v]||"",O=i[v-1];g[O.name]=y&&O.repeatable?y.split("/"):y}return g}function u(f){let p="",g=!1;for(const v of t){(!g||!p.endsWith("/"))&&(p+="/"),g=!1;for(const y of v)if(y.type===0)p+=y.value;else if(y.type===1){const{value:O,repeatable:L,optional:U}=y,J=O in f?f[O]:"";if(or(J)&&!L)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const W=or(J)?J.join("/"):J;if(!W)if(U)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):g=!0);else throw new Error(`Missing required param "${O}"`);p+=W}}return p||"/"}return{re:o,score:r,keys:i,parse:c,stringify:u}}function iO(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ME(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=iO(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Dg(r))return 1;if(Dg(s))return-1}return s.length-r.length}function Dg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const oO={type:0,value:""},aO=/[a-zA-Z0-9_]/;function cO(t){if(!t)return[[]];if(t==="/")return[[oO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${f}": ${y}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,u,f="",p="";function g(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:p,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),f="")}function v(){f+=u}for(;c<t.length;){if(u=t[c++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(f&&g(),o()):u===":"?(g(),n=1):v();break;case 4:v(),n=r;break;case 1:u==="("?n=2:aO.test(u)?v():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+u:n=3:p+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,p="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),g(),o(),s}function lO(t,e,n){const r=sO(cO(t.path),n),s=Ye(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function uO(t,e){const n=[],r=new Map;e=Lg({strict:!1,end:!0,sensitive:!1},e);function s(g){return r.get(g)}function i(g,v,y){const O=!y,L=xg(g);L.aliasOf=y&&y.record;const U=Lg(e,g),J=[L];if("alias"in g){const te=typeof g.alias=="string"?[g.alias]:g.alias;for(const we of te)J.push(xg(Ye({},L,{components:y?y.record.components:L.components,path:we,aliasOf:y?y.record:L})))}let W,Z;for(const te of J){const{path:we}=te;if(v&&we[0]!=="/"){const Ve=v.record.path,C=Ve[Ve.length-1]==="/"?"":"/";te.path=v.record.path+(we&&C+we)}if(W=lO(te,v,U),y?y.alias.push(W):(Z=Z||W,Z!==W&&Z.alias.push(W),O&&g.name&&!Vg(W)&&o(g.name)),FE(W)&&u(W),L.children){const Ve=L.children;for(let C=0;C<Ve.length;C++)i(Ve[C],W,y&&y.children[C])}y=y||W}return Z?()=>{o(Z)}:Va}function o(g){if(VE(g)){const v=r.get(g);v&&(r.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(o),v.alias.forEach(o))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&r.delete(g.record.name),g.children.forEach(o),g.alias.forEach(o))}}function c(){return n}function u(g){const v=dO(g,n);n.splice(v,0,g),g.record.name&&!Vg(g)&&r.set(g.record.name,g)}function f(g,v){let y,O={},L,U;if("name"in g&&g.name){if(y=r.get(g.name),!y)throw Co(1,{location:g});U=y.record.name,O=Ye(Ng(v.params,y.keys.filter(Z=>!Z.optional).concat(y.parent?y.parent.keys.filter(Z=>Z.optional):[]).map(Z=>Z.name)),g.params&&Ng(g.params,y.keys.map(Z=>Z.name))),L=y.stringify(O)}else if(g.path!=null)L=g.path,y=n.find(Z=>Z.re.test(L)),y&&(O=y.parse(L),U=y.record.name);else{if(y=v.name?r.get(v.name):n.find(Z=>Z.re.test(v.path)),!y)throw Co(1,{location:g,currentLocation:v});U=y.record.name,O=Ye({},v.params,g.params),L=y.stringify(O)}const J=[];let W=y;for(;W;)J.unshift(W.record),W=W.parent;return{name:U,path:L,params:O,matched:J,meta:fO(J)}}t.forEach(g=>i(g));function p(){n.length=0,r.clear()}return{addRoute:i,resolve:f,removeRoute:o,clearRoutes:p,getRoutes:c,getRecordMatcher:s}}function Ng(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function xg(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:hO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function hO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Vg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function fO(t){return t.reduce((e,n)=>Ye(e,n.meta),{})}function Lg(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function dO(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;ME(t,e[i])<0?r=i:n=i+1}const s=pO(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function pO(t){let e=t;for(;e=e.parent;)if(FE(e)&&ME(t,e)===0)return e}function FE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function mO(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(PE," "),o=i.indexOf("="),c=nc(o<0?i:i.slice(0,o)),u=o<0?null:nc(i.slice(o+1));if(c in e){let f=e[c];or(f)||(f=e[c]=[f]),f.push(u)}else e[c]=u}return e}function Mg(t){let e="";for(let n in t){const r=t[n];if(n=Vk(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(or(r)?r.map(i=>i&&hf(i)):[r&&hf(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function gO(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=or(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const _O=Symbol(""),Fg=Symbol(""),Nu=Symbol(""),Rd=Symbol(""),df=Symbol("");function ua(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function bs(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,u)=>{const f=v=>{v===!1?u(Co(4,{from:n,to:e})):v instanceof Error?u(v):tO(v)?u(Co(2,{from:e,to:v})):(o&&r.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),c())},p=i(()=>t.call(r&&r.instances[s],e,n,f));let g=Promise.resolve(p);t.length<3&&(g=g.then(f)),g.catch(v=>u(v))})}function Ih(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const c in o.components){let u=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(RE(u)){const p=(u.__vccOpts||u)[e];p&&i.push(bs(p,n,r,o,c,s))}else{let f=u();i.push(()=>f.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const g=Ik(p)?p.default:p;o.mods[c]=p,o.components[c]=g;const y=(g.__vccOpts||g)[e];return y&&bs(y,n,r,o,c,s)()}))}}return i}function Ug(t){const e=Gn(Nu),n=Gn(Rd),r=Pn(()=>{const u=uo(t.to);return e.resolve(u)}),s=Pn(()=>{const{matched:u}=r.value,{length:f}=u,p=u[f-1],g=n.matched;if(!p||!g.length)return-1;const v=g.findIndex(Ro.bind(null,p));if(v>-1)return v;const y=$g(u[f-2]);return f>1&&$g(p)===y&&g[g.length-1].path!==y?g.findIndex(Ro.bind(null,u[f-2])):v}),i=Pn(()=>s.value>-1&&TO(n.params,r.value.params)),o=Pn(()=>s.value>-1&&s.value===n.matched.length-1&&NE(n.params,r.value.params));function c(u={}){if(wO(u)){const f=e[uo(t.replace)?"replace":"push"](uo(t.to)).catch(Va);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:r,href:Pn(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}function yO(t){return t.length===1?t[0]:t}const vO=b_({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ug,setup(t,{slots:e}){const n=ic(Ug(t)),{options:r}=Gn(Nu),s=Pn(()=>({[jg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[jg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&yO(e.default(n));return t.custom?i:J_("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),EO=vO;function wO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function TO(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!or(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function $g(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const jg=(t,e,n)=>t??e??n,bO=b_({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Gn(df),s=Pn(()=>t.route||r.value),i=Gn(Fg,0),o=Pn(()=>{let f=uo(i);const{matched:p}=s.value;let g;for(;(g=p[f])&&!g.components;)f++;return f}),c=Pn(()=>s.value.matched[o.value]);al(Fg,Pn(()=>o.value+1)),al(_O,c),al(df,s);const u=$a();return Aa(()=>[u.value,c.value,t.name],([f,p,g],[v,y,O])=>{p&&(p.instances[g]=f,y&&y!==p&&f&&f===v&&(p.leaveGuards.size||(p.leaveGuards=y.leaveGuards),p.updateGuards.size||(p.updateGuards=y.updateGuards))),f&&p&&(!y||!Ro(p,y)||!v)&&(p.enterCallbacks[g]||[]).forEach(L=>L(f))},{flush:"post"}),()=>{const f=s.value,p=t.name,g=c.value,v=g&&g.components[p];if(!v)return Bg(n.default,{Component:v,route:f});const y=g.props[p],O=y?y===!0?f.params:typeof y=="function"?y(f):y:null,U=J_(v,Ye({},O,e,{onVnodeUnmounted:J=>{J.component.isUnmounted&&(g.instances[p]=null)},ref:u}));return Bg(n.default,{Component:U,route:f})||U}}});function Bg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const IO=bO;function AO(t){const e=uO(t.routes,t),n=t.parseQuery||mO,r=t.stringifyQuery||Mg,s=t.history,i=ua(),o=ua(),c=ua(),u=UT(vs);let f=vs;oo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Th.bind(null,B=>""+B),g=Th.bind(null,Mk),v=Th.bind(null,nc);function y(B,$){let ie,he;return VE(B)?(ie=e.getRecordMatcher(B),he=$):he=B,e.addRoute(he,ie)}function O(B){const $=e.getRecordMatcher(B);$&&e.removeRoute($)}function L(){return e.getRoutes().map(B=>B.record)}function U(B){return!!e.getRecordMatcher(B)}function J(B,$){if($=Ye({},$||u.value),typeof B=="string"){const x=bh(n,B,$.path),j=e.resolve({path:x.path},$),H=s.createHref(x.fullPath);return Ye(x,j,{params:v(j.params),hash:nc(x.hash),redirectedFrom:void 0,href:H})}let ie;if(B.path!=null)ie=Ye({},B,{path:bh(n,B.path,$.path).path});else{const x=Ye({},B.params);for(const j in x)x[j]==null&&delete x[j];ie=Ye({},B,{params:g(x)}),$.params=g($.params)}const he=e.resolve(ie,$),He=B.hash||"";he.params=p(v(he.params));const I=$k(r,Ye({},B,{hash:xk(He),path:he.path})),A=s.createHref(I);return Ye({fullPath:I,hash:He,query:r===Mg?gO(B.query):B.query||{}},he,{redirectedFrom:void 0,href:A})}function W(B){return typeof B=="string"?bh(n,B,u.value.path):Ye({},B)}function Z(B,$){if(f!==B)return Co(8,{from:$,to:B})}function te(B){return C(B)}function we(B){return te(Ye(W(B),{replace:!0}))}function Ve(B){const $=B.matched[B.matched.length-1];if($&&$.redirect){const{redirect:ie}=$;let he=typeof ie=="function"?ie(B):ie;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=W(he):{path:he},he.params={}),Ye({query:B.query,hash:B.hash,params:he.path!=null?{}:B.params},he)}}function C(B,$){const ie=f=J(B),he=u.value,He=B.state,I=B.force,A=B.replace===!0,x=Ve(ie);if(x)return C(Ye(W(x),{state:typeof x=="object"?Ye({},He,x.state):He,force:I,replace:A}),$||ie);const j=ie;j.redirectedFrom=$;let H;return!I&&jk(r,he,ie)&&(H=Co(16,{to:j,from:he}),tn(he,he,!0,!1)),(H?Promise.resolve(H):R(j,he)).catch(q=>Br(q)?Br(q,2)?q:z(q):Le(q,j,he)).then(q=>{if(q){if(Br(q,2))return C(Ye({replace:A},W(q.to),{state:typeof q.to=="object"?Ye({},He,q.to.state):He,force:I}),$||j)}else q=N(j,he,!0,A,He);return P(j,he,q),q})}function T(B,$){const ie=Z(B,$);return ie?Promise.reject(ie):Promise.resolve()}function b(B){const $=Ft.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(B):B()}function R(B,$){let ie;const[he,He,I]=SO(B,$);ie=Ih(he.reverse(),"beforeRouteLeave",B,$);for(const x of he)x.leaveGuards.forEach(j=>{ie.push(bs(j,B,$))});const A=T.bind(null,B,$);return ie.push(A),ut(ie).then(()=>{ie=[];for(const x of i.list())ie.push(bs(x,B,$));return ie.push(A),ut(ie)}).then(()=>{ie=Ih(He,"beforeRouteUpdate",B,$);for(const x of He)x.updateGuards.forEach(j=>{ie.push(bs(j,B,$))});return ie.push(A),ut(ie)}).then(()=>{ie=[];for(const x of I)if(x.beforeEnter)if(or(x.beforeEnter))for(const j of x.beforeEnter)ie.push(bs(j,B,$));else ie.push(bs(x.beforeEnter,B,$));return ie.push(A),ut(ie)}).then(()=>(B.matched.forEach(x=>x.enterCallbacks={}),ie=Ih(I,"beforeRouteEnter",B,$,b),ie.push(A),ut(ie))).then(()=>{ie=[];for(const x of o.list())ie.push(bs(x,B,$));return ie.push(A),ut(ie)}).catch(x=>Br(x,8)?x:Promise.reject(x))}function P(B,$,ie){c.list().forEach(he=>b(()=>he(B,$,ie)))}function N(B,$,ie,he,He){const I=Z(B,$);if(I)return I;const A=$===vs,x=oo?history.state:{};ie&&(he||A?s.replace(B.fullPath,Ye({scroll:A&&x&&x.scroll},He)):s.push(B.fullPath,He)),u.value=B,tn(B,$,ie,A),z()}let S;function Ct(){S||(S=s.listen((B,$,ie)=>{if(!nn.listening)return;const he=J(B),He=Ve(he);if(He){C(Ye(He,{replace:!0,force:!0}),he).catch(Va);return}f=he;const I=u.value;oo&&Qk(Cg(I.fullPath,ie.delta),Du()),R(he,I).catch(A=>Br(A,12)?A:Br(A,2)?(C(Ye(W(A.to),{force:!0}),he).then(x=>{Br(x,20)&&!ie.delta&&ie.type===rc.pop&&s.go(-1,!1)}).catch(Va),Promise.reject()):(ie.delta&&s.go(-ie.delta,!1),Le(A,he,I))).then(A=>{A=A||N(he,I,!1),A&&(ie.delta&&!Br(A,8)?s.go(-ie.delta,!1):ie.type===rc.pop&&Br(A,20)&&s.go(-1,!1)),P(he,I,A)}).catch(Va)}))}let Kt=ua(),et=ua(),ve;function Le(B,$,ie){z(B);const he=et.list();return he.length?he.forEach(He=>He(B,$,ie)):console.error(B),Promise.reject(B)}function en(){return ve&&u.value!==vs?Promise.resolve():new Promise((B,$)=>{Kt.add([B,$])})}function z(B){return ve||(ve=!B,Ct(),Kt.list().forEach(([$,ie])=>B?ie(B):$()),Kt.reset()),B}function tn(B,$,ie,he){const{scrollBehavior:He}=t;if(!oo||!He)return Promise.resolve();const I=!ie&&Jk(Cg(B.fullPath,0))||(he||!ie)&&history.state&&history.state.scroll||null;return cu().then(()=>He(B,$,I)).then(A=>A&&Gk(A)).catch(A=>Le(A,B,$))}const lt=B=>s.go(B);let ot;const Ft=new Set,nn={currentRoute:u,listening:!0,addRoute:y,removeRoute:O,clearRoutes:e.clearRoutes,hasRoute:U,getRoutes:L,resolve:J,options:t,push:te,replace:we,go:lt,back:()=>lt(-1),forward:()=>lt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:et.add,isReady:en,install(B){const $=this;B.component("RouterLink",EO),B.component("RouterView",IO),B.config.globalProperties.$router=$,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>uo(u)}),oo&&!ot&&u.value===vs&&(ot=!0,te(s.location).catch(He=>{}));const ie={};for(const He in vs)Object.defineProperty(ie,He,{get:()=>u.value[He],enumerable:!0});B.provide(Nu,$),B.provide(Rd,p_(ie)),B.provide(df,u);const he=B.unmount;Ft.add(B),B.unmount=function(){Ft.delete(B),Ft.size<1&&(f=vs,S&&S(),S=null,u.value=vs,ot=!1,ve=!1),he()}}};function ut(B){return B.reduce(($,ie)=>$.then(()=>b(ie)),Promise.resolve())}return nn}function SO(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(f=>Ro(f,c))?r.push(c):n.push(c));const u=t.matched[o];u&&(e.matched.find(f=>Ro(f,u))||s.push(u))}return[n,r,s]}function RO(){return Gn(Nu)}function CO(t){return Gn(Rd)}const Cd=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},PO={class:"navbar navbar-expand-lg navbar-dark bg-primary fixed-top"},kO={class:"container-fluid"},OO=["aria-expanded"],DO={class:"navbar-nav me-auto"},NO={class:"nav-item dropdown"},xO={class:"dropdown-menu","aria-labelledby":"supportUsDropdown"},VO={key:0,class:"nav-item dropdown"},LO={class:"dropdown-menu","aria-labelledby":"servicesDropdown"},MO={key:1,class:"nav-item"},FO={key:2,class:"nav-item"},UO={key:3,class:"nav-item"},$O={class:"nav-item dropdown"},jO={class:"dropdown-menu","aria-labelledby":"getHelpDropdown"},BO={key:4,class:"nav-item"},HO={key:5,class:"nav-item"},qO={class:"nav-item dropdown"},WO={class:"dropdown-menu","aria-labelledby":"aboutUsDropdown"},zO={class:"navbar-nav"},KO={class:"nav-item"},GO={class:"nav-item"},QO={class:"nav-link"},JO={class:"nav-item"},YO={class:"nav-item"},XO={class:"nav-item"},ZO={class:"nav-item"},eD={__name:"Navbar",setup(t){const e=Ou(),n=RO();CO();const r=Pn(()=>e.isAuthenticated),s=Pn(()=>e.user),i=()=>{e.logout(),n.push("/login")},o=()=>{},c=$a(!0),u=()=>{c.value=!c.value},f=$a({}),p=v=>{f.value[v]=!f.value[v];const y=document.getElementById(v);y&&y.setAttribute("aria-expanded",f.value[v]?"true":"false")},g=()=>{window.innerWidth>=992&&(c.value=!0)};return R_(()=>{window.addEventListener("resize",g)}),kf(()=>{window.removeEventListener("resize",g)}),console.log("Navbar isAuthenticated:",r.value,"user:",s.value),(v,y)=>{const O=ba("router-link");return Sn(),er("div",null,[X("nav",PO,[X("div",kO,[be(O,{class:"navbar-brand",to:"/"},{default:Ke(()=>y[11]||(y[11]=[X("div",{class:"navbar-logo"},[X("div",{class:"logo-icon"},[X("i",{class:"fas fa-hands-helping"})]),X("div",{class:"logo-text"},[X("span",{class:"logo-main"},"CareNexus"),X("span",{class:"logo-sub"},"a love bridge")])],-1)])),_:1,__:[11]}),X("button",{class:"navbar-toggler",type:"button",onClick:u,"aria-controls":"navbarNav","aria-expanded":!c.value,"aria-label":"Toggle navigation"},y[12]||(y[12]=[X("span",{class:"navbar-toggler-icon"},null,-1)]),8,OO),X("div",{class:Ma(["collapse","navbar-collapse",{show:!c.value}]),id:"navbarNav"},[X("ul",DO,[X("li",NO,[X("button",{class:"nav-link dropdown-toggle btn-link",id:"supportUsDropdown","aria-haspopup":"true","aria-expanded":!1,onClick:y[0]||(y[0]=L=>p("supportUsDropdown")),onKeydown:y[1]||(y[1]=Yc(_s(L=>p("supportUsDropdown"),["prevent"]),["enter"]))},y[13]||(y[13]=[X("i",{class:"fas fa-hand-holding-heart","aria-hidden":"true"},null,-1),X("span",{class:"visually-hidden"},"Support Us",-1),X("span",{"aria-hidden":"true"}," SUPPORT US",-1)]),32),X("ul",xO,[X("li",null,[be(O,{class:"dropdown-item",to:"/donate"},{default:Ke(()=>y[14]||(y[14]=[X("i",{class:"fas fa-donate","aria-hidden":"true"},null,-1),Ge(),X("span",null,"Donate",-1)])),_:1,__:[14]})]),X("li",null,[be(O,{class:"dropdown-item",to:"/volunteering"},{default:Ke(()=>y[15]||(y[15]=[X("i",{class:"fas fa-people-carry","aria-hidden":"true"},null,-1),Ge(),X("span",null,"Volunteer",-1)])),_:1,__:[15]})]),X("li",null,[X("button",{class:"dropdown-item btn-link",onClick:y[2]||(y[2]=_s(()=>{},["prevent"]))},y[16]||(y[16]=[X("i",{class:"fas fa-bullhorn","aria-hidden":"true"},null,-1),Ge(),X("span",null,"Advocate",-1)]))]),X("li",null,[X("button",{class:"dropdown-item btn-link",onClick:y[3]||(y[3]=_s(()=>{},["prevent"]))},y[17]||(y[17]=[X("i",{class:"fas fa-handshake","aria-hidden":"true"},null,-1),Ge(),X("span",null,"Partner",-1)]))])])]),r.value?(Sn(),er("li",VO,[X("button",{class:"nav-link dropdown-toggle btn-link",id:"servicesDropdown","aria-haspopup":"true","aria-expanded":!1,onClick:y[4]||(y[4]=L=>p("servicesDropdown")),onKeydown:y[5]||(y[5]=Yc(_s(L=>p("servicesDropdown"),["prevent"]),["enter"]))},y[18]||(y[18]=[X("span",null,"SERVICES",-1)]),32),X("ul",LO,[X("li",null,[be(O,{class:"dropdown-item",to:"/food-service"},{default:Ke(()=>y[19]||(y[19]=[Ge("Food Service")])),_:1,__:[19]})]),X("li",null,[be(O,{class:"dropdown-item",to:"/medical-service"},{default:Ke(()=>y[20]||(y[20]=[Ge("Medical Service")])),_:1,__:[20]})]),X("li",null,[be(O,{class:"dropdown-item",to:"/housing-service"},{default:Ke(()=>y[21]||(y[21]=[Ge("Housing Service")])),_:1,__:[21]})]),X("li",null,[be(O,{class:"dropdown-item",to:"/resources"},{default:Ke(()=>y[22]||(y[22]=[Ge("Resources")])),_:1,__:[22]})]),X("li",null,[be(O,{class:"dropdown-item",to:"/map"},{default:Ke(()=>y[23]||(y[23]=[Ge("Map")])),_:1,__:[23]})])])])):Zi("",!0),r.value&&s.value.role==="beneficiary"?(Sn(),er("li",MO,[be(O,{class:"nav-link",to:"/resources"},{default:Ke(()=>y[24]||(y[24]=[Ge("RESOURCES")])),_:1,__:[24]})])):Zi("",!0),r.value?(Sn(),er("li",FO,[be(O,{class:"nav-link",to:"/map"},{default:Ke(()=>y[25]||(y[25]=[Ge("MAP")])),_:1,__:[25]})])):Zi("",!0),r.value?(Sn(),er("li",UO,[be(O,{class:"nav-link",to:"/staff"},{default:Ke(()=>y[26]||(y[26]=[Ge("STAFF")])),_:1,__:[26]})])):Zi("",!0),X("li",$O,[X("button",{class:"nav-link dropdown-toggle btn-link",id:"getHelpDropdown","aria-haspopup":"true","aria-expanded":!1,onClick:y[6]||(y[6]=L=>p("getHelpDropdown")),onKeydown:y[7]||(y[7]=Yc(_s(L=>p("getHelpDropdown"),["prevent"]),["enter"]))},y[27]||(y[27]=[X("span",null,"GET HELP",-1)]),32),X("ul",jO,[X("li",null,[be(O,{class:"dropdown-item",to:"/emergency-help"},{default:Ke(()=>y[28]||(y[28]=[Ge("Emergency Help")])),_:1,__:[28]})]),X("li",null,[be(O,{class:"dropdown-item",to:"/career-assistance"},{default:Ke(()=>y[29]||(y[29]=[Ge("Career Assistance")])),_:1,__:[29]})])])]),r.value&&s.value.role==="volunteer"?(Sn(),er("li",BO,[be(O,{class:"nav-link",to:"/volunteer-hub"},{default:Ke(()=>y[30]||(y[30]=[Ge("VOLUNTEER HUB")])),_:1,__:[30]})])):Zi("",!0),r.value&&s.value.role==="admin"?(Sn(),er("li",HO,[be(O,{class:"nav-link",to:"/admin/activities"},{default:Ke(()=>y[31]||(y[31]=[Ge("Manage Activities")])),_:1,__:[31]})])):Zi("",!0),X("li",qO,[X("button",{class:"nav-link dropdown-toggle btn-link",id:"aboutUsDropdown","aria-haspopup":"true","aria-expanded":!1,onClick:y[8]||(y[8]=L=>p("aboutUsDropdown")),onKeydown:y[9]||(y[9]=Yc(_s(L=>p("aboutUsDropdown"),["prevent"]),["enter"]))},y[32]||(y[32]=[X("span",null,"ABOUT US",-1)]),32),X("ul",WO,[X("li",null,[be(O,{class:"dropdown-item",to:"/staff"},{default:Ke(()=>y[33]||(y[33]=[Ge("Staff")])),_:1,__:[33]})])])])]),X("ul",zO,[r.value&&s.value?(Sn(),er(Cn,{key:0},[X("li",KO,[be(O,{to:"/email",class:"nav-link",title:"Send Email"},{default:Ke(()=>y[34]||(y[34]=[X("i",{class:"fas fa-envelope"},null,-1)])),_:1,__:[34]})]),X("li",GO,[X("span",QO,"Welcome, "+vf(s.value.name||s.value.email),1)]),X("li",JO,[X("button",{class:"nav-link btn-link",onClick:_s(i,["prevent"])},"Logout")])],64)):(Sn(),er(Cn,{key:1},[X("li",YO,[be(O,{class:"nav-link",to:"/login"},{default:Ke(()=>y[35]||(y[35]=[Ge("Login")])),_:1,__:[35]})]),X("li",XO,[be(O,{class:"nav-link",to:"/register"},{default:Ke(()=>y[36]||(y[36]=[Ge("Register")])),_:1,__:[36]})])],64)),X("li",ZO,[be(O,{class:Ma(["nav-link",r.value?"active-profile-icon":"disabled-profile-icon"]),to:"/profile",title:"My Home",onClick:y[10]||(y[10]=_s(L=>r.value?null:o,["prevent"]))},{default:Ke(()=>y[37]||(y[37]=[Ge("")])),_:1,__:[37]},8,["class"])])])],2)])])])}}},tD=Cd(eD,[["__scopeId","data-v-38e4337e"]]),nD={computed:{currentYear(){return new Date().getFullYear()}}},rD={class:"footer mt-auto py-4 bg-dark text-white"},sD={class:"container"},iD={class:"row"},oD={class:"col-md-2 mb-4 mb-md-0"},aD={class:"list-unstyled"},cD={class:"mb-2"},lD={class:"mb-2"},uD={class:"mb-2"},hD={class:"mb-2"},fD={class:"col-md-3 mb-4 mb-md-0"},dD={class:"list-unstyled"},pD={class:"mb-2"},mD={class:"mb-2"},gD={class:"mb-2"},_D={class:"mb-2"},yD={class:"row align-items-center"},vD={class:"col-md-6 text-center text-md-start"},ED={class:"mb-0"},wD={class:"col-md-6 text-center text-md-end"},TD={class:"list-inline mb-0"},bD={class:"list-inline-item"},ID={class:"list-inline-item"},AD={class:"list-inline-item"};function SD(t,e,n,r,s,i){const o=ba("router-link");return Sn(),er("footer",rD,[X("div",sD,[X("div",iD,[e[10]||(e[10]=Dp('<div class="col-md-4 mb-4 mb-md-0" data-v-5ef00575><h5 class="text-primary mb-3" data-v-5ef00575>Immigrant Health Support</h5><p class="mb-3" data-v-5ef00575> Empowering immigrant communities with healthcare resources, support, and education. </p><div class="social-icons" data-v-5ef00575><a href="#" class="text-white me-3" data-v-5ef00575><i class="bi bi-facebook" data-v-5ef00575></i></a><a href="#" class="text-white me-3" data-v-5ef00575><i class="bi bi-twitter" data-v-5ef00575></i></a><a href="#" class="text-white me-3" data-v-5ef00575><i class="bi bi-instagram" data-v-5ef00575></i></a><a href="#" class="text-white" data-v-5ef00575><i class="bi bi-linkedin" data-v-5ef00575></i></a></div></div>',1)),X("div",oD,[e[4]||(e[4]=X("h5",{class:"mb-3"},"Quick Links",-1)),X("ul",aD,[X("li",cD,[be(o,{to:"/",class:"text-white text-decoration-none"},{default:Ke(()=>e[0]||(e[0]=[Ge("Home")])),_:1,__:[0]})]),X("li",lD,[be(o,{to:"/resources",class:"text-white text-decoration-none"},{default:Ke(()=>e[1]||(e[1]=[Ge("Resources")])),_:1,__:[1]})]),X("li",uD,[be(o,{to:"/community",class:"text-white text-decoration-none"},{default:Ke(()=>e[2]||(e[2]=[Ge("Community")])),_:1,__:[2]})]),X("li",hD,[be(o,{to:"/about",class:"text-white text-decoration-none"},{default:Ke(()=>e[3]||(e[3]=[Ge("About Us")])),_:1,__:[3]})])])]),X("div",fD,[e[9]||(e[9]=X("h5",{class:"mb-3"},"Resources",-1)),X("ul",dD,[X("li",pD,[be(o,{to:"/resources/healthcare",class:"text-white text-decoration-none"},{default:Ke(()=>e[5]||(e[5]=[Ge("Healthcare Access")])),_:1,__:[5]})]),X("li",mD,[be(o,{to:"/resources/legal",class:"text-white text-decoration-none"},{default:Ke(()=>e[6]||(e[6]=[Ge("Legal Assistance")])),_:1,__:[6]})]),X("li",gD,[be(o,{to:"/resources/education",class:"text-white text-decoration-none"},{default:Ke(()=>e[7]||(e[7]=[Ge("Education")])),_:1,__:[7]})]),X("li",_D,[be(o,{to:"/resources/mental-health",class:"text-white text-decoration-none"},{default:Ke(()=>e[8]||(e[8]=[Ge("Mental Health Support")])),_:1,__:[8]})])])]),e[11]||(e[11]=Dp('<div class="col-md-3" data-v-5ef00575><h5 class="mb-3" data-v-5ef00575>Contact Us</h5><ul class="list-unstyled" data-v-5ef00575><li class="mb-2" data-v-5ef00575><i class="bi bi-geo-alt me-2 text-primary" data-v-5ef00575></i> 123 Health St, Toronto, ON </li><li class="mb-2" data-v-5ef00575><i class="bi bi-telephone me-2 text-primary" data-v-5ef00575></i> +1 (416) 123-4567 </li><li class="mb-2" data-v-5ef00575><i class="bi bi-envelope me-2 text-primary" data-v-5ef00575></i> info@immigranthealth.org </li><li class="mb-2" data-v-5ef00575><i class="bi bi-clock me-2 text-primary" data-v-5ef00575></i> Mon-Fri: 9am - 5pm </li></ul><div class="mt-4" data-v-5ef00575><h6 class="mb-2" data-v-5ef00575>Subscribe to our newsletter</h6><div class="input-group" data-v-5ef00575><input type="email" class="form-control" placeholder="Your email" data-v-5ef00575><button class="btn btn-primary" type="button" data-v-5ef00575><i class="bi bi-send" data-v-5ef00575></i></button></div></div></div>',1))]),e[17]||(e[17]=X("hr",{class:"border-secondary my-4"},null,-1)),X("div",yD,[X("div",vD,[X("p",ED," "+vf(i.currentYear)+" CareNexus. All rights reserved.",1)]),X("div",wD,[X("ul",TD,[X("li",bD,[be(o,{to:"/privacy",class:"text-white text-decoration-none"},{default:Ke(()=>e[12]||(e[12]=[Ge("Privacy Policy")])),_:1,__:[12]})]),e[15]||(e[15]=X("li",{class:"list-inline-item mx-2"},"|",-1)),X("li",ID,[be(o,{to:"/terms",class:"text-white text-decoration-none"},{default:Ke(()=>e[13]||(e[13]=[Ge("Terms of Use")])),_:1,__:[13]})]),e[16]||(e[16]=X("li",{class:"list-inline-item mx-2"},"|",-1)),X("li",AD,[be(o,{to:"/sitemap",class:"text-white text-decoration-none"},{default:Ke(()=>e[14]||(e[14]=[Ge("Sitemap")])),_:1,__:[14]})])])])])])])}const RD=Cd(nD,[["render",SD],["__scopeId","data-v-5ef00575"]]),CD={components:{Navbar:tD,Footer:RD}},PD={id:"app-container"},kD={id:"main",class:"main-content",tabindex:"-1","aria-label":"Main content"};function OD(t,e,n,r,s,i){const o=ba("Navbar"),c=ba("router-view"),u=ba("Footer");return Sn(),er("div",PD,[be(o),X("main",kD,[be(c)]),be(u)])}const DD=Cd(CD,[["render",OD]]),ND="modulepreload",xD=function(t){return"/"+t},Hg={},yt=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=o(n.map(f=>{if(f=xD(f),f in Hg)return;Hg[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":ND,p||(v.as="script"),v.crossOrigin="",v.href=f,u&&v.setAttribute("nonce",u),document.head.appendChild(v),p)return new Promise((y,O)=>{v.addEventListener("load",y),v.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},VD=[{path:"/",name:"home",component:()=>yt(()=>import("./HomePage-B_-ab9Lw.js"),__vite__mapDeps([0,1]))},{path:"/resources",name:"resources",component:()=>yt(()=>import("./ResourcesPage-CaC6DDk8.js"),__vite__mapDeps([2,3])),meta:{requiresAuth:!0}},{path:"/food-service",name:"food-service",component:()=>yt(()=>import("./FoodService-D8WFXfs3.js"),__vite__mapDeps([4,5])),meta:{requiresAuth:!0}},{path:"/housing-service",name:"housing-service",component:()=>yt(()=>import("./HousingService-CBm0bieF.js"),[]),meta:{requiresAuth:!0}},{path:"/medical-service",name:"medical-service",component:()=>yt(()=>import("./MedicalService-DhpT682S.js"),__vite__mapDeps([6,7])),meta:{requiresAuth:!0}},{path:"/login",name:"login",component:()=>yt(()=>import("./Login-B8dXWLfg.js"),[])},{path:"/register",name:"register",component:()=>yt(()=>import("./Register-XNpbL2_H.js"),__vite__mapDeps([8,9]))},{path:"/aboutus",name:"aboutus",component:()=>yt(()=>import("./AboutUs-W6dtIFVj.js"),__vite__mapDeps([10,11]))},{path:"/staff",name:"staff",component:()=>yt(()=>import("./Staff-DpGv1T8J.js"),__vite__mapDeps([12,13])),meta:{requiresAuth:!0}},{path:"/donate",name:"donate",component:()=>yt(()=>import("./Donate-BEih2-4J.js"),__vite__mapDeps([14,15])),meta:{requiresAuth:!0}},{path:"/volunteering",name:"volunteering",component:()=>yt(()=>import("./Volunteering-BnMEQvcB.js"),[]),meta:{requiresAuth:!0}},{path:"/emergency-help",name:"emergency-help",component:()=>yt(()=>import("./EmergencyHelp-C90vyiRG.js"),__vite__mapDeps([16,17])),meta:{requiresAuth:!0}},{path:"/career-assistance",name:"career-assistance",component:()=>yt(()=>import("./CareerAssistance-Dw15356B.js"),[]),meta:{requiresAuth:!0}},{path:"/volunteer-hub",name:"volunteer-hub",component:()=>yt(()=>import("./VolunteerHub-DSVK-gIS.js").then(t=>t.V),__vite__mapDeps([18,19,20])),meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:()=>yt(()=>import("./UserProfile-CNHlUB1g.js"),__vite__mapDeps([21,22])),meta:{requiresAuth:!0}},{path:"/profile/edit",name:"edit-profile",component:()=>yt(()=>import("./EditProfile-Co06jOjJ.js"),__vite__mapDeps([23,24])),meta:{requiresAuth:!0}},{path:"/support-us",name:"support-us",component:()=>yt(()=>import("./SupportUs-BusSXakA.js"),__vite__mapDeps([25,26])),meta:{requiresAuth:!0}},{path:"/admin/activities",name:"admin-activities",component:()=>yt(()=>import("./AdminActivities-CmdPv6iJ.js"),__vite__mapDeps([27,28])),meta:{requiresAuth:!0,requiredRole:"admin"}},{path:"/activity/:id",name:"ActivityDetails",component:()=>yt(()=>import("./ActivityDetails-DDBOc4dB.js"),__vite__mapDeps([29,30])),meta:{requiresAuth:!0}},{path:"/email",name:"email",component:()=>yt(()=>import("./EmailSender-C0D6txJJ.js"),__vite__mapDeps([31,32])),meta:{requiresAuth:!0}},{path:"/map",name:"map",component:()=>yt(()=>import("./MapView-CCbiVlvq.js"),__vite__mapDeps([33,19,34])),meta:{requiresAuth:!0}},{path:"/staff",name:"staff",component:()=>yt(()=>import("./StaffList-Ck9ZaGeP.js"),__vite__mapDeps([35,36,37,38])),meta:{requiresAuth:!0}},{path:"/activities",name:"Activities",component:()=>yt(()=>import("./ActivitiesList-BZW8tqW5.js"),__vite__mapDeps([39,36,37,40])),meta:{requiresAuth:!0}}],UE=AO({history:eO(),routes:VD});UE.beforeEach((t,e,n)=>{const r=Ou();console.log(`Navigating from ${e.path} to ${t.path}`),console.log(`authStore.isAuthenticated: ${r.isAuthenticated}`),console.log("authStore.user:",r.user),console.log("Route meta:",t.meta),t.matched.some(s=>s.meta.requiresAuth)?(console.log("Route requires authentication."),r.isAuthenticated?t.meta.requiredRole&&r.user.role!==t.meta.requiredRole?(console.log(`User role ${r.user.role} does not match required role ${t.meta.requiredRole}. Redirecting to home.`),n({name:"home"})):(console.log("User authenticated and has required role (or no role required). Proceeding."),n()):(console.log("User not authenticated. Redirecting to login."),n({name:"login"}))):(console.log("Route does not require authentication. Proceeding."),n())});var wl={exports:{}};/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var LD=wl.exports,qg;function MD(){return qg||(qg=1,function(t,e){(function(n,r){t.exports=r()})(LD,function(){const n=new Map,r={set(_,l,d){n.has(_)||n.set(_,new Map);const E=n.get(_);E.has(l)||E.size===0?E.set(l,d):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(E.keys())[0]}.`)},get:(_,l)=>n.has(_)&&n.get(_).get(l)||null,remove(_,l){if(!n.has(_))return;const d=n.get(_);d.delete(l),d.size===0&&n.delete(_)}},s="transitionend",i=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(l,d)=>`#${CSS.escape(d)}`)),_),o=_=>{_.dispatchEvent(new Event(s))},c=_=>!(!_||typeof _!="object")&&(_.jquery!==void 0&&(_=_[0]),_.nodeType!==void 0),u=_=>c(_)?_.jquery?_[0]:_:typeof _=="string"&&_.length>0?document.querySelector(i(_)):null,f=_=>{if(!c(_)||_.getClientRects().length===0)return!1;const l=getComputedStyle(_).getPropertyValue("visibility")==="visible",d=_.closest("details:not([open])");if(!d)return l;if(d!==_){const E=_.closest("summary");if(E&&E.parentNode!==d||E===null)return!1}return l},p=_=>!_||_.nodeType!==Node.ELEMENT_NODE||!!_.classList.contains("disabled")||(_.disabled!==void 0?_.disabled:_.hasAttribute("disabled")&&_.getAttribute("disabled")!=="false"),g=_=>{if(!document.documentElement.attachShadow)return null;if(typeof _.getRootNode=="function"){const l=_.getRootNode();return l instanceof ShadowRoot?l:null}return _ instanceof ShadowRoot?_:_.parentNode?g(_.parentNode):null},v=()=>{},y=_=>{_.offsetHeight},O=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,L=[],U=()=>document.documentElement.dir==="rtl",J=_=>{var l;l=()=>{const d=O();if(d){const E=_.NAME,k=d.fn[E];d.fn[E]=_.jQueryInterface,d.fn[E].Constructor=_,d.fn[E].noConflict=()=>(d.fn[E]=k,_.jQueryInterface)}},document.readyState==="loading"?(L.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of L)d()}),L.push(l)):l()},W=(_,l=[],d=_)=>typeof _=="function"?_.call(...l):d,Z=(_,l,d=!0)=>{if(!d)return void W(_);const E=(F=>{if(!F)return 0;let{transitionDuration:G,transitionDelay:se}=window.getComputedStyle(F);const ue=Number.parseFloat(G),fe=Number.parseFloat(se);return ue||fe?(G=G.split(",")[0],se=se.split(",")[0],1e3*(Number.parseFloat(G)+Number.parseFloat(se))):0})(l)+5;let k=!1;const D=({target:F})=>{F===l&&(k=!0,l.removeEventListener(s,D),W(_))};l.addEventListener(s,D),setTimeout(()=>{k||o(l)},E)},te=(_,l,d,E)=>{const k=_.length;let D=_.indexOf(l);return D===-1?!d&&E?_[k-1]:_[0]:(D+=d?1:-1,E&&(D=(D+k)%k),_[Math.max(0,Math.min(D,k-1))])},we=/[^.]*(?=\..*)\.|.*/,Ve=/\..*/,C=/::\d+$/,T={};let b=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},P=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function N(_,l){return l&&`${l}::${b++}`||_.uidEvent||b++}function S(_){const l=N(_);return _.uidEvent=l,T[l]=T[l]||{},T[l]}function Ct(_,l,d=null){return Object.values(_).find(E=>E.callable===l&&E.delegationSelector===d)}function Kt(_,l,d){const E=typeof l=="string",k=E?d:l||d;let D=en(_);return P.has(D)||(D=_),[E,k,D]}function et(_,l,d,E,k){if(typeof l!="string"||!_)return;let[D,F,G]=Kt(l,d,E);l in R&&(F=(Pe=>function(Se){if(!Se.relatedTarget||Se.relatedTarget!==Se.delegateTarget&&!Se.delegateTarget.contains(Se.relatedTarget))return Pe.call(this,Se)})(F));const se=S(_),ue=se[G]||(se[G]={}),fe=Ct(ue,F,D?d:null);if(fe)return void(fe.oneOff=fe.oneOff&&k);const ce=N(F,l.replace(we,"")),Ne=D?function(Te,Pe,Se){return function ke(st){const ft=Te.querySelectorAll(Pe);for(let{target:Me}=st;Me&&Me!==this;Me=Me.parentNode)for(const Je of ft)if(Je===Me)return tn(st,{delegateTarget:Me}),ke.oneOff&&z.off(Te,st.type,Pe,Se),Se.apply(Me,[st])}}(_,d,F):function(Te,Pe){return function Se(ke){return tn(ke,{delegateTarget:Te}),Se.oneOff&&z.off(Te,ke.type,Pe),Pe.apply(Te,[ke])}}(_,F);Ne.delegationSelector=D?d:null,Ne.callable=F,Ne.oneOff=k,Ne.uidEvent=ce,ue[ce]=Ne,_.addEventListener(G,Ne,D)}function ve(_,l,d,E,k){const D=Ct(l[d],E,k);D&&(_.removeEventListener(d,D,!!k),delete l[d][D.uidEvent])}function Le(_,l,d,E){const k=l[d]||{};for(const[D,F]of Object.entries(k))D.includes(E)&&ve(_,l,d,F.callable,F.delegationSelector)}function en(_){return _=_.replace(Ve,""),R[_]||_}const z={on(_,l,d,E){et(_,l,d,E,!1)},one(_,l,d,E){et(_,l,d,E,!0)},off(_,l,d,E){if(typeof l!="string"||!_)return;const[k,D,F]=Kt(l,d,E),G=F!==l,se=S(_),ue=se[F]||{},fe=l.startsWith(".");if(D===void 0){if(fe)for(const ce of Object.keys(se))Le(_,se,ce,l.slice(1));for(const[ce,Ne]of Object.entries(ue)){const Te=ce.replace(C,"");G&&!l.includes(Te)||ve(_,se,F,Ne.callable,Ne.delegationSelector)}}else{if(!Object.keys(ue).length)return;ve(_,se,F,D,k?d:null)}},trigger(_,l,d){if(typeof l!="string"||!_)return null;const E=O();let k=null,D=!0,F=!0,G=!1;l!==en(l)&&E&&(k=E.Event(l,d),E(_).trigger(k),D=!k.isPropagationStopped(),F=!k.isImmediatePropagationStopped(),G=k.isDefaultPrevented());const se=tn(new Event(l,{bubbles:D,cancelable:!0}),d);return G&&se.preventDefault(),F&&_.dispatchEvent(se),se.defaultPrevented&&k&&k.preventDefault(),se}};function tn(_,l={}){for(const[d,E]of Object.entries(l))try{_[d]=E}catch{Object.defineProperty(_,d,{configurable:!0,get:()=>E})}return _}function lt(_){if(_==="true")return!0;if(_==="false")return!1;if(_===Number(_).toString())return Number(_);if(_===""||_==="null")return null;if(typeof _!="string")return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function ot(_){return _.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const Ft={setDataAttribute(_,l,d){_.setAttribute(`data-bs-${ot(l)}`,d)},removeDataAttribute(_,l){_.removeAttribute(`data-bs-${ot(l)}`)},getDataAttributes(_){if(!_)return{};const l={},d=Object.keys(_.dataset).filter(E=>E.startsWith("bs")&&!E.startsWith("bsConfig"));for(const E of d){let k=E.replace(/^bs/,"");k=k.charAt(0).toLowerCase()+k.slice(1),l[k]=lt(_.dataset[E])}return l},getDataAttribute:(_,l)=>lt(_.getAttribute(`data-bs-${ot(l)}`))};class nn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,d){const E=c(d)?Ft.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof E=="object"?E:{},...c(d)?Ft.getDataAttributes(d):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,d=this.constructor.DefaultType){for(const[k,D]of Object.entries(d)){const F=l[k],G=c(F)?"element":(E=F)==null?`${E}`:Object.prototype.toString.call(E).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(D).test(G))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${k}" provided type "${G}" but expected type "${D}".`)}var E}}class ut extends nn{constructor(l,d){super(),(l=u(l))&&(this._element=l,this._config=this._getConfig(d),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),z.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,d,E=!0){Z(l,d,E)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return r.get(u(l),this.DATA_KEY)}static getOrCreateInstance(l,d={}){return this.getInstance(l)||new this(l,typeof d=="object"?d:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const B=_=>{let l=_.getAttribute("data-bs-target");if(!l||l==="#"){let d=_.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),l=d&&d!=="#"?d.trim():null}return l?l.split(",").map(d=>i(d)).join(","):null},$={find:(_,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,_)),findOne:(_,l=document.documentElement)=>Element.prototype.querySelector.call(l,_),children:(_,l)=>[].concat(..._.children).filter(d=>d.matches(l)),parents(_,l){const d=[];let E=_.parentNode.closest(l);for(;E;)d.push(E),E=E.parentNode.closest(l);return d},prev(_,l){let d=_.previousElementSibling;for(;d;){if(d.matches(l))return[d];d=d.previousElementSibling}return[]},next(_,l){let d=_.nextElementSibling;for(;d;){if(d.matches(l))return[d];d=d.nextElementSibling}return[]},focusableChildren(_){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(l,_).filter(d=>!p(d)&&f(d))},getSelectorFromElement(_){const l=B(_);return l&&$.findOne(l)?l:null},getElementFromSelector(_){const l=B(_);return l?$.findOne(l):null},getMultipleElementsFromSelector(_){const l=B(_);return l?$.find(l):[]}},ie=(_,l="hide")=>{const d=`click.dismiss${_.EVENT_KEY}`,E=_.NAME;z.on(document,d,`[data-bs-dismiss="${E}"]`,function(k){if(["A","AREA"].includes(this.tagName)&&k.preventDefault(),p(this))return;const D=$.getElementFromSelector(this)||this.closest(`.${E}`);_.getOrCreateInstance(D)[l]()})},he=".bs.alert",He=`close${he}`,I=`closed${he}`;class A extends ut{static get NAME(){return"alert"}close(){if(z.trigger(this._element,He).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),z.trigger(this._element,I),this.dispose()}static jQueryInterface(l){return this.each(function(){const d=A.getOrCreateInstance(this);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l](this)}})}}ie(A,"close"),J(A);const x='[data-bs-toggle="button"]';class j extends ut{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const d=j.getOrCreateInstance(this);l==="toggle"&&d[l]()})}}z.on(document,"click.bs.button.data-api",x,_=>{_.preventDefault();const l=_.target.closest(x);j.getOrCreateInstance(l).toggle()}),J(j);const H=".bs.swipe",q=`touchstart${H}`,ae=`touchmove${H}`,ne=`touchend${H}`,ee=`pointerdown${H}`,Y=`pointerup${H}`,pe={endCallback:null,leftCallback:null,rightCallback:null},oe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class de extends nn{constructor(l,d){super(),this._element=l,l&&de.isSupported()&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return pe}static get DefaultType(){return oe}static get NAME(){return"swipe"}dispose(){z.off(this._element,H)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),W(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const d=l/this._deltaX;this._deltaX=0,d&&W(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(z.on(this._element,ee,l=>this._start(l)),z.on(this._element,Y,l=>this._end(l)),this._element.classList.add("pointer-event")):(z.on(this._element,q,l=>this._start(l)),z.on(this._element,ae,l=>this._move(l)),z.on(this._element,ne,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType==="pen"||l.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const me=".bs.carousel",_e=".data-api",Ce="ArrowLeft",Fe="ArrowRight",_t="next",gt="prev",Dt="left",bt="right",ar=`slide${me}`,Or=`slid${me}`,Nt=`keydown${me}`,bn=`mouseenter${me}`,Di=`mouseleave${me}`,Vo=`dragstart${me}`,vc=`load${me}${_e}`,Ec=`click${me}${_e}`,ss="carousel",is="active",Ni=".active",cr=".carousel-item",wc=Ni+cr,xi={[Ce]:bt,[Fe]:Dt},Tc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},zs={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Dr extends ut{constructor(l,d){super(l,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=$.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ss&&this.cycle()}static get Default(){return Tc}static get DefaultType(){return zs}static get NAME(){return"carousel"}next(){this._slide(_t)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(gt)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?z.one(this._element,Or,()=>this.cycle()):this.cycle())}to(l){const d=this._getItems();if(l>d.length-1||l<0)return;if(this._isSliding)return void z.one(this._element,Or,()=>this.to(l));const E=this._getItemIndex(this._getActive());if(E===l)return;const k=l>E?_t:gt;this._slide(k,d[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&z.on(this._element,Nt,l=>this._keydown(l)),this._config.pause==="hover"&&(z.on(this._element,bn,()=>this.pause()),z.on(this._element,Di,()=>this._maybeEnableCycle())),this._config.touch&&de.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const d of $.find(".carousel-item img",this._element))z.on(d,Vo,E=>E.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(Dt)),rightCallback:()=>this._slide(this._directionToOrder(bt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new de(this._element,l)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const d=xi[l.key];d&&(l.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const d=$.findOne(Ni,this._indicatorsElement);d.classList.remove(is),d.removeAttribute("aria-current");const E=$.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);E&&(E.classList.add(is),E.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const d=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(l,d=null){if(this._isSliding)return;const E=this._getActive(),k=l===_t,D=d||te(this._getItems(),E,k,this._config.wrap);if(D===E)return;const F=this._getItemIndex(D),G=ce=>z.trigger(this._element,ce,{relatedTarget:D,direction:this._orderToDirection(l),from:this._getItemIndex(E),to:F});if(G(ar).defaultPrevented||!E||!D)return;const se=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(F),this._activeElement=D;const ue=k?"carousel-item-start":"carousel-item-end",fe=k?"carousel-item-next":"carousel-item-prev";D.classList.add(fe),y(D),E.classList.add(ue),D.classList.add(ue),this._queueCallback(()=>{D.classList.remove(ue,fe),D.classList.add(is),E.classList.remove(is,fe,ue),this._isSliding=!1,G(Or)},E,this._isAnimated()),se&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return $.findOne(wc,this._element)}_getItems(){return $.find(cr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return U()?l===Dt?gt:_t:l===Dt?_t:gt}_orderToDirection(l){return U()?l===gt?Dt:bt:l===gt?bt:Dt}static jQueryInterface(l){return this.each(function(){const d=Dr.getOrCreateInstance(this,l);if(typeof l!="number"){if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l]()}}else d.to(l)})}}z.on(document,Ec,"[data-bs-slide], [data-bs-slide-to]",function(_){const l=$.getElementFromSelector(this);if(!l||!l.classList.contains(ss))return;_.preventDefault();const d=Dr.getOrCreateInstance(l),E=this.getAttribute("data-bs-slide-to");return E?(d.to(E),void d._maybeEnableCycle()):Ft.getDataAttribute(this,"slide")==="next"?(d.next(),void d._maybeEnableCycle()):(d.prev(),void d._maybeEnableCycle())}),z.on(window,vc,()=>{const _=$.find('[data-bs-ride="carousel"]');for(const l of _)Dr.getOrCreateInstance(l)}),J(Dr);const It=".bs.collapse",bc=`show${It}`,Ks=`shown${It}`,Gs=`hide${It}`,xu=`hidden${It}`,Vu=`click${It}.data-api`,lr="show",os="collapse",Vi="collapsing",Li=`:scope .${os} .${os}`,Mi='[data-bs-toggle="collapse"]',Lo={parent:null,toggle:!0},Fi={parent:"(null|element)",toggle:"boolean"};class pn extends ut{constructor(l,d){super(l,d),this._isTransitioning=!1,this._triggerArray=[];const E=$.find(Mi);for(const k of E){const D=$.getSelectorFromElement(k),F=$.find(D).filter(G=>G===this._element);D!==null&&F.length&&this._triggerArray.push(k)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Lo}static get DefaultType(){return Fi}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(k=>k!==this._element).map(k=>pn.getOrCreateInstance(k,{toggle:!1}))),l.length&&l[0]._isTransitioning||z.trigger(this._element,bc).defaultPrevented)return;for(const k of l)k.hide();const d=this._getDimension();this._element.classList.remove(os),this._element.classList.add(Vi),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const E=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Vi),this._element.classList.add(os,lr),this._element.style[d]="",z.trigger(this._element,Ks)},this._element,!0),this._element.style[d]=`${this._element[E]}px`}hide(){if(this._isTransitioning||!this._isShown()||z.trigger(this._element,Gs).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,y(this._element),this._element.classList.add(Vi),this._element.classList.remove(os,lr);for(const d of this._triggerArray){const E=$.getElementFromSelector(d);E&&!this._isShown(E)&&this._addAriaAndCollapsedClass([d],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Vi),this._element.classList.add(os),z.trigger(this._element,xu)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(lr)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=u(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Mi);for(const d of l){const E=$.getElementFromSelector(d);E&&this._addAriaAndCollapsedClass([d],this._isShown(E))}}_getFirstLevelChildren(l){const d=$.find(Li,this._config.parent);return $.find(l,this._config.parent).filter(E=>!d.includes(E))}_addAriaAndCollapsedClass(l,d){if(l.length)for(const E of l)E.classList.toggle("collapsed",!d),E.setAttribute("aria-expanded",d)}static jQueryInterface(l){const d={};return typeof l=="string"&&/show|hide/.test(l)&&(d.toggle=!1),this.each(function(){const E=pn.getOrCreateInstance(this,d);if(typeof l=="string"){if(E[l]===void 0)throw new TypeError(`No method named "${l}"`);E[l]()}})}}z.on(document,Vu,Mi,function(_){(_.target.tagName==="A"||_.delegateTarget&&_.delegateTarget.tagName==="A")&&_.preventDefault();for(const l of $.getMultipleElementsFromSelector(this))pn.getOrCreateInstance(l,{toggle:!1}).toggle()}),J(pn);var Ut="top",rn="bottom",Gt="right",xt="left",Qs="auto",Nr=[Ut,rn,Gt,xt],xr="start",Jn="end",Mo="clippingParents",Js="viewport",Fn="popper",ur="reference",Ys=Nr.reduce(function(_,l){return _.concat([l+"-"+xr,l+"-"+Jn])},[]),Fo=[].concat(Nr,[Qs]).reduce(function(_,l){return _.concat([l,l+"-"+xr,l+"-"+Jn])},[]),Uo="beforeRead",$o="read",jo="afterRead",Ui="beforeMain",$i="main",Bo="afterMain",Ho="beforeWrite",Ic="write",Ac="afterWrite",qo=[Uo,$o,jo,Ui,$i,Bo,Ho,Ic,Ac];function On(_){return _?(_.nodeName||"").toLowerCase():null}function mn(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var l=_.ownerDocument;return l&&l.defaultView||window}return _}function gn(_){return _ instanceof mn(_).Element||_ instanceof Element}function wt(_){return _ instanceof mn(_).HTMLElement||_ instanceof HTMLElement}function as(_){return typeof ShadowRoot<"u"&&(_ instanceof mn(_).ShadowRoot||_ instanceof ShadowRoot)}const cs={name:"applyStyles",enabled:!0,phase:"write",fn:function(_){var l=_.state;Object.keys(l.elements).forEach(function(d){var E=l.styles[d]||{},k=l.attributes[d]||{},D=l.elements[d];wt(D)&&On(D)&&(Object.assign(D.style,E),Object.keys(k).forEach(function(F){var G=k[F];G===!1?D.removeAttribute(F):D.setAttribute(F,G===!0?"":G)}))})},effect:function(_){var l=_.state,d={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,d.popper),l.styles=d,l.elements.arrow&&Object.assign(l.elements.arrow.style,d.arrow),function(){Object.keys(l.elements).forEach(function(E){var k=l.elements[E],D=l.attributes[E]||{},F=Object.keys(l.styles.hasOwnProperty(E)?l.styles[E]:d[E]).reduce(function(G,se){return G[se]="",G},{});wt(k)&&On(k)&&(Object.assign(k.style,F),Object.keys(D).forEach(function(G){k.removeAttribute(G)}))})}},requires:["computeStyles"]};function Dn(_){return _.split("-")[0]}var ze=Math.max,Vr=Math.min,Un=Math.round;function Lr(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Sc(){return!/^((?!chrome|android).)*safari/i.test(Lr())}function Mr(_,l,d){l===void 0&&(l=!1),d===void 0&&(d=!1);var E=_.getBoundingClientRect(),k=1,D=1;l&&wt(_)&&(k=_.offsetWidth>0&&Un(E.width)/_.offsetWidth||1,D=_.offsetHeight>0&&Un(E.height)/_.offsetHeight||1);var F=(gn(_)?mn(_):window).visualViewport,G=!Sc()&&d,se=(E.left+(G&&F?F.offsetLeft:0))/k,ue=(E.top+(G&&F?F.offsetTop:0))/D,fe=E.width/k,ce=E.height/D;return{width:fe,height:ce,top:ue,right:se+fe,bottom:ue+ce,left:se,x:se,y:ue}}function Wo(_){var l=Mr(_),d=_.offsetWidth,E=_.offsetHeight;return Math.abs(l.width-d)<=1&&(d=l.width),Math.abs(l.height-E)<=1&&(E=l.height),{x:_.offsetLeft,y:_.offsetTop,width:d,height:E}}function Rc(_,l){var d=l.getRootNode&&l.getRootNode();if(_.contains(l))return!0;if(d&&as(d)){var E=l;do{if(E&&_.isSameNode(E))return!0;E=E.parentNode||E.host}while(E)}return!1}function Yn(_){return mn(_).getComputedStyle(_)}function Lu(_){return["table","td","th"].indexOf(On(_))>=0}function In(_){return((gn(_)?_.ownerDocument:_.document)||window.document).documentElement}function Nn(_){return On(_)==="html"?_:_.assignedSlot||_.parentNode||(as(_)?_.host:null)||In(_)}function zo(_){return wt(_)&&Yn(_).position!=="fixed"?_.offsetParent:null}function ls(_){for(var l=mn(_),d=zo(_);d&&Lu(d)&&Yn(d).position==="static";)d=zo(d);return d&&(On(d)==="html"||On(d)==="body"&&Yn(d).position==="static")?l:d||function(E){var k=/firefox/i.test(Lr());if(/Trident/i.test(Lr())&&wt(E)&&Yn(E).position==="fixed")return null;var D=Nn(E);for(as(D)&&(D=D.host);wt(D)&&["html","body"].indexOf(On(D))<0;){var F=Yn(D);if(F.transform!=="none"||F.perspective!=="none"||F.contain==="paint"||["transform","perspective"].indexOf(F.willChange)!==-1||k&&F.willChange==="filter"||k&&F.filter&&F.filter!=="none")return D;D=D.parentNode}return null}(_)||l}function ji(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function $n(_,l,d){return ze(_,Vr(l,d))}function Cc(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Pc(_,l){return l.reduce(function(d,E){return d[E]=_,d},{})}const kc={name:"arrow",enabled:!0,phase:"main",fn:function(_){var l,d=_.state,E=_.name,k=_.options,D=d.elements.arrow,F=d.modifiersData.popperOffsets,G=Dn(d.placement),se=ji(G),ue=[xt,Gt].indexOf(G)>=0?"height":"width";if(D&&F){var fe=function(it,rt){return Cc(typeof(it=typeof it=="function"?it(Object.assign({},rt.rects,{placement:rt.placement})):it)!="number"?it:Pc(it,Nr))}(k.padding,d),ce=Wo(D),Ne=se==="y"?Ut:xt,Te=se==="y"?rn:Gt,Pe=d.rects.reference[ue]+d.rects.reference[se]-F[se]-d.rects.popper[ue],Se=F[se]-d.rects.reference[se],ke=ls(D),st=ke?se==="y"?ke.clientHeight||0:ke.clientWidth||0:0,ft=Pe/2-Se/2,Me=fe[Ne],Je=st-ce[ue]-fe[Te],xe=st/2-ce[ue]/2+ft,Be=$n(Me,xe,Je),nt=se;d.modifiersData[E]=((l={})[nt]=Be,l.centerOffset=Be-xe,l)}},effect:function(_){var l=_.state,d=_.options.element,E=d===void 0?"[data-popper-arrow]":d;E!=null&&(typeof E!="string"||(E=l.elements.popper.querySelector(E)))&&Rc(l.elements.popper,E)&&(l.elements.arrow=E)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _n(_){return _.split("-")[1]}var Mu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Oc(_){var l,d=_.popper,E=_.popperRect,k=_.placement,D=_.variation,F=_.offsets,G=_.position,se=_.gpuAcceleration,ue=_.adaptive,fe=_.roundOffsets,ce=_.isFixed,Ne=F.x,Te=Ne===void 0?0:Ne,Pe=F.y,Se=Pe===void 0?0:Pe,ke=typeof fe=="function"?fe({x:Te,y:Se}):{x:Te,y:Se};Te=ke.x,Se=ke.y;var st=F.hasOwnProperty("x"),ft=F.hasOwnProperty("y"),Me=xt,Je=Ut,xe=window;if(ue){var Be=ls(d),nt="clientHeight",it="clientWidth";Be===mn(d)&&Yn(Be=In(d)).position!=="static"&&G==="absolute"&&(nt="scrollHeight",it="scrollWidth"),(k===Ut||(k===xt||k===Gt)&&D===Jn)&&(Je=rn,Se-=(ce&&Be===xe&&xe.visualViewport?xe.visualViewport.height:Be[nt])-E.height,Se*=se?1:-1),k!==xt&&(k!==Ut&&k!==rn||D!==Jn)||(Me=Gt,Te-=(ce&&Be===xe&&xe.visualViewport?xe.visualViewport.width:Be[it])-E.width,Te*=se?1:-1)}var rt,At=Object.assign({position:G},ue&&Mu),xn=fe===!0?function(Zn,vn){var Bn=Zn.x,Hn=Zn.y,Tt=vn.devicePixelRatio||1;return{x:Un(Bn*Tt)/Tt||0,y:Un(Hn*Tt)/Tt||0}}({x:Te,y:Se},mn(d)):{x:Te,y:Se};return Te=xn.x,Se=xn.y,se?Object.assign({},At,((rt={})[Je]=ft?"0":"",rt[Me]=st?"0":"",rt.transform=(xe.devicePixelRatio||1)<=1?"translate("+Te+"px, "+Se+"px)":"translate3d("+Te+"px, "+Se+"px, 0)",rt)):Object.assign({},At,((l={})[Je]=ft?Se+"px":"",l[Me]=st?Te+"px":"",l.transform="",l))}const us={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_){var l=_.state,d=_.options,E=d.gpuAcceleration,k=E===void 0||E,D=d.adaptive,F=D===void 0||D,G=d.roundOffsets,se=G===void 0||G,ue={placement:Dn(l.placement),variation:_n(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:k,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,Oc(Object.assign({},ue,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:F,roundOffsets:se})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,Oc(Object.assign({},ue,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:se})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var Fr={passive:!0};const Bi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_){var l=_.state,d=_.instance,E=_.options,k=E.scroll,D=k===void 0||k,F=E.resize,G=F===void 0||F,se=mn(l.elements.popper),ue=[].concat(l.scrollParents.reference,l.scrollParents.popper);return D&&ue.forEach(function(fe){fe.addEventListener("scroll",d.update,Fr)}),G&&se.addEventListener("resize",d.update,Fr),function(){D&&ue.forEach(function(fe){fe.removeEventListener("scroll",d.update,Fr)}),G&&se.removeEventListener("resize",d.update,Fr)}},data:{}};var Xs={left:"right",right:"left",bottom:"top",top:"bottom"};function hr(_){return _.replace(/left|right|bottom|top/g,function(l){return Xs[l]})}var Dc={start:"end",end:"start"};function Hi(_){return _.replace(/start|end/g,function(l){return Dc[l]})}function ht(_){var l=mn(_);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function Ko(_){return Mr(In(_)).left+ht(_).scrollLeft}function Go(_){var l=Yn(_),d=l.overflow,E=l.overflowX,k=l.overflowY;return/auto|scroll|overlay|hidden/.test(d+k+E)}function Qo(_){return["html","body","#document"].indexOf(On(_))>=0?_.ownerDocument.body:wt(_)&&Go(_)?_:Qo(Nn(_))}function hs(_,l){var d;l===void 0&&(l=[]);var E=Qo(_),k=E===((d=_.ownerDocument)==null?void 0:d.body),D=mn(E),F=k?[D].concat(D.visualViewport||[],Go(E)?E:[]):E,G=l.concat(F);return k?G:G.concat(hs(Nn(F)))}function qi(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function Zs(_,l,d){return l===Js?qi(function(E,k){var D=mn(E),F=In(E),G=D.visualViewport,se=F.clientWidth,ue=F.clientHeight,fe=0,ce=0;if(G){se=G.width,ue=G.height;var Ne=Sc();(Ne||!Ne&&k==="fixed")&&(fe=G.offsetLeft,ce=G.offsetTop)}return{width:se,height:ue,x:fe+Ko(E),y:ce}}(_,d)):gn(l)?function(E,k){var D=Mr(E,!1,k==="fixed");return D.top=D.top+E.clientTop,D.left=D.left+E.clientLeft,D.bottom=D.top+E.clientHeight,D.right=D.left+E.clientWidth,D.width=E.clientWidth,D.height=E.clientHeight,D.x=D.left,D.y=D.top,D}(l,d):qi(function(E){var k,D=In(E),F=ht(E),G=(k=E.ownerDocument)==null?void 0:k.body,se=ze(D.scrollWidth,D.clientWidth,G?G.scrollWidth:0,G?G.clientWidth:0),ue=ze(D.scrollHeight,D.clientHeight,G?G.scrollHeight:0,G?G.clientHeight:0),fe=-F.scrollLeft+Ko(E),ce=-F.scrollTop;return Yn(G||D).direction==="rtl"&&(fe+=ze(D.clientWidth,G?G.clientWidth:0)-se),{width:se,height:ue,x:fe,y:ce}}(In(_)))}function Jo(_){var l,d=_.reference,E=_.element,k=_.placement,D=k?Dn(k):null,F=k?_n(k):null,G=d.x+d.width/2-E.width/2,se=d.y+d.height/2-E.height/2;switch(D){case Ut:l={x:G,y:d.y-E.height};break;case rn:l={x:G,y:d.y+d.height};break;case Gt:l={x:d.x+d.width,y:se};break;case xt:l={x:d.x-E.width,y:se};break;default:l={x:d.x,y:d.y}}var ue=D?ji(D):null;if(ue!=null){var fe=ue==="y"?"height":"width";switch(F){case xr:l[ue]=l[ue]-(d[fe]/2-E[fe]/2);break;case Jn:l[ue]=l[ue]+(d[fe]/2-E[fe]/2)}}return l}function sn(_,l){l===void 0&&(l={});var d=l,E=d.placement,k=E===void 0?_.placement:E,D=d.strategy,F=D===void 0?_.strategy:D,G=d.boundary,se=G===void 0?Mo:G,ue=d.rootBoundary,fe=ue===void 0?Js:ue,ce=d.elementContext,Ne=ce===void 0?Fn:ce,Te=d.altBoundary,Pe=Te!==void 0&&Te,Se=d.padding,ke=Se===void 0?0:Se,st=Cc(typeof ke!="number"?ke:Pc(ke,Nr)),ft=Ne===Fn?ur:Fn,Me=_.rects.popper,Je=_.elements[Pe?ft:Ne],xe=function(vn,Bn,Hn,Tt){var dr=Bn==="clippingParents"?function(at){var En=hs(Nn(at)),qn=["absolute","fixed"].indexOf(Yn(at).position)>=0&&wt(at)?ls(at):at;return gn(qn)?En.filter(function(gs){return gn(gs)&&Rc(gs,qn)&&On(gs)!=="body"}):[]}(vn):[].concat(Bn),pr=[].concat(dr,[Hn]),Yi=pr[0],Ht=pr.reduce(function(at,En){var qn=Zs(vn,En,Tt);return at.top=ze(qn.top,at.top),at.right=Vr(qn.right,at.right),at.bottom=Vr(qn.bottom,at.bottom),at.left=ze(qn.left,at.left),at},Zs(vn,Yi,Tt));return Ht.width=Ht.right-Ht.left,Ht.height=Ht.bottom-Ht.top,Ht.x=Ht.left,Ht.y=Ht.top,Ht}(gn(Je)?Je:Je.contextElement||In(_.elements.popper),se,fe,F),Be=Mr(_.elements.reference),nt=Jo({reference:Be,element:Me,placement:k}),it=qi(Object.assign({},Me,nt)),rt=Ne===Fn?it:Be,At={top:xe.top-rt.top+st.top,bottom:rt.bottom-xe.bottom+st.bottom,left:xe.left-rt.left+st.left,right:rt.right-xe.right+st.right},xn=_.modifiersData.offset;if(Ne===Fn&&xn){var Zn=xn[k];Object.keys(At).forEach(function(vn){var Bn=[Gt,rn].indexOf(vn)>=0?1:-1,Hn=[Ut,rn].indexOf(vn)>=0?"y":"x";At[vn]+=Zn[Hn]*Bn})}return At}function Nc(_,l){l===void 0&&(l={});var d=l,E=d.placement,k=d.boundary,D=d.rootBoundary,F=d.padding,G=d.flipVariations,se=d.allowedAutoPlacements,ue=se===void 0?Fo:se,fe=_n(E),ce=fe?G?Ys:Ys.filter(function(Pe){return _n(Pe)===fe}):Nr,Ne=ce.filter(function(Pe){return ue.indexOf(Pe)>=0});Ne.length===0&&(Ne=ce);var Te=Ne.reduce(function(Pe,Se){return Pe[Se]=sn(_,{placement:Se,boundary:k,rootBoundary:D,padding:F})[Dn(Se)],Pe},{});return Object.keys(Te).sort(function(Pe,Se){return Te[Pe]-Te[Se]})}const xc={name:"flip",enabled:!0,phase:"main",fn:function(_){var l=_.state,d=_.options,E=_.name;if(!l.modifiersData[E]._skip){for(var k=d.mainAxis,D=k===void 0||k,F=d.altAxis,G=F===void 0||F,se=d.fallbackPlacements,ue=d.padding,fe=d.boundary,ce=d.rootBoundary,Ne=d.altBoundary,Te=d.flipVariations,Pe=Te===void 0||Te,Se=d.allowedAutoPlacements,ke=l.options.placement,st=Dn(ke),ft=se||(st!==ke&&Pe?function(at){if(Dn(at)===Qs)return[];var En=hr(at);return[Hi(at),En,Hi(En)]}(ke):[hr(ke)]),Me=[ke].concat(ft).reduce(function(at,En){return at.concat(Dn(En)===Qs?Nc(l,{placement:En,boundary:fe,rootBoundary:ce,padding:ue,flipVariations:Pe,allowedAutoPlacements:Se}):En)},[]),Je=l.rects.reference,xe=l.rects.popper,Be=new Map,nt=!0,it=Me[0],rt=0;rt<Me.length;rt++){var At=Me[rt],xn=Dn(At),Zn=_n(At)===xr,vn=[Ut,rn].indexOf(xn)>=0,Bn=vn?"width":"height",Hn=sn(l,{placement:At,boundary:fe,rootBoundary:ce,altBoundary:Ne,padding:ue}),Tt=vn?Zn?Gt:xt:Zn?rn:Ut;Je[Bn]>xe[Bn]&&(Tt=hr(Tt));var dr=hr(Tt),pr=[];if(D&&pr.push(Hn[xn]<=0),G&&pr.push(Hn[Tt]<=0,Hn[dr]<=0),pr.every(function(at){return at})){it=At,nt=!1;break}Be.set(At,pr)}if(nt)for(var Yi=function(at){var En=Me.find(function(qn){var gs=Be.get(qn);if(gs)return gs.slice(0,at).every(function(Wc){return Wc})});if(En)return it=En,"break"},Ht=Pe?3:1;Ht>0&&Yi(Ht)!=="break";Ht--);l.placement!==it&&(l.modifiersData[E]._skip=!0,l.placement=it,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function fs(_,l,d){return d===void 0&&(d={x:0,y:0}),{top:_.top-l.height-d.y,right:_.right-l.width+d.x,bottom:_.bottom-l.height+d.y,left:_.left-l.width-d.x}}function Yo(_){return[Ut,Gt,rn,xt].some(function(l){return _[l]>=0})}const Wi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var l=_.state,d=_.name,E=l.rects.reference,k=l.rects.popper,D=l.modifiersData.preventOverflow,F=sn(l,{elementContext:"reference"}),G=sn(l,{altBoundary:!0}),se=fs(F,E),ue=fs(G,k,D),fe=Yo(se),ce=Yo(ue);l.modifiersData[d]={referenceClippingOffsets:se,popperEscapeOffsets:ue,isReferenceHidden:fe,hasPopperEscaped:ce},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":fe,"data-popper-escaped":ce})}},ei={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var l=_.state,d=_.options,E=_.name,k=d.offset,D=k===void 0?[0,0]:k,F=Fo.reduce(function(fe,ce){return fe[ce]=function(Ne,Te,Pe){var Se=Dn(Ne),ke=[xt,Ut].indexOf(Se)>=0?-1:1,st=typeof Pe=="function"?Pe(Object.assign({},Te,{placement:Ne})):Pe,ft=st[0],Me=st[1];return ft=ft||0,Me=(Me||0)*ke,[xt,Gt].indexOf(Se)>=0?{x:Me,y:ft}:{x:ft,y:Me}}(ce,l.rects,D),fe},{}),G=F[l.placement],se=G.x,ue=G.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=se,l.modifiersData.popperOffsets.y+=ue),l.modifiersData[E]=F}},zi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var l=_.state,d=_.name;l.modifiersData[d]=Jo({reference:l.rects.reference,element:l.rects.popper,placement:l.placement})},data:{}},ti={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_){var l=_.state,d=_.options,E=_.name,k=d.mainAxis,D=k===void 0||k,F=d.altAxis,G=F!==void 0&&F,se=d.boundary,ue=d.rootBoundary,fe=d.altBoundary,ce=d.padding,Ne=d.tether,Te=Ne===void 0||Ne,Pe=d.tetherOffset,Se=Pe===void 0?0:Pe,ke=sn(l,{boundary:se,rootBoundary:ue,padding:ce,altBoundary:fe}),st=Dn(l.placement),ft=_n(l.placement),Me=!ft,Je=ji(st),xe=Je==="x"?"y":"x",Be=l.modifiersData.popperOffsets,nt=l.rects.reference,it=l.rects.popper,rt=typeof Se=="function"?Se(Object.assign({},l.rects,{placement:l.placement})):Se,At=typeof rt=="number"?{mainAxis:rt,altAxis:rt}:Object.assign({mainAxis:0,altAxis:0},rt),xn=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,Zn={x:0,y:0};if(Be){if(D){var vn,Bn=Je==="y"?Ut:xt,Hn=Je==="y"?rn:Gt,Tt=Je==="y"?"height":"width",dr=Be[Je],pr=dr+ke[Bn],Yi=dr-ke[Hn],Ht=Te?-it[Tt]/2:0,at=ft===xr?nt[Tt]:it[Tt],En=ft===xr?-it[Tt]:-nt[Tt],qn=l.elements.arrow,gs=Te&&qn?Wo(qn):{width:0,height:0},Wc=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ip=Wc[Bn],op=Wc[Hn],zc=$n(0,nt[Tt],gs[Tt]),Xw=Me?nt[Tt]/2-Ht-zc-ip-At.mainAxis:at-zc-ip-At.mainAxis,Zw=Me?-nt[Tt]/2+Ht+zc+op+At.mainAxis:En+zc+op+At.mainAxis,Ju=l.elements.arrow&&ls(l.elements.arrow),eT=Ju?Je==="y"?Ju.clientTop||0:Ju.clientLeft||0:0,ap=(vn=xn==null?void 0:xn[Je])!=null?vn:0,tT=dr+Zw-ap,cp=$n(Te?Vr(pr,dr+Xw-ap-eT):pr,dr,Te?ze(Yi,tT):Yi);Be[Je]=cp,Zn[Je]=cp-dr}if(G){var lp,nT=Je==="x"?Ut:xt,rT=Je==="x"?rn:Gt,ui=Be[xe],Kc=xe==="y"?"height":"width",up=ui+ke[nT],hp=ui-ke[rT],Yu=[Ut,xt].indexOf(st)!==-1,fp=(lp=xn==null?void 0:xn[xe])!=null?lp:0,dp=Yu?up:ui-nt[Kc]-it[Kc]-fp+At.altAxis,pp=Yu?ui+nt[Kc]+it[Kc]-fp-At.altAxis:hp,mp=Te&&Yu?function(sT,iT,Xu){var gp=$n(sT,iT,Xu);return gp>Xu?Xu:gp}(dp,ui,pp):$n(Te?dp:up,ui,Te?pp:hp);Be[xe]=mp,Zn[xe]=mp-ui}l.modifiersData[E]=Zn}},requiresIfExists:["offset"]};function Fu(_,l,d){d===void 0&&(d=!1);var E,k,D=wt(l),F=wt(l)&&function(ce){var Ne=ce.getBoundingClientRect(),Te=Un(Ne.width)/ce.offsetWidth||1,Pe=Un(Ne.height)/ce.offsetHeight||1;return Te!==1||Pe!==1}(l),G=In(l),se=Mr(_,F,d),ue={scrollLeft:0,scrollTop:0},fe={x:0,y:0};return(D||!D&&!d)&&((On(l)!=="body"||Go(G))&&(ue=(E=l)!==mn(E)&&wt(E)?{scrollLeft:(k=E).scrollLeft,scrollTop:k.scrollTop}:ht(E)),wt(l)?((fe=Mr(l,!0)).x+=l.clientLeft,fe.y+=l.clientTop):G&&(fe.x=Ko(G))),{x:se.left+ue.scrollLeft-fe.x,y:se.top+ue.scrollTop-fe.y,width:se.width,height:se.height}}function Vc(_){var l=new Map,d=new Set,E=[];function k(D){d.add(D.name),[].concat(D.requires||[],D.requiresIfExists||[]).forEach(function(F){if(!d.has(F)){var G=l.get(F);G&&k(G)}}),E.push(D)}return _.forEach(function(D){l.set(D.name,D)}),_.forEach(function(D){d.has(D.name)||k(D)}),E}var ds={placement:"bottom",modifiers:[],strategy:"absolute"};function Xo(){for(var _=arguments.length,l=new Array(_),d=0;d<_;d++)l[d]=arguments[d];return!l.some(function(E){return!(E&&typeof E.getBoundingClientRect=="function")})}function ni(_){_===void 0&&(_={});var l=_,d=l.defaultModifiers,E=d===void 0?[]:d,k=l.defaultOptions,D=k===void 0?ds:k;return function(F,G,se){se===void 0&&(se=D);var ue,fe,ce={placement:"bottom",orderedModifiers:[],options:Object.assign({},ds,D),modifiersData:{},elements:{reference:F,popper:G},attributes:{},styles:{}},Ne=[],Te=!1,Pe={state:ce,setOptions:function(ke){var st=typeof ke=="function"?ke(ce.options):ke;Se(),ce.options=Object.assign({},D,ce.options,st),ce.scrollParents={reference:gn(F)?hs(F):F.contextElement?hs(F.contextElement):[],popper:hs(G)};var ft,Me,Je=function(xe){var Be=Vc(xe);return qo.reduce(function(nt,it){return nt.concat(Be.filter(function(rt){return rt.phase===it}))},[])}((ft=[].concat(E,ce.options.modifiers),Me=ft.reduce(function(xe,Be){var nt=xe[Be.name];return xe[Be.name]=nt?Object.assign({},nt,Be,{options:Object.assign({},nt.options,Be.options),data:Object.assign({},nt.data,Be.data)}):Be,xe},{}),Object.keys(Me).map(function(xe){return Me[xe]})));return ce.orderedModifiers=Je.filter(function(xe){return xe.enabled}),ce.orderedModifiers.forEach(function(xe){var Be=xe.name,nt=xe.options,it=nt===void 0?{}:nt,rt=xe.effect;if(typeof rt=="function"){var At=rt({state:ce,name:Be,instance:Pe,options:it});Ne.push(At||function(){})}}),Pe.update()},forceUpdate:function(){if(!Te){var ke=ce.elements,st=ke.reference,ft=ke.popper;if(Xo(st,ft)){ce.rects={reference:Fu(st,ls(ft),ce.options.strategy==="fixed"),popper:Wo(ft)},ce.reset=!1,ce.placement=ce.options.placement,ce.orderedModifiers.forEach(function(rt){return ce.modifiersData[rt.name]=Object.assign({},rt.data)});for(var Me=0;Me<ce.orderedModifiers.length;Me++)if(ce.reset!==!0){var Je=ce.orderedModifiers[Me],xe=Je.fn,Be=Je.options,nt=Be===void 0?{}:Be,it=Je.name;typeof xe=="function"&&(ce=xe({state:ce,options:nt,name:it,instance:Pe})||ce)}else ce.reset=!1,Me=-1}}},update:(ue=function(){return new Promise(function(ke){Pe.forceUpdate(),ke(ce)})},function(){return fe||(fe=new Promise(function(ke){Promise.resolve().then(function(){fe=void 0,ke(ue())})})),fe}),destroy:function(){Se(),Te=!0}};if(!Xo(F,G))return Pe;function Se(){Ne.forEach(function(ke){return ke()}),Ne=[]}return Pe.setOptions(se).then(function(ke){!Te&&se.onFirstUpdate&&se.onFirstUpdate(ke)}),Pe}}var Zo=ni(),ea=ni({defaultModifiers:[Bi,zi,us,cs]}),Ki=ni({defaultModifiers:[Bi,zi,us,cs,ei,xc,ti,kc,Wi]});const ri=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Bo,afterRead:jo,afterWrite:Ac,applyStyles:cs,arrow:kc,auto:Qs,basePlacements:Nr,beforeMain:Ui,beforeRead:Uo,beforeWrite:Ho,bottom:rn,clippingParents:Mo,computeStyles:us,createPopper:Ki,createPopperBase:Zo,createPopperLite:ea,detectOverflow:sn,end:Jn,eventListeners:Bi,flip:xc,hide:Wi,left:xt,main:$i,modifierPhases:qo,offset:ei,placements:Fo,popper:Fn,popperGenerator:ni,popperOffsets:zi,preventOverflow:ti,read:$o,reference:ur,right:Gt,start:xr,top:Ut,variationPlacements:Ys,viewport:Js,write:Ic},Symbol.toStringTag,{value:"Module"})),ta="dropdown",fr=".bs.dropdown",Xn=".data-api",Lc="ArrowUp",na="ArrowDown",Mc=`hide${fr}`,Fc=`hidden${fr}`,Gi=`show${fr}`,yn=`shown${fr}`,ra=`click${fr}${Xn}`,sa=`keydown${fr}${Xn}`,ps=`keyup${fr}${Xn}`,a="show",h='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',m=`${h}.${a}`,w=".dropdown-menu",V=U()?"top-end":"top-start",M=U()?"top-start":"top-end",re=U()?"bottom-end":"bottom-start",tt=U()?"bottom-start":"bottom-end",Vt=U()?"left-start":"right-start",qe=U()?"right-start":"left-start",$t={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},jt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Bt extends ut{constructor(l,d){super(l,d),this._popper=null,this._parent=this._element.parentNode,this._menu=$.next(this._element,w)[0]||$.prev(this._element,w)[0]||$.findOne(w,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return $t}static get DefaultType(){return jt}static get NAME(){return ta}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!z.trigger(this._element,Gi,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const d of[].concat(...document.body.children))z.on(d,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(a),this._element.classList.add(a),z.trigger(this._element,yn,l)}}hide(){if(p(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!z.trigger(this._element,Mc,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))z.off(d,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(a),this._element.classList.remove(a),this._element.setAttribute("aria-expanded","false"),Ft.removeDataAttribute(this._menu,"popper"),z.trigger(this._element,Fc,l),this._element.focus()}}_getConfig(l){if(typeof(l=super._getConfig(l)).reference=="object"&&!c(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${ta.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(ri===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let l=this._element;this._config.reference==="parent"?l=this._parent:c(this._config.reference)?l=u(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const d=this._getPopperConfig();this._popper=Ki(l,this._menu,d)}_isShown(){return this._menu.classList.contains(a)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return Vt;if(l.classList.contains("dropstart"))return qe;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains("dropup")?d?M:V:d?tt:re}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(d=>Number.parseInt(d,10)):typeof l=="function"?d=>l(d,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ft.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...W(this._config.popperConfig,[void 0,l])}}_selectMenuItem({key:l,target:d}){const E=$.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(k=>f(k));E.length&&te(E,d,l===na,!E.includes(d)).focus()}static jQueryInterface(l){return this.each(function(){const d=Bt.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0)throw new TypeError(`No method named "${l}"`);d[l]()}})}static clearMenus(l){if(l.button===2||l.type==="keyup"&&l.key!=="Tab")return;const d=$.find(m);for(const E of d){const k=Bt.getInstance(E);if(!k||k._config.autoClose===!1)continue;const D=l.composedPath(),F=D.includes(k._menu);if(D.includes(k._element)||k._config.autoClose==="inside"&&!F||k._config.autoClose==="outside"&&F||k._menu.contains(l.target)&&(l.type==="keyup"&&l.key==="Tab"||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const G={relatedTarget:k._element};l.type==="click"&&(G.clickEvent=l),k._completeHide(G)}}static dataApiKeydownHandler(l){const d=/input|textarea/i.test(l.target.tagName),E=l.key==="Escape",k=[Lc,na].includes(l.key);if(!k&&!E||d&&!E)return;l.preventDefault();const D=this.matches(h)?this:$.prev(this,h)[0]||$.next(this,h)[0]||$.findOne(h,l.delegateTarget.parentNode),F=Bt.getOrCreateInstance(D);if(k)return l.stopPropagation(),F.show(),void F._selectMenuItem(l);F._isShown()&&(l.stopPropagation(),F.hide(),D.focus())}}z.on(document,sa,h,Bt.dataApiKeydownHandler),z.on(document,sa,w,Bt.dataApiKeydownHandler),z.on(document,ra,Bt.clearMenus),z.on(document,ps,Bt.clearMenus),z.on(document,ra,h,function(_){_.preventDefault(),Bt.getOrCreateInstance(this).toggle()}),J(Bt);const An="backdrop",si="show",Qi=`mousedown.bs.${An}`,$E={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},jE={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class kd extends nn{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return $E}static get DefaultType(){return jE}static get NAME(){return An}show(l){if(!this._config.isVisible)return void W(l);this._append();const d=this._getElement();this._config.isAnimated&&y(d),d.classList.add(si),this._emulateAnimation(()=>{W(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove(si),this._emulateAnimation(()=>{this.dispose(),W(l)})):W(l)}dispose(){this._isAppended&&(z.off(this._element,Qi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=u(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),z.on(l,Qi,()=>{W(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){Z(l,this._getElement(),this._config.isAnimated)}}const Uc=".bs.focustrap",BE=`focusin${Uc}`,HE=`keydown.tab${Uc}`,Od="backward",qE={autofocus:!0,trapElement:null},WE={autofocus:"boolean",trapElement:"element"};class Dd extends nn{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return qE}static get DefaultType(){return WE}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),z.off(document,Uc),z.on(document,BE,l=>this._handleFocusin(l)),z.on(document,HE,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,z.off(document,Uc))}_handleFocusin(l){const{trapElement:d}=this._config;if(l.target===document||l.target===d||d.contains(l.target))return;const E=$.focusableChildren(d);E.length===0?d.focus():this._lastTabNavDirection===Od?E[E.length-1].focus():E[0].focus()}_handleKeydown(l){l.key==="Tab"&&(this._lastTabNavDirection=l.shiftKey?Od:"forward")}}const Nd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xd=".sticky-top",$c="padding-right",Vd="margin-right";class Uu{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,$c,d=>d+l),this._setElementAttributes(Nd,$c,d=>d+l),this._setElementAttributes(xd,Vd,d=>d-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,$c),this._resetElementAttributes(Nd,$c),this._resetElementAttributes(xd,Vd)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,d,E){const k=this.getWidth();this._applyManipulationCallback(l,D=>{if(D!==this._element&&window.innerWidth>D.clientWidth+k)return;this._saveInitialAttribute(D,d);const F=window.getComputedStyle(D).getPropertyValue(d);D.style.setProperty(d,`${E(Number.parseFloat(F))}px`)})}_saveInitialAttribute(l,d){const E=l.style.getPropertyValue(d);E&&Ft.setDataAttribute(l,d,E)}_resetElementAttributes(l,d){this._applyManipulationCallback(l,E=>{const k=Ft.getDataAttribute(E,d);k!==null?(Ft.removeDataAttribute(E,d),E.style.setProperty(d,k)):E.style.removeProperty(d)})}_applyManipulationCallback(l,d){if(c(l))d(l);else for(const E of $.find(l,this._element))d(E)}}const jn=".bs.modal",zE=`hide${jn}`,KE=`hidePrevented${jn}`,Ld=`hidden${jn}`,Md=`show${jn}`,GE=`shown${jn}`,QE=`resize${jn}`,JE=`click.dismiss${jn}`,YE=`mousedown.dismiss${jn}`,XE=`keydown.dismiss${jn}`,ZE=`click${jn}.data-api`,Fd="modal-open",Ud="show",$u="modal-static",ew={backdrop:!0,focus:!0,keyboard:!0},tw={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ii extends ut{constructor(l,d){super(l,d),this._dialog=$.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Uu,this._addEventListeners()}static get Default(){return ew}static get DefaultType(){return tw}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||z.trigger(this._element,Md,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Fd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){this._isShown&&!this._isTransitioning&&(z.trigger(this._element,zE).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ud),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){z.off(window,jn),z.off(this._dialog,jn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new kd({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Dd({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=$.findOne(".modal-body",this._dialog);d&&(d.scrollTop=0),y(this._element),this._element.classList.add(Ud),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,z.trigger(this._element,GE,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){z.on(this._element,XE,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),z.on(window,QE,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),z.on(this._element,YE,l=>{z.one(this._element,JE,d=>{this._element===l.target&&this._element===d.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Fd),this._resetAdjustments(),this._scrollBar.reset(),z.trigger(this._element,Ld)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(z.trigger(this._element,KE).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,d=this._element.style.overflowY;d==="hidden"||this._element.classList.contains($u)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add($u),this._queueCallback(()=>{this._element.classList.remove($u),this._queueCallback(()=>{this._element.style.overflowY=d},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),E=d>0;if(E&&!l){const k=U()?"paddingLeft":"paddingRight";this._element.style[k]=`${d}px`}if(!E&&l){const k=U()?"paddingRight":"paddingLeft";this._element.style[k]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,d){return this.each(function(){const E=ii.getOrCreateInstance(this,l);if(typeof l=="string"){if(E[l]===void 0)throw new TypeError(`No method named "${l}"`);E[l](d)}})}}z.on(document,ZE,'[data-bs-toggle="modal"]',function(_){const l=$.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),z.one(l,Md,E=>{E.defaultPrevented||z.one(l,Ld,()=>{f(this)&&this.focus()})});const d=$.findOne(".modal.show");d&&ii.getInstance(d).hide(),ii.getOrCreateInstance(l).toggle(this)}),ie(ii),J(ii);const Ur=".bs.offcanvas",$d=".data-api",nw=`load${Ur}${$d}`,jd="show",Bd="showing",Hd="hiding",qd=".offcanvas.show",rw=`show${Ur}`,sw=`shown${Ur}`,iw=`hide${Ur}`,Wd=`hidePrevented${Ur}`,zd=`hidden${Ur}`,ow=`resize${Ur}`,aw=`click${Ur}${$d}`,cw=`keydown.dismiss${Ur}`,lw={backdrop:!0,keyboard:!0,scroll:!1},uw={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class $r extends ut{constructor(l,d){super(l,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return lw}static get DefaultType(){return uw}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||z.trigger(this._element,rw,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Uu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Bd),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(jd),this._element.classList.remove(Bd),z.trigger(this._element,sw,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&(z.trigger(this._element,iw).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Hd),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(jd,Hd),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Uu().reset(),z.trigger(this._element,zd)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new kd({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{this._config.backdrop!=="static"?this.hide():z.trigger(this._element,Wd)}:null})}_initializeFocusTrap(){return new Dd({trapElement:this._element})}_addEventListeners(){z.on(this._element,cw,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():z.trigger(this._element,Wd))})}static jQueryInterface(l){return this.each(function(){const d=$r.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l](this)}})}}z.on(document,aw,'[data-bs-toggle="offcanvas"]',function(_){const l=$.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),p(this))return;z.one(l,zd,()=>{f(this)&&this.focus()});const d=$.findOne(qd);d&&d!==l&&$r.getInstance(d).hide(),$r.getOrCreateInstance(l).toggle(this)}),z.on(window,nw,()=>{for(const _ of $.find(qd))$r.getOrCreateInstance(_).show()}),z.on(window,ow,()=>{for(const _ of $.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_).position!=="fixed"&&$r.getOrCreateInstance(_).hide()}),ie($r),J($r);const Kd={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},hw=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),fw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,dw=(_,l)=>{const d=_.nodeName.toLowerCase();return l.includes(d)?!hw.has(d)||!!fw.test(_.nodeValue):l.filter(E=>E instanceof RegExp).some(E=>E.test(d))},pw={allowList:Kd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},mw={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},gw={entry:"(string|element|function|null)",selector:"(string|element)"};class _w extends nn{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return pw}static get DefaultType(){return mw}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[k,D]of Object.entries(this._config.content))this._setContent(l,D,k);const d=l.children[0],E=this._resolvePossibleFunction(this._config.extraClass);return E&&d.classList.add(...E.split(" ")),d}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[d,E]of Object.entries(l))super._typeCheckConfig({selector:d,entry:E},gw)}_setContent(l,d,E){const k=$.findOne(E,l);k&&((d=this._resolvePossibleFunction(d))?c(d)?this._putElementInTemplate(u(d),k):this._config.html?k.innerHTML=this._maybeSanitize(d):k.textContent=d:k.remove())}_maybeSanitize(l){return this._config.sanitize?function(d,E,k){if(!d.length)return d;if(k&&typeof k=="function")return k(d);const D=new window.DOMParser().parseFromString(d,"text/html"),F=[].concat(...D.body.querySelectorAll("*"));for(const G of F){const se=G.nodeName.toLowerCase();if(!Object.keys(E).includes(se)){G.remove();continue}const ue=[].concat(...G.attributes),fe=[].concat(E["*"]||[],E[se]||[]);for(const ce of ue)dw(ce,fe)||G.removeAttribute(ce.nodeName)}return D.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return W(l,[void 0,this])}_putElementInTemplate(l,d){if(this._config.html)return d.innerHTML="",void d.append(l);d.textContent=l.textContent}}const yw=new Set(["sanitize","allowList","sanitizeFn"]),ju="fade",jc="show",vw=".tooltip-inner",Gd=".modal",Qd="hide.bs.modal",ia="hover",Bu="focus",Hu="click",Ew={AUTO:"auto",TOP:"top",RIGHT:U()?"left":"right",BOTTOM:"bottom",LEFT:U()?"right":"left"},ww={allowList:Kd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Tw={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class oi extends ut{constructor(l,d){if(ri===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(l,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ww}static get DefaultType(){return Tw}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),z.off(this._element.closest(Gd),Qd,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=z.trigger(this._element,this.constructor.eventName("show")),d=(g(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!d)return;this._disposePopper();const E=this._getTipElement();this._element.setAttribute("aria-describedby",E.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(E),z.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(E),E.classList.add(jc),"ontouchstart"in document.documentElement)for(const D of[].concat(...document.body.children))z.on(D,"mouseover",v);this._queueCallback(()=>{z.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!z.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(jc),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))z.off(l,"mouseover",v);this._activeTrigger[Hu]=!1,this._activeTrigger[Bu]=!1,this._activeTrigger[ia]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),z.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const d=this._getTemplateFactory(l).toHtml();if(!d)return null;d.classList.remove(ju,jc),d.classList.add(`bs-${this.constructor.NAME}-auto`);const E=(k=>{do k+=Math.floor(1e6*Math.random());while(document.getElementById(k));return k})(this.constructor.NAME).toString();return d.setAttribute("id",E),this._isAnimated()&&d.classList.add(ju),d}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new _w({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[vw]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ju)}_isShown(){return this.tip&&this.tip.classList.contains(jc)}_createPopper(l){const d=W(this._config.placement,[this,l,this._element]),E=Ew[d.toUpperCase()];return Ki(this._element,l,this._getPopperConfig(E))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(d=>Number.parseInt(d,10)):typeof l=="function"?d=>l(d,this._element):l}_resolvePossibleFunction(l){return W(l,[this._element,this._element])}_getPopperConfig(l){const d={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:E=>{this._getTipElement().setAttribute("data-popper-placement",E.state.placement)}}]};return{...d,...W(this._config.popperConfig,[void 0,d])}}_setListeners(){const l=this._config.trigger.split(" ");for(const d of l)if(d==="click")z.on(this._element,this.constructor.eventName("click"),this._config.selector,E=>{const k=this._initializeOnDelegatedTarget(E);k._activeTrigger[Hu]=!(k._isShown()&&k._activeTrigger[Hu]),k.toggle()});else if(d!=="manual"){const E=d===ia?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),k=d===ia?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");z.on(this._element,E,this._config.selector,D=>{const F=this._initializeOnDelegatedTarget(D);F._activeTrigger[D.type==="focusin"?Bu:ia]=!0,F._enter()}),z.on(this._element,k,this._config.selector,D=>{const F=this._initializeOnDelegatedTarget(D);F._activeTrigger[D.type==="focusout"?Bu:ia]=F._element.contains(D.relatedTarget),F._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},z.on(this._element.closest(Gd),Qd,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,d){clearTimeout(this._timeout),this._timeout=setTimeout(l,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const d=Ft.getDataAttributes(this._element);for(const E of Object.keys(d))yw.has(E)&&delete d[E];return l={...d,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:u(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[d,E]of Object.entries(this._config))this.constructor.Default[d]!==E&&(l[d]=E);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const d=oi.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0)throw new TypeError(`No method named "${l}"`);d[l]()}})}}J(oi);const bw=".popover-header",Iw=".popover-body",Aw={...oi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Sw={...oi.DefaultType,content:"(null|string|element|function)"};class Bc extends oi{static get Default(){return Aw}static get DefaultType(){return Sw}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[bw]:this._getTitle(),[Iw]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const d=Bc.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0)throw new TypeError(`No method named "${l}"`);d[l]()}})}}J(Bc);const qu=".bs.scrollspy",Rw=`activate${qu}`,Jd=`click${qu}`,Cw=`load${qu}.data-api`,Ji="active",Wu="[href]",Yd=".nav-link",Pw=`${Yd}, .nav-item > ${Yd}, .list-group-item`,kw={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ow={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class oa extends ut{constructor(l,d){super(l,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return kw}static get DefaultType(){return Ow}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=u(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(d=>Number.parseFloat(d))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(z.off(this._config.target,Jd),z.on(this._config.target,Jd,Wu,l=>{const d=this._observableSections.get(l.target.hash);if(d){l.preventDefault();const E=this._rootElement||window,k=d.offsetTop-this._element.offsetTop;if(E.scrollTo)return void E.scrollTo({top:k,behavior:"smooth"});E.scrollTop=k}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(d=>this._observerCallback(d),l)}_observerCallback(l){const d=F=>this._targetLinks.get(`#${F.target.id}`),E=F=>{this._previousScrollData.visibleEntryTop=F.target.offsetTop,this._process(d(F))},k=(this._rootElement||document.documentElement).scrollTop,D=k>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=k;for(const F of l){if(!F.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(F));continue}const G=F.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(D&&G){if(E(F),!k)return}else D||G||E(F)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=$.find(Wu,this._config.target);for(const d of l){if(!d.hash||p(d))continue;const E=$.findOne(decodeURI(d.hash),this._element);f(E)&&(this._targetLinks.set(decodeURI(d.hash),d),this._observableSections.set(d.hash,E))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Ji),this._activateParents(l),z.trigger(this._element,Rw,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))$.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Ji);else for(const d of $.parents(l,".nav, .list-group"))for(const E of $.prev(d,Pw))E.classList.add(Ji)}_clearActiveClass(l){l.classList.remove(Ji);const d=$.find(`${Wu}.${Ji}`,l);for(const E of d)E.classList.remove(Ji)}static jQueryInterface(l){return this.each(function(){const d=oa.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l]()}})}}z.on(window,Cw,()=>{for(const _ of $.find('[data-bs-spy="scroll"]'))oa.getOrCreateInstance(_)}),J(oa);const ai=".bs.tab",Dw=`hide${ai}`,Nw=`hidden${ai}`,xw=`show${ai}`,Vw=`shown${ai}`,Lw=`click${ai}`,Mw=`keydown${ai}`,Fw=`load${ai}`,Uw="ArrowLeft",Xd="ArrowRight",$w="ArrowUp",Zd="ArrowDown",zu="Home",ep="End",ci="active",tp="fade",Ku="show",np=".dropdown-toggle",Gu=`:not(${np})`,rp='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Qu=`.nav-link${Gu}, .list-group-item${Gu}, [role="tab"]${Gu}, ${rp}`,jw=`.${ci}[data-bs-toggle="tab"], .${ci}[data-bs-toggle="pill"], .${ci}[data-bs-toggle="list"]`;class li extends ut{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),z.on(this._element,Mw,d=>this._keydown(d)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const d=this._getActiveElem(),E=d?z.trigger(d,Dw,{relatedTarget:l}):null;z.trigger(l,xw,{relatedTarget:d}).defaultPrevented||E&&E.defaultPrevented||(this._deactivate(d,l),this._activate(l,d))}_activate(l,d){l&&(l.classList.add(ci),this._activate($.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),z.trigger(l,Vw,{relatedTarget:d})):l.classList.add(Ku)},l,l.classList.contains(tp)))}_deactivate(l,d){l&&(l.classList.remove(ci),l.blur(),this._deactivate($.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),z.trigger(l,Nw,{relatedTarget:d})):l.classList.remove(Ku)},l,l.classList.contains(tp)))}_keydown(l){if(![Uw,Xd,$w,Zd,zu,ep].includes(l.key))return;l.stopPropagation(),l.preventDefault();const d=this._getChildren().filter(k=>!p(k));let E;if([zu,ep].includes(l.key))E=d[l.key===zu?0:d.length-1];else{const k=[Xd,Zd].includes(l.key);E=te(d,l.target,k,!0)}E&&(E.focus({preventScroll:!0}),li.getOrCreateInstance(E).show())}_getChildren(){return $.find(Qu,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,d){this._setAttributeIfNotExists(l,"role","tablist");for(const E of d)this._setInitialAttributesOnChild(E)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const d=this._elemIsActive(l),E=this._getOuterElement(l);l.setAttribute("aria-selected",d),E!==l&&this._setAttributeIfNotExists(E,"role","presentation"),d||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const d=$.getElementFromSelector(l);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,d){const E=this._getOuterElement(l);if(!E.classList.contains("dropdown"))return;const k=(D,F)=>{const G=$.findOne(D,E);G&&G.classList.toggle(F,d)};k(np,ci),k(".dropdown-menu",Ku),E.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(l,d,E){l.hasAttribute(d)||l.setAttribute(d,E)}_elemIsActive(l){return l.classList.contains(ci)}_getInnerElement(l){return l.matches(Qu)?l:$.findOne(Qu,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const d=li.getOrCreateInstance(this);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l]()}})}}z.on(document,Lw,rp,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),p(this)||li.getOrCreateInstance(this).show()}),z.on(window,Fw,()=>{for(const _ of $.find(jw))li.getOrCreateInstance(_)}),J(li);const ms=".bs.toast",Bw=`mouseover${ms}`,Hw=`mouseout${ms}`,qw=`focusin${ms}`,Ww=`focusout${ms}`,zw=`hide${ms}`,Kw=`hidden${ms}`,Gw=`show${ms}`,Qw=`shown${ms}`,sp="hide",Hc="show",qc="showing",Jw={animation:"boolean",autohide:"boolean",delay:"number"},Yw={animation:!0,autohide:!0,delay:5e3};class aa extends ut{constructor(l,d){super(l,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Yw}static get DefaultType(){return Jw}static get NAME(){return"toast"}show(){z.trigger(this._element,Gw).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(sp),y(this._element),this._element.classList.add(Hc,qc),this._queueCallback(()=>{this._element.classList.remove(qc),z.trigger(this._element,Qw),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(z.trigger(this._element,zw).defaultPrevented||(this._element.classList.add(qc),this._queueCallback(()=>{this._element.classList.add(sp),this._element.classList.remove(qc,Hc),z.trigger(this._element,Kw)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Hc),super.dispose()}isShown(){return this._element.classList.contains(Hc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,d){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=d;break;case"focusin":case"focusout":this._hasKeyboardInteraction=d}if(d)return void this._clearTimeout();const E=l.relatedTarget;this._element===E||this._element.contains(E)||this._maybeScheduleHide()}_setListeners(){z.on(this._element,Bw,l=>this._onInteraction(l,!0)),z.on(this._element,Hw,l=>this._onInteraction(l,!1)),z.on(this._element,qw,l=>this._onInteraction(l,!0)),z.on(this._element,Ww,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const d=aa.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0)throw new TypeError(`No method named "${l}"`);d[l](this)}})}}return ie(aa),J(aa),{Alert:A,Button:j,Carousel:Dr,Collapse:pn,Dropdown:Bt,Modal:ii,Offcanvas:$r,Popover:Bc,ScrollSpy:oa,Tab:li,Toast:aa,Tooltip:oi}})}(wl)),wl.exports}MD();const Pd=RI(DD);Pd.use(kI());Pd.use(UE);const FD=Ou();FD.fetchUser();Pd.mount("#app");export{zD as A,yt as B,Ff as C,yk as D,QD as E,Cn as F,bk as G,CO as H,b_ as I,Gn as J,Rf as K,cu as L,J_ as M,ob as N,ic as O,al as P,kf as Q,WD as R,Yc as S,uo as T,BD as U,jD as V,Cd as _,X as a,be as b,er as c,JD as d,Pn as e,Nh as f,Zi as g,Ge as h,$D as i,$a as j,RO as k,Dp as l,_s as m,Ma as n,Sn as o,UD as p,Aa as q,ba as r,qD as s,vf as t,Ou as u,HD as v,Ke as w,yf as x,R_ as y,KD as z};
